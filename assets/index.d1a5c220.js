var n3=Object.defineProperty;var r3=(t,e,n)=>e in t?n3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Oe=(t,e,n)=>(r3(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const S of c.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&r(S)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerpolicy&&(c.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?c.credentials="include":s.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();var _a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function o1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function i3(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var z={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vo=Symbol.for("react.element"),s3=Symbol.for("react.portal"),a3=Symbol.for("react.fragment"),o3=Symbol.for("react.strict_mode"),l3=Symbol.for("react.profiler"),u3=Symbol.for("react.provider"),c3=Symbol.for("react.context"),f3=Symbol.for("react.forward_ref"),h3=Symbol.for("react.suspense"),d3=Symbol.for("react.memo"),p3=Symbol.for("react.lazy"),Zm=Symbol.iterator;function g3(t){return t===null||typeof t!="object"?null:(t=Zm&&t[Zm]||t["@@iterator"],typeof t=="function"?t:null)}var l1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u1=Object.assign,c1={};function Js(t,e,n){this.props=t,this.context=e,this.refs=c1,this.updater=n||l1}Js.prototype.isReactComponent={};Js.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Js.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function f1(){}f1.prototype=Js.prototype;function gd(t,e,n){this.props=t,this.context=e,this.refs=c1,this.updater=n||l1}var md=gd.prototype=new f1;md.constructor=gd;u1(md,Js.prototype);md.isPureReactComponent=!0;var Qm=Array.isArray,h1=Object.prototype.hasOwnProperty,vd={current:null},d1={key:!0,ref:!0,__self:!0,__source:!0};function p1(t,e,n){var r,s={},c=null,S=null;if(e!=null)for(r in e.ref!==void 0&&(S=e.ref),e.key!==void 0&&(c=""+e.key),e)h1.call(e,r)&&!d1.hasOwnProperty(r)&&(s[r]=e[r]);var f=arguments.length-2;if(f===1)s.children=n;else if(1<f){for(var i=Array(f),h=0;h<f;h++)i[h]=arguments[h+2];s.children=i}if(t&&t.defaultProps)for(r in f=t.defaultProps,f)s[r]===void 0&&(s[r]=f[r]);return{$$typeof:vo,type:t,key:c,ref:S,props:s,_owner:vd.current}}function m3(t,e){return{$$typeof:vo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yd(t){return typeof t=="object"&&t!==null&&t.$$typeof===vo}function v3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jm=/\/+/g;function wf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?v3(""+t.key):e.toString(36)}function jl(t,e,n,r,s){var c=typeof t;(c==="undefined"||c==="boolean")&&(t=null);var S=!1;if(t===null)S=!0;else switch(c){case"string":case"number":S=!0;break;case"object":switch(t.$$typeof){case vo:case s3:S=!0}}if(S)return S=t,s=s(S),t=r===""?"."+wf(S,0):r,Qm(s)?(n="",t!=null&&(n=t.replace(Jm,"$&/")+"/"),jl(s,e,n,"",function(h){return h})):s!=null&&(yd(s)&&(s=m3(s,n+(!s.key||S&&S.key===s.key?"":(""+s.key).replace(Jm,"$&/")+"/")+t)),e.push(s)),1;if(S=0,r=r===""?".":r+":",Qm(t))for(var f=0;f<t.length;f++){c=t[f];var i=r+wf(c,f);S+=jl(c,e,n,i,s)}else if(i=g3(t),typeof i=="function")for(t=i.call(t),f=0;!(c=t.next()).done;)c=c.value,i=r+wf(c,f++),S+=jl(c,e,n,i,s);else if(c==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return S}function dl(t,e,n){if(t==null)return t;var r=[],s=0;return jl(t,r,"","",function(c){return e.call(n,c,s++)}),r}function y3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jt={current:null},zl={transition:null},w3={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:zl,ReactCurrentOwner:vd};Ye.Children={map:dl,forEach:function(t,e,n){dl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dl(t,function(){e++}),e},toArray:function(t){return dl(t,function(e){return e})||[]},only:function(t){if(!yd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ye.Component=Js;Ye.Fragment=a3;Ye.Profiler=l3;Ye.PureComponent=gd;Ye.StrictMode=o3;Ye.Suspense=h3;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w3;Ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=u1({},t.props),s=t.key,c=t.ref,S=t._owner;if(e!=null){if(e.ref!==void 0&&(c=e.ref,S=vd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var f=t.type.defaultProps;for(i in e)h1.call(e,i)&&!d1.hasOwnProperty(i)&&(r[i]=e[i]===void 0&&f!==void 0?f[i]:e[i])}var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){f=Array(i);for(var h=0;h<i;h++)f[h]=arguments[h+2];r.children=f}return{$$typeof:vo,type:t.type,key:s,ref:c,props:r,_owner:S}};Ye.createContext=function(t){return t={$$typeof:c3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:u3,_context:t},t.Consumer=t};Ye.createElement=p1;Ye.createFactory=function(t){var e=p1.bind(null,t);return e.type=t,e};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(t){return{$$typeof:f3,render:t}};Ye.isValidElement=yd;Ye.lazy=function(t){return{$$typeof:p3,_payload:{_status:-1,_result:t},_init:y3}};Ye.memo=function(t,e){return{$$typeof:d3,type:t,compare:e===void 0?null:e}};Ye.startTransition=function(t){var e=zl.transition;zl.transition={};try{t()}finally{zl.transition=e}};Ye.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ye.useCallback=function(t,e){return Jt.current.useCallback(t,e)};Ye.useContext=function(t){return Jt.current.useContext(t)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(t){return Jt.current.useDeferredValue(t)};Ye.useEffect=function(t,e){return Jt.current.useEffect(t,e)};Ye.useId=function(){return Jt.current.useId()};Ye.useImperativeHandle=function(t,e,n){return Jt.current.useImperativeHandle(t,e,n)};Ye.useInsertionEffect=function(t,e){return Jt.current.useInsertionEffect(t,e)};Ye.useLayoutEffect=function(t,e){return Jt.current.useLayoutEffect(t,e)};Ye.useMemo=function(t,e){return Jt.current.useMemo(t,e)};Ye.useReducer=function(t,e,n){return Jt.current.useReducer(t,e,n)};Ye.useRef=function(t){return Jt.current.useRef(t)};Ye.useState=function(t){return Jt.current.useState(t)};Ye.useSyncExternalStore=function(t,e,n){return Jt.current.useSyncExternalStore(t,e,n)};Ye.useTransition=function(){return Jt.current.useTransition()};Ye.version="18.2.0";(function(t){t.exports=Ye})(z);const ea=o1(z.exports);var oh={},g1={exports:{}},En={},m1={exports:{}},v1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,P){var R=ee.length;ee.push(P);e:for(;0<R;){var I=R-1>>>1,N=ee[I];if(0<s(N,P))ee[I]=P,ee[R]=N,R=I;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var P=ee[0],R=ee.pop();if(R!==P){ee[0]=R;e:for(var I=0,N=ee.length,Q=N>>>1;I<Q;){var F=2*(I+1)-1,M=ee[F],V=F+1,q=ee[V];if(0>s(M,R))V<N&&0>s(q,M)?(ee[I]=q,ee[V]=R,I=V):(ee[I]=M,ee[F]=R,I=F);else if(V<N&&0>s(q,R))ee[I]=q,ee[V]=R,I=V;else break e}}return P}function s(ee,P){var R=ee.sortIndex-P.sortIndex;return R!==0?R:ee.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var S=Date,f=S.now();t.unstable_now=function(){return S.now()-f}}var i=[],h=[],g=1,a=null,u=3,l=!1,d=!1,y=!1,p=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(ee){for(var P=n(h);P!==null;){if(P.callback===null)r(h);else if(P.startTime<=ee)r(h),P.sortIndex=P.expirationTime,e(i,P);else break;P=n(h)}}function x(ee){if(y=!1,C(ee),!d)if(n(i)!==null)d=!0,Ce(b);else{var P=n(h);P!==null&&be(x,P.startTime-ee)}}function b(ee,P){d=!1,y&&(y=!1,v(D),D=-1),l=!0;var R=u;try{for(C(P),a=n(i);a!==null&&(!(a.expirationTime>P)||ee&&!$());){var I=a.callback;if(typeof I=="function"){a.callback=null,u=a.priorityLevel;var N=I(a.expirationTime<=P);P=t.unstable_now(),typeof N=="function"?a.callback=N:a===n(i)&&r(i),C(P)}else r(i);a=n(i)}if(a!==null)var Q=!0;else{var F=n(h);F!==null&&be(x,F.startTime-P),Q=!1}return Q}finally{a=null,u=R,l=!1}}var E=!1,k=null,D=-1,B=5,W=-1;function $(){return!(t.unstable_now()-W<B)}function re(){if(k!==null){var ee=t.unstable_now();W=ee;var P=!0;try{P=k(!0,ee)}finally{P?Z():(E=!1,k=null)}}else E=!1}var Z;if(typeof w=="function")Z=function(){w(re)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ue=se.port2;se.port1.onmessage=re,Z=function(){ue.postMessage(null)}}else Z=function(){p(re,0)};function Ce(ee){k=ee,E||(E=!0,Z())}function be(ee,P){D=p(function(){ee(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){d||l||(d=!0,Ce(b))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_getFirstCallbackNode=function(){return n(i)},t.unstable_next=function(ee){switch(u){case 1:case 2:case 3:var P=3;break;default:P=u}var R=u;u=P;try{return ee()}finally{u=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,P){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var R=u;u=ee;try{return P()}finally{u=R}},t.unstable_scheduleCallback=function(ee,P,R){var I=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?I+R:I):R=I,ee){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=R+N,ee={id:g++,callback:P,priorityLevel:ee,startTime:R,expirationTime:N,sortIndex:-1},R>I?(ee.sortIndex=R,e(h,ee),n(i)===null&&ee===n(h)&&(y?(v(D),D=-1):y=!0,be(x,R-I))):(ee.sortIndex=N,e(i,ee),d||l||(d=!0,Ce(b))),ee},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(ee){var P=u;return function(){var R=u;u=P;try{return ee.apply(this,arguments)}finally{u=R}}}})(v1);(function(t){t.exports=v1})(m1);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1=z.exports,xn=m1.exports;function Se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w1=new Set,Ka={};function Ji(t,e){Ws(t,e),Ws(t+"Capture",e)}function Ws(t,e){for(Ka[t]=e,t=0;t<e.length;t++)w1.add(e[t])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lh=Object.prototype.hasOwnProperty,S3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ev={},tv={};function C3(t){return lh.call(tv,t)?!0:lh.call(ev,t)?!1:S3.test(t)?tv[t]=!0:(ev[t]=!0,!1)}function _3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x3(t,e,n,r){if(e===null||typeof e>"u"||_3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function en(t,e,n,r,s,c,S){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=c,this.removeEmptyString=S}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new en(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new en(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new en(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new en(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new en(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new en(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new en(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new en(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new en(t,5,!1,t.toLowerCase(),null,!1,!1)});var wd=/[\-:]([a-z])/g;function Sd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wd,Sd);jt[e]=new en(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wd,Sd);jt[e]=new en(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wd,Sd);jt[e]=new en(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new en(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new en(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cd(t,e,n,r){var s=jt.hasOwnProperty(e)?jt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(x3(e,n,s,r)&&(n=null),r||s===null?C3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xr=y1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pl=Symbol.for("react.element"),Cs=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),_d=Symbol.for("react.strict_mode"),uh=Symbol.for("react.profiler"),S1=Symbol.for("react.provider"),C1=Symbol.for("react.context"),xd=Symbol.for("react.forward_ref"),ch=Symbol.for("react.suspense"),fh=Symbol.for("react.suspense_list"),bd=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),_1=Symbol.for("react.offscreen"),nv=Symbol.iterator;function xa(t){return t===null||typeof t!="object"?null:(t=nv&&t[nv]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,Sf;function Ra(t){if(Sf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sf=e&&e[1]||""}return`
`+Sf+t}var Cf=!1;function _f(t,e){if(!t||Cf)return"";Cf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),c=r.stack.split(`
`),S=s.length-1,f=c.length-1;1<=S&&0<=f&&s[S]!==c[f];)f--;for(;1<=S&&0<=f;S--,f--)if(s[S]!==c[f]){if(S!==1||f!==1)do if(S--,f--,0>f||s[S]!==c[f]){var i=`
`+s[S].replace(" at new "," at ");return t.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",t.displayName)),i}while(1<=S&&0<=f);break}}}finally{Cf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ra(t):""}function b3(t){switch(t.tag){case 5:return Ra(t.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 2:case 15:return t=_f(t.type,!1),t;case 11:return t=_f(t.type.render,!1),t;case 1:return t=_f(t.type,!0),t;default:return""}}function hh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _s:return"Fragment";case Cs:return"Portal";case uh:return"Profiler";case _d:return"StrictMode";case ch:return"Suspense";case fh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C1:return(t.displayName||"Context")+".Consumer";case S1:return(t._context.displayName||"Context")+".Provider";case xd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bd:return e=t.displayName||null,e!==null?e:hh(t.type)||"Memo";case ii:e=t._payload,t=t._init;try{return hh(t(e))}catch{}}return null}function T3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hh(e);case 8:return e===_d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function x1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function E3(t){var e=x1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,c=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(S){r=""+S,c.call(this,S)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(S){r=""+S},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gl(t){t._valueTracker||(t._valueTracker=E3(t))}function b1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=x1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function eu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dh(t,e){var n=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function rv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Si(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function T1(t,e){e=e.checked,e!=null&&Cd(t,"checked",e,!1)}function ph(t,e){T1(t,e);var n=Si(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gh(t,e.type,n):e.hasOwnProperty("defaultValue")&&gh(t,e.type,Si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gh(t,e,n){(e!=="number"||eu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ia=Array.isArray;function Ds(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Si(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function mh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Se(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Se(92));if(Ia(n)){if(1<n.length)throw Error(Se(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Si(n)}}function E1(t,e){var n=Si(e.value),r=Si(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function av(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function O1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?O1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ml,P1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ml=ml||document.createElement("div"),ml.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ml.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O3=["Webkit","ms","Moz","O"];Object.keys(ja).forEach(function(t){O3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ja[e]=ja[t]})});function k1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ja.hasOwnProperty(t)&&ja[t]?(""+e).trim():e+"px"}function L1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=k1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var P3=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yh(t,e){if(e){if(P3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Se(62))}}function wh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sh=null;function Td(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ch=null,Rs=null,Is=null;function ov(t){if(t=So(t)){if(typeof Ch!="function")throw Error(Se(280));var e=t.stateNode;e&&(e=Bu(e),Ch(t.stateNode,t.type,e))}}function M1(t){Rs?Is?Is.push(t):Is=[t]:Rs=t}function A1(){if(Rs){var t=Rs,e=Is;if(Is=Rs=null,ov(t),e)for(t=0;t<e.length;t++)ov(e[t])}}function D1(t,e){return t(e)}function R1(){}var xf=!1;function I1(t,e,n){if(xf)return t(e,n);xf=!0;try{return D1(t,e,n)}finally{xf=!1,(Rs!==null||Is!==null)&&(R1(),A1())}}function Za(t,e){var n=t.stateNode;if(n===null)return null;var r=Bu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Se(231,e,typeof n));return n}var _h=!1;if(Hr)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){_h=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{_h=!1}function k3(t,e,n,r,s,c,S,f,i){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(g){this.onError(g)}}var za=!1,tu=null,nu=!1,xh=null,L3={onError:function(t){za=!0,tu=t}};function M3(t,e,n,r,s,c,S,f,i){za=!1,tu=null,k3.apply(L3,arguments)}function A3(t,e,n,r,s,c,S,f,i){if(M3.apply(this,arguments),za){if(za){var h=tu;za=!1,tu=null}else throw Error(Se(198));nu||(nu=!0,xh=h)}}function es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function F1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lv(t){if(es(t)!==t)throw Error(Se(188))}function D3(t){var e=t.alternate;if(!e){if(e=es(t),e===null)throw Error(Se(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var c=s.alternate;if(c===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===c.child){for(c=s.child;c;){if(c===n)return lv(s),t;if(c===r)return lv(s),e;c=c.sibling}throw Error(Se(188))}if(n.return!==r.return)n=s,r=c;else{for(var S=!1,f=s.child;f;){if(f===n){S=!0,n=s,r=c;break}if(f===r){S=!0,r=s,n=c;break}f=f.sibling}if(!S){for(f=c.child;f;){if(f===n){S=!0,n=c,r=s;break}if(f===r){S=!0,r=c,n=s;break}f=f.sibling}if(!S)throw Error(Se(189))}}if(n.alternate!==r)throw Error(Se(190))}if(n.tag!==3)throw Error(Se(188));return n.stateNode.current===n?t:e}function N1(t){return t=D3(t),t!==null?B1(t):null}function B1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=B1(t);if(e!==null)return e;t=t.sibling}return null}var j1=xn.unstable_scheduleCallback,uv=xn.unstable_cancelCallback,R3=xn.unstable_shouldYield,I3=xn.unstable_requestPaint,bt=xn.unstable_now,F3=xn.unstable_getCurrentPriorityLevel,Ed=xn.unstable_ImmediatePriority,z1=xn.unstable_UserBlockingPriority,ru=xn.unstable_NormalPriority,N3=xn.unstable_LowPriority,W1=xn.unstable_IdlePriority,Ru=null,Sr=null;function B3(t){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Ru,t,void 0,(t.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:W3,j3=Math.log,z3=Math.LN2;function W3(t){return t>>>=0,t===0?32:31-(j3(t)/z3|0)|0}var vl=64,yl=4194304;function Fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function iu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,c=t.pingedLanes,S=n&268435455;if(S!==0){var f=S&~s;f!==0?r=Fa(f):(c&=S,c!==0&&(r=Fa(c)))}else S=n&~s,S!==0?r=Fa(S):c!==0&&(r=Fa(c));if(r===0)return 0;if(e!==0&&e!==r&&(e&s)===0&&(s=r&-r,c=e&-e,s>=c||s===16&&(c&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nr(e),s=1<<n,r|=t[n],e&=~s;return r}function H3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,c=t.pendingLanes;0<c;){var S=31-nr(c),f=1<<S,i=s[S];i===-1?((f&n)===0||(f&r)!==0)&&(s[S]=H3(f,e)):i<=e&&(t.expiredLanes|=f),c&=~f}}function bh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H1(){var t=vl;return vl<<=1,(vl&4194240)===0&&(vl=64),t}function bf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nr(e),t[e]=n}function U3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-nr(n),c=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~c}}function Od(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var et=0;function V1(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var U1,Pd,G1,X1,Y1,Th=!1,wl=[],fi=null,hi=null,di=null,Qa=new Map,Ja=new Map,ai=[],G3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cv(t,e){switch(t){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Qa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ja.delete(e.pointerId)}}function Ta(t,e,n,r,s,c){return t===null||t.nativeEvent!==c?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:c,targetContainers:[s]},e!==null&&(e=So(e),e!==null&&Pd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function X3(t,e,n,r,s){switch(e){case"focusin":return fi=Ta(fi,t,e,n,r,s),!0;case"dragenter":return hi=Ta(hi,t,e,n,r,s),!0;case"mouseover":return di=Ta(di,t,e,n,r,s),!0;case"pointerover":var c=s.pointerId;return Qa.set(c,Ta(Qa.get(c)||null,t,e,n,r,s)),!0;case"gotpointercapture":return c=s.pointerId,Ja.set(c,Ta(Ja.get(c)||null,t,e,n,r,s)),!0}return!1}function $1(t){var e=ji(t.target);if(e!==null){var n=es(e);if(n!==null){if(e=n.tag,e===13){if(e=F1(n),e!==null){t.blockedOn=e,Y1(t.priority,function(){G1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Eh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sh=r,n.target.dispatchEvent(r),Sh=null}else return e=So(n),e!==null&&Pd(e),t.blockedOn=n,!1;e.shift()}return!0}function fv(t,e,n){Wl(t)&&n.delete(e)}function Y3(){Th=!1,fi!==null&&Wl(fi)&&(fi=null),hi!==null&&Wl(hi)&&(hi=null),di!==null&&Wl(di)&&(di=null),Qa.forEach(fv),Ja.forEach(fv)}function Ea(t,e){t.blockedOn===e&&(t.blockedOn=null,Th||(Th=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,Y3)))}function eo(t){function e(s){return Ea(s,t)}if(0<wl.length){Ea(wl[0],t);for(var n=1;n<wl.length;n++){var r=wl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fi!==null&&Ea(fi,t),hi!==null&&Ea(hi,t),di!==null&&Ea(di,t),Qa.forEach(e),Ja.forEach(e),n=0;n<ai.length;n++)r=ai[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ai.length&&(n=ai[0],n.blockedOn===null);)$1(n),n.blockedOn===null&&ai.shift()}var Fs=Xr.ReactCurrentBatchConfig,su=!0;function $3(t,e,n,r){var s=et,c=Fs.transition;Fs.transition=null;try{et=1,kd(t,e,n,r)}finally{et=s,Fs.transition=c}}function K3(t,e,n,r){var s=et,c=Fs.transition;Fs.transition=null;try{et=4,kd(t,e,n,r)}finally{et=s,Fs.transition=c}}function kd(t,e,n,r){if(su){var s=Eh(t,e,n,r);if(s===null)Rf(t,e,r,au,n),cv(t,r);else if(X3(s,t,e,n,r))r.stopPropagation();else if(cv(t,r),e&4&&-1<G3.indexOf(t)){for(;s!==null;){var c=So(s);if(c!==null&&U1(c),c=Eh(t,e,n,r),c===null&&Rf(t,e,r,au,n),c===s)break;s=c}s!==null&&r.stopPropagation()}else Rf(t,e,r,null,n)}}var au=null;function Eh(t,e,n,r){if(au=null,t=Td(r),t=ji(t),t!==null)if(e=es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=F1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return au=t,null}function K1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F3()){case Ed:return 1;case z1:return 4;case ru:case N3:return 16;case W1:return 536870912;default:return 16}default:return 16}}var li=null,Ld=null,Hl=null;function q1(){if(Hl)return Hl;var t,e=Ld,n=e.length,r,s="value"in li?li.value:li.textContent,c=s.length;for(t=0;t<n&&e[t]===s[t];t++);var S=n-t;for(r=1;r<=S&&e[n-r]===s[c-r];r++);return Hl=s.slice(t,1<r?1-r:void 0)}function Vl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sl(){return!0}function hv(){return!1}function On(t){function e(n,r,s,c,S){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=c,this.target=S,this.currentTarget=null;for(var f in t)t.hasOwnProperty(f)&&(n=t[f],this[f]=n?n(c):c[f]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Sl:hv,this.isPropagationStopped=hv,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),e}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Md=On(ta),wo=gt({},ta,{view:0,detail:0}),q3=On(wo),Tf,Ef,Oa,Iu=gt({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ad,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oa&&(Oa&&t.type==="mousemove"?(Tf=t.screenX-Oa.screenX,Ef=t.screenY-Oa.screenY):Ef=Tf=0,Oa=t),Tf)},movementY:function(t){return"movementY"in t?t.movementY:Ef}}),dv=On(Iu),Z3=gt({},Iu,{dataTransfer:0}),Q3=On(Z3),J3=gt({},wo,{relatedTarget:0}),Of=On(J3),e4=gt({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),t4=On(e4),n4=gt({},ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r4=On(n4),i4=gt({},ta,{data:0}),pv=On(i4),s4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=o4[t])?!!e[t]:!1}function Ad(){return l4}var u4=gt({},wo,{key:function(t){if(t.key){var e=s4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ad,charCode:function(t){return t.type==="keypress"?Vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),c4=On(u4),f4=gt({},Iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gv=On(f4),h4=gt({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ad}),d4=On(h4),p4=gt({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),g4=On(p4),m4=gt({},Iu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v4=On(m4),y4=[9,13,27,32],Dd=Hr&&"CompositionEvent"in window,Wa=null;Hr&&"documentMode"in document&&(Wa=document.documentMode);var w4=Hr&&"TextEvent"in window&&!Wa,Z1=Hr&&(!Dd||Wa&&8<Wa&&11>=Wa),mv=String.fromCharCode(32),vv=!1;function Q1(t,e){switch(t){case"keyup":return y4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function S4(t,e){switch(t){case"compositionend":return J1(e);case"keypress":return e.which!==32?null:(vv=!0,mv);case"textInput":return t=e.data,t===mv&&vv?null:t;default:return null}}function C4(t,e){if(xs)return t==="compositionend"||!Dd&&Q1(t,e)?(t=q1(),Hl=Ld=li=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z1&&e.locale!=="ko"?null:e.data;default:return null}}var _4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_4[t.type]:e==="textarea"}function ey(t,e,n,r){M1(r),e=ou(e,"onChange"),0<e.length&&(n=new Md("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ha=null,to=null;function x4(t){fy(t,0)}function Fu(t){var e=Es(t);if(b1(e))return t}function b4(t,e){if(t==="change")return e}var ty=!1;if(Hr){var Pf;if(Hr){var kf="oninput"in document;if(!kf){var wv=document.createElement("div");wv.setAttribute("oninput","return;"),kf=typeof wv.oninput=="function"}Pf=kf}else Pf=!1;ty=Pf&&(!document.documentMode||9<document.documentMode)}function Sv(){Ha&&(Ha.detachEvent("onpropertychange",ny),to=Ha=null)}function ny(t){if(t.propertyName==="value"&&Fu(to)){var e=[];ey(e,to,t,Td(t)),I1(x4,e)}}function T4(t,e,n){t==="focusin"?(Sv(),Ha=e,to=n,Ha.attachEvent("onpropertychange",ny)):t==="focusout"&&Sv()}function E4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(to)}function O4(t,e){if(t==="click")return Fu(e)}function P4(t,e){if(t==="input"||t==="change")return Fu(e)}function k4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sr=typeof Object.is=="function"?Object.is:k4;function no(t,e){if(sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!lh.call(e,s)||!sr(t[s],e[s]))return!1}return!0}function Cv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _v(t,e){var n=Cv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cv(n)}}function ry(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ry(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iy(){for(var t=window,e=eu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=eu(t.document)}return e}function Rd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function L4(t){var e=iy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ry(n.ownerDocument.documentElement,n)){if(r!==null&&Rd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,c=Math.min(r.start,s);r=r.end===void 0?c:Math.min(r.end,s),!t.extend&&c>r&&(s=r,r=c,c=s),s=_v(n,c);var S=_v(n,r);s&&S&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==S.node||t.focusOffset!==S.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),c>r?(t.addRange(e),t.extend(S.node,S.offset)):(e.setEnd(S.node,S.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var M4=Hr&&"documentMode"in document&&11>=document.documentMode,bs=null,Oh=null,Va=null,Ph=!1;function xv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ph||bs==null||bs!==eu(r)||(r=bs,"selectionStart"in r&&Rd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Va&&no(Va,r)||(Va=r,r=ou(Oh,"onSelect"),0<r.length&&(e=new Md("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bs)))}function Cl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ts={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},Lf={},sy={};Hr&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Nu(t){if(Lf[t])return Lf[t];if(!Ts[t])return t;var e=Ts[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sy)return Lf[t]=e[n];return t}var ay=Nu("animationend"),oy=Nu("animationiteration"),ly=Nu("animationstart"),uy=Nu("transitionend"),cy=new Map,bv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(t,e){cy.set(t,e),Ji(e,[t])}for(var Mf=0;Mf<bv.length;Mf++){var Af=bv[Mf],A4=Af.toLowerCase(),D4=Af[0].toUpperCase()+Af.slice(1);xi(A4,"on"+D4)}xi(ay,"onAnimationEnd");xi(oy,"onAnimationIteration");xi(ly,"onAnimationStart");xi("dblclick","onDoubleClick");xi("focusin","onFocus");xi("focusout","onBlur");xi(uy,"onTransitionEnd");Ws("onMouseEnter",["mouseout","mouseover"]);Ws("onMouseLeave",["mouseout","mouseover"]);Ws("onPointerEnter",["pointerout","pointerover"]);Ws("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function Tv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,A3(r,e,void 0,t),t.currentTarget=null}function fy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var c=void 0;if(e)for(var S=r.length-1;0<=S;S--){var f=r[S],i=f.instance,h=f.currentTarget;if(f=f.listener,i!==c&&s.isPropagationStopped())break e;Tv(s,f,h),c=i}else for(S=0;S<r.length;S++){if(f=r[S],i=f.instance,h=f.currentTarget,f=f.listener,i!==c&&s.isPropagationStopped())break e;Tv(s,f,h),c=i}}}if(nu)throw t=xh,nu=!1,xh=null,t}function at(t,e){var n=e[Dh];n===void 0&&(n=e[Dh]=new Set);var r=t+"__bubble";n.has(r)||(hy(e,t,2,!1),n.add(r))}function Df(t,e,n){var r=0;e&&(r|=4),hy(n,t,r,e)}var _l="_reactListening"+Math.random().toString(36).slice(2);function ro(t){if(!t[_l]){t[_l]=!0,w1.forEach(function(n){n!=="selectionchange"&&(R4.has(n)||Df(n,!1,t),Df(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_l]||(e[_l]=!0,Df("selectionchange",!1,e))}}function hy(t,e,n,r){switch(K1(e)){case 1:var s=$3;break;case 4:s=K3;break;default:s=kd}n=s.bind(null,e,n,t),s=void 0,!_h||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Rf(t,e,n,r,s){var c=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var S=r.tag;if(S===3||S===4){var f=r.stateNode.containerInfo;if(f===s||f.nodeType===8&&f.parentNode===s)break;if(S===4)for(S=r.return;S!==null;){var i=S.tag;if((i===3||i===4)&&(i=S.stateNode.containerInfo,i===s||i.nodeType===8&&i.parentNode===s))return;S=S.return}for(;f!==null;){if(S=ji(f),S===null)return;if(i=S.tag,i===5||i===6){r=c=S;continue e}f=f.parentNode}}r=r.return}I1(function(){var h=c,g=Td(n),a=[];e:{var u=cy.get(t);if(u!==void 0){var l=Md,d=t;switch(t){case"keypress":if(Vl(n)===0)break e;case"keydown":case"keyup":l=c4;break;case"focusin":d="focus",l=Of;break;case"focusout":d="blur",l=Of;break;case"beforeblur":case"afterblur":l=Of;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Q3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=d4;break;case ay:case oy:case ly:l=t4;break;case uy:l=g4;break;case"scroll":l=q3;break;case"wheel":l=v4;break;case"copy":case"cut":case"paste":l=r4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=gv}var y=(e&4)!==0,p=!y&&t==="scroll",v=y?u!==null?u+"Capture":null:u;y=[];for(var w=h,C;w!==null;){C=w;var x=C.stateNode;if(C.tag===5&&x!==null&&(C=x,v!==null&&(x=Za(w,v),x!=null&&y.push(io(w,x,C)))),p)break;w=w.return}0<y.length&&(u=new l(u,d,null,n,g),a.push({event:u,listeners:y}))}}if((e&7)===0){e:{if(u=t==="mouseover"||t==="pointerover",l=t==="mouseout"||t==="pointerout",u&&n!==Sh&&(d=n.relatedTarget||n.fromElement)&&(ji(d)||d[Vr]))break e;if((l||u)&&(u=g.window===g?g:(u=g.ownerDocument)?u.defaultView||u.parentWindow:window,l?(d=n.relatedTarget||n.toElement,l=h,d=d?ji(d):null,d!==null&&(p=es(d),d!==p||d.tag!==5&&d.tag!==6)&&(d=null)):(l=null,d=h),l!==d)){if(y=dv,x="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=gv,x="onPointerLeave",v="onPointerEnter",w="pointer"),p=l==null?u:Es(l),C=d==null?u:Es(d),u=new y(x,w+"leave",l,n,g),u.target=p,u.relatedTarget=C,x=null,ji(g)===h&&(y=new y(v,w+"enter",d,n,g),y.target=C,y.relatedTarget=p,x=y),p=x,l&&d)t:{for(y=l,v=d,w=0,C=y;C;C=ms(C))w++;for(C=0,x=v;x;x=ms(x))C++;for(;0<w-C;)y=ms(y),w--;for(;0<C-w;)v=ms(v),C--;for(;w--;){if(y===v||v!==null&&y===v.alternate)break t;y=ms(y),v=ms(v)}y=null}else y=null;l!==null&&Ev(a,u,l,y,!1),d!==null&&p!==null&&Ev(a,p,d,y,!0)}}e:{if(u=h?Es(h):window,l=u.nodeName&&u.nodeName.toLowerCase(),l==="select"||l==="input"&&u.type==="file")var b=b4;else if(yv(u))if(ty)b=P4;else{b=E4;var E=T4}else(l=u.nodeName)&&l.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(b=O4);if(b&&(b=b(t,h))){ey(a,b,n,g);break e}E&&E(t,u,h),t==="focusout"&&(E=u._wrapperState)&&E.controlled&&u.type==="number"&&gh(u,"number",u.value)}switch(E=h?Es(h):window,t){case"focusin":(yv(E)||E.contentEditable==="true")&&(bs=E,Oh=h,Va=null);break;case"focusout":Va=Oh=bs=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,xv(a,n,g);break;case"selectionchange":if(M4)break;case"keydown":case"keyup":xv(a,n,g)}var k;if(Dd)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else xs?Q1(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Z1&&n.locale!=="ko"&&(xs||D!=="onCompositionStart"?D==="onCompositionEnd"&&xs&&(k=q1()):(li=g,Ld="value"in li?li.value:li.textContent,xs=!0)),E=ou(h,D),0<E.length&&(D=new pv(D,t,null,n,g),a.push({event:D,listeners:E}),k?D.data=k:(k=J1(n),k!==null&&(D.data=k)))),(k=w4?S4(t,n):C4(t,n))&&(h=ou(h,"onBeforeInput"),0<h.length&&(g=new pv("onBeforeInput","beforeinput",null,n,g),a.push({event:g,listeners:h}),g.data=k))}fy(a,e)})}function io(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ou(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,c=s.stateNode;s.tag===5&&c!==null&&(s=c,c=Za(t,n),c!=null&&r.unshift(io(t,c,s)),c=Za(t,e),c!=null&&r.push(io(t,c,s))),t=t.return}return r}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ev(t,e,n,r,s){for(var c=e._reactName,S=[];n!==null&&n!==r;){var f=n,i=f.alternate,h=f.stateNode;if(i!==null&&i===r)break;f.tag===5&&h!==null&&(f=h,s?(i=Za(n,c),i!=null&&S.unshift(io(n,i,f))):s||(i=Za(n,c),i!=null&&S.push(io(n,i,f)))),n=n.return}S.length!==0&&t.push({event:e,listeners:S})}var I4=/\r\n?/g,F4=/\u0000|\uFFFD/g;function Ov(t){return(typeof t=="string"?t:""+t).replace(I4,`
`).replace(F4,"")}function xl(t,e,n){if(e=Ov(e),Ov(t)!==e&&n)throw Error(Se(425))}function lu(){}var kh=null,Lh=null;function Mh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ah=typeof setTimeout=="function"?setTimeout:void 0,N4=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,B4=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(t){return Pv.resolve(null).then(t).catch(j4)}:Ah;function j4(t){setTimeout(function(){throw t})}function If(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),eo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);eo(e)}function pi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var na=Math.random().toString(36).slice(2),mr="__reactFiber$"+na,so="__reactProps$"+na,Vr="__reactContainer$"+na,Dh="__reactEvents$"+na,z4="__reactListeners$"+na,W4="__reactHandles$"+na;function ji(t){var e=t[mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vr]||n[mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kv(t);t!==null;){if(n=t[mr])return n;t=kv(t)}return e}t=n,n=t.parentNode}return null}function So(t){return t=t[mr]||t[Vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Se(33))}function Bu(t){return t[so]||null}var Rh=[],Os=-1;function bi(t){return{current:t}}function ot(t){0>Os||(t.current=Rh[Os],Rh[Os]=null,Os--)}function it(t,e){Os++,Rh[Os]=t.current,t.current=e}var Ci={},Gt=bi(Ci),cn=bi(!1),Gi=Ci;function Hs(t,e){var n=t.type.contextTypes;if(!n)return Ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},c;for(c in n)s[c]=e[c];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function fn(t){return t=t.childContextTypes,t!=null}function uu(){ot(cn),ot(Gt)}function Lv(t,e,n){if(Gt.current!==Ci)throw Error(Se(168));it(Gt,e),it(cn,n)}function dy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Se(108,T3(t)||"Unknown",s));return gt({},n,r)}function cu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,Gi=Gt.current,it(Gt,t),it(cn,cn.current),!0}function Mv(t,e,n){var r=t.stateNode;if(!r)throw Error(Se(169));n?(t=dy(t,e,Gi),r.__reactInternalMemoizedMergedChildContext=t,ot(cn),ot(Gt),it(Gt,t)):ot(cn),it(cn,n)}var Nr=null,ju=!1,Ff=!1;function py(t){Nr===null?Nr=[t]:Nr.push(t)}function H4(t){ju=!0,py(t)}function Ti(){if(!Ff&&Nr!==null){Ff=!0;var t=0,e=et;try{var n=Nr;for(et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nr=null,ju=!1}catch(s){throw Nr!==null&&(Nr=Nr.slice(t+1)),j1(Ed,Ti),s}finally{et=e,Ff=!1}}return null}var Ps=[],ks=0,fu=null,hu=0,Bn=[],jn=0,Xi=null,Br=1,jr="";function Fi(t,e){Ps[ks++]=hu,Ps[ks++]=fu,fu=t,hu=e}function gy(t,e,n){Bn[jn++]=Br,Bn[jn++]=jr,Bn[jn++]=Xi,Xi=t;var r=Br;t=jr;var s=32-nr(r)-1;r&=~(1<<s),n+=1;var c=32-nr(e)+s;if(30<c){var S=s-s%5;c=(r&(1<<S)-1).toString(32),r>>=S,s-=S,Br=1<<32-nr(e)+s|n<<s|r,jr=c+t}else Br=1<<c|n<<s|r,jr=t}function Id(t){t.return!==null&&(Fi(t,1),gy(t,1,0))}function Fd(t){for(;t===fu;)fu=Ps[--ks],Ps[ks]=null,hu=Ps[--ks],Ps[ks]=null;for(;t===Xi;)Xi=Bn[--jn],Bn[jn]=null,jr=Bn[--jn],Bn[jn]=null,Br=Bn[--jn],Bn[jn]=null}var _n=null,Cn=null,ft=!1,er=null;function my(t,e){var n=zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Av(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_n=t,Cn=pi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_n=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xi!==null?{id:Br,overflow:jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_n=t,Cn=null,!0):!1;default:return!1}}function Ih(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fh(t){if(ft){var e=Cn;if(e){var n=e;if(!Av(t,e)){if(Ih(t))throw Error(Se(418));e=pi(n.nextSibling);var r=_n;e&&Av(t,e)?my(r,n):(t.flags=t.flags&-4097|2,ft=!1,_n=t)}}else{if(Ih(t))throw Error(Se(418));t.flags=t.flags&-4097|2,ft=!1,_n=t}}}function Dv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function bl(t){if(t!==_n)return!1;if(!ft)return Dv(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mh(t.type,t.memoizedProps)),e&&(e=Cn)){if(Ih(t))throw vy(),Error(Se(418));for(;e;)my(t,e),e=pi(e.nextSibling)}if(Dv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cn=pi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=_n?pi(t.stateNode.nextSibling):null;return!0}function vy(){for(var t=Cn;t;)t=pi(t.nextSibling)}function Vs(){Cn=_n=null,ft=!1}function Nd(t){er===null?er=[t]:er.push(t)}var V4=Xr.ReactCurrentBatchConfig;function Qn(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var du=bi(null),pu=null,Ls=null,Bd=null;function jd(){Bd=Ls=pu=null}function zd(t){var e=du.current;ot(du),t._currentValue=e}function Nh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ns(t,e){pu=t,Bd=Ls=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(un=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(Bd!==t)if(t={context:t,memoizedValue:e,next:null},Ls===null){if(pu===null)throw Error(Se(308));Ls=t,pu.dependencies={lanes:0,firstContext:t}}else Ls=Ls.next=t;return e}var zi=null;function Wd(t){zi===null?zi=[t]:zi.push(t)}function yy(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Wd(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ur(t,r)}function Ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var si=!1;function Hd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(qe&2)!==0){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ur(t,n)}return s=r.interleaved,s===null?(e.next=e,Wd(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ur(t,n)}function Ul(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Od(t,n)}}function Rv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var S={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?s=c=S:c=c.next=S,n=n.next}while(n!==null);c===null?s=c=e:c=c.next=e}else s=c=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:c,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gu(t,e,n,r){var s=t.updateQueue;si=!1;var c=s.firstBaseUpdate,S=s.lastBaseUpdate,f=s.shared.pending;if(f!==null){s.shared.pending=null;var i=f,h=i.next;i.next=null,S===null?c=h:S.next=h,S=i;var g=t.alternate;g!==null&&(g=g.updateQueue,f=g.lastBaseUpdate,f!==S&&(f===null?g.firstBaseUpdate=h:f.next=h,g.lastBaseUpdate=i))}if(c!==null){var a=s.baseState;S=0,g=h=i=null,f=c;do{var u=f.lane,l=f.eventTime;if((r&u)===u){g!==null&&(g=g.next={eventTime:l,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var d=t,y=f;switch(u=e,l=n,y.tag){case 1:if(d=y.payload,typeof d=="function"){a=d.call(l,a,u);break e}a=d;break e;case 3:d.flags=d.flags&-65537|128;case 0:if(d=y.payload,u=typeof d=="function"?d.call(l,a,u):d,u==null)break e;a=gt({},a,u);break e;case 2:si=!0}}f.callback!==null&&f.lane!==0&&(t.flags|=64,u=s.effects,u===null?s.effects=[f]:u.push(f))}else l={eventTime:l,lane:u,tag:f.tag,payload:f.payload,callback:f.callback,next:null},g===null?(h=g=l,i=a):g=g.next=l,S|=u;if(f=f.next,f===null){if(f=s.shared.pending,f===null)break;u=f,f=u.next,u.next=null,s.lastBaseUpdate=u,s.shared.pending=null}}while(1);if(g===null&&(i=a),s.baseState=i,s.firstBaseUpdate=h,s.lastBaseUpdate=g,e=s.shared.interleaved,e!==null){s=e;do S|=s.lane,s=s.next;while(s!==e)}else c===null&&(s.shared.lanes=0);$i|=S,t.lanes=S,t.memoizedState=a}}function Iv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Se(191,s));s.call(r)}}}var Sy=new y1.Component().refs;function Bh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zu={isMounted:function(t){return(t=t._reactInternals)?es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),s=vi(t),c=zr(r,s);c.payload=e,n!=null&&(c.callback=n),e=gi(t,c,s),e!==null&&(rr(e,t,s,r),Ul(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),s=vi(t),c=zr(r,s);c.tag=1,c.payload=e,n!=null&&(c.callback=n),e=gi(t,c,s),e!==null&&(rr(e,t,s,r),Ul(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=vi(t),s=zr(n,r);s.tag=2,e!=null&&(s.callback=e),e=gi(t,s,r),e!==null&&(rr(e,t,r,n),Ul(e,t,r))}};function Fv(t,e,n,r,s,c,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,c,S):e.prototype&&e.prototype.isPureReactComponent?!no(n,r)||!no(s,c):!0}function Cy(t,e,n){var r=!1,s=Ci,c=e.contextType;return typeof c=="object"&&c!==null?c=Hn(c):(s=fn(e)?Gi:Gt.current,r=e.contextTypes,c=(r=r!=null)?Hs(t,s):Ci),e=new e(n,c),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=c),e}function Nv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zu.enqueueReplaceState(e,e.state,null)}function jh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Sy,Hd(t);var c=e.contextType;typeof c=="object"&&c!==null?s.context=Hn(c):(c=fn(e)?Gi:Gt.current,s.context=Hs(t,c)),s.state=t.memoizedState,c=e.getDerivedStateFromProps,typeof c=="function"&&(Bh(t,e,c,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zu.enqueueReplaceState(s,s.state,null),gu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Pa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Se(309));var r=n.stateNode}if(!r)throw Error(Se(147,t));var s=r,c=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===c?e.ref:(e=function(S){var f=s.refs;f===Sy&&(f=s.refs={}),S===null?delete f[c]:f[c]=S},e._stringRef=c,e)}if(typeof t!="string")throw Error(Se(284));if(!n._owner)throw Error(Se(290,t))}return t}function Tl(t,e){throw t=Object.prototype.toString.call(e),Error(Se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bv(t){var e=t._init;return e(t._payload)}function _y(t){function e(v,w){if(t){var C=v.deletions;C===null?(v.deletions=[w],v.flags|=16):C.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=yi(v,w),v.index=0,v.sibling=null,v}function c(v,w,C){return v.index=C,t?(C=v.alternate,C!==null?(C=C.index,C<w?(v.flags|=2,w):C):(v.flags|=2,w)):(v.flags|=1048576,w)}function S(v){return t&&v.alternate===null&&(v.flags|=2),v}function f(v,w,C,x){return w===null||w.tag!==6?(w=Vf(C,v.mode,x),w.return=v,w):(w=s(w,C),w.return=v,w)}function i(v,w,C,x){var b=C.type;return b===_s?g(v,w,C.props.children,x,C.key):w!==null&&(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ii&&Bv(b)===w.type)?(x=s(w,C.props),x.ref=Pa(v,w,C),x.return=v,x):(x=ql(C.type,C.key,C.props,null,v.mode,x),x.ref=Pa(v,w,C),x.return=v,x)}function h(v,w,C,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=Uf(C,v.mode,x),w.return=v,w):(w=s(w,C.children||[]),w.return=v,w)}function g(v,w,C,x,b){return w===null||w.tag!==7?(w=Ui(C,v.mode,x,b),w.return=v,w):(w=s(w,C),w.return=v,w)}function a(v,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Vf(""+w,v.mode,C),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pl:return C=ql(w.type,w.key,w.props,null,v.mode,C),C.ref=Pa(v,null,w),C.return=v,C;case Cs:return w=Uf(w,v.mode,C),w.return=v,w;case ii:var x=w._init;return a(v,x(w._payload),C)}if(Ia(w)||xa(w))return w=Ui(w,v.mode,C,null),w.return=v,w;Tl(v,w)}return null}function u(v,w,C,x){var b=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return b!==null?null:f(v,w,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case pl:return C.key===b?i(v,w,C,x):null;case Cs:return C.key===b?h(v,w,C,x):null;case ii:return b=C._init,u(v,w,b(C._payload),x)}if(Ia(C)||xa(C))return b!==null?null:g(v,w,C,x,null);Tl(v,C)}return null}function l(v,w,C,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(C)||null,f(w,v,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case pl:return v=v.get(x.key===null?C:x.key)||null,i(w,v,x,b);case Cs:return v=v.get(x.key===null?C:x.key)||null,h(w,v,x,b);case ii:var E=x._init;return l(v,w,C,E(x._payload),b)}if(Ia(x)||xa(x))return v=v.get(C)||null,g(w,v,x,b,null);Tl(w,x)}return null}function d(v,w,C,x){for(var b=null,E=null,k=w,D=w=0,B=null;k!==null&&D<C.length;D++){k.index>D?(B=k,k=null):B=k.sibling;var W=u(v,k,C[D],x);if(W===null){k===null&&(k=B);break}t&&k&&W.alternate===null&&e(v,k),w=c(W,w,D),E===null?b=W:E.sibling=W,E=W,k=B}if(D===C.length)return n(v,k),ft&&Fi(v,D),b;if(k===null){for(;D<C.length;D++)k=a(v,C[D],x),k!==null&&(w=c(k,w,D),E===null?b=k:E.sibling=k,E=k);return ft&&Fi(v,D),b}for(k=r(v,k);D<C.length;D++)B=l(k,v,D,C[D],x),B!==null&&(t&&B.alternate!==null&&k.delete(B.key===null?D:B.key),w=c(B,w,D),E===null?b=B:E.sibling=B,E=B);return t&&k.forEach(function($){return e(v,$)}),ft&&Fi(v,D),b}function y(v,w,C,x){var b=xa(C);if(typeof b!="function")throw Error(Se(150));if(C=b.call(C),C==null)throw Error(Se(151));for(var E=b=null,k=w,D=w=0,B=null,W=C.next();k!==null&&!W.done;D++,W=C.next()){k.index>D?(B=k,k=null):B=k.sibling;var $=u(v,k,W.value,x);if($===null){k===null&&(k=B);break}t&&k&&$.alternate===null&&e(v,k),w=c($,w,D),E===null?b=$:E.sibling=$,E=$,k=B}if(W.done)return n(v,k),ft&&Fi(v,D),b;if(k===null){for(;!W.done;D++,W=C.next())W=a(v,W.value,x),W!==null&&(w=c(W,w,D),E===null?b=W:E.sibling=W,E=W);return ft&&Fi(v,D),b}for(k=r(v,k);!W.done;D++,W=C.next())W=l(k,v,D,W.value,x),W!==null&&(t&&W.alternate!==null&&k.delete(W.key===null?D:W.key),w=c(W,w,D),E===null?b=W:E.sibling=W,E=W);return t&&k.forEach(function(re){return e(v,re)}),ft&&Fi(v,D),b}function p(v,w,C,x){if(typeof C=="object"&&C!==null&&C.type===_s&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case pl:e:{for(var b=C.key,E=w;E!==null;){if(E.key===b){if(b=C.type,b===_s){if(E.tag===7){n(v,E.sibling),w=s(E,C.props.children),w.return=v,v=w;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ii&&Bv(b)===E.type){n(v,E.sibling),w=s(E,C.props),w.ref=Pa(v,E,C),w.return=v,v=w;break e}n(v,E);break}else e(v,E);E=E.sibling}C.type===_s?(w=Ui(C.props.children,v.mode,x,C.key),w.return=v,v=w):(x=ql(C.type,C.key,C.props,null,v.mode,x),x.ref=Pa(v,w,C),x.return=v,v=x)}return S(v);case Cs:e:{for(E=C.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(v,w.sibling),w=s(w,C.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Uf(C,v.mode,x),w.return=v,v=w}return S(v);case ii:return E=C._init,p(v,w,E(C._payload),x)}if(Ia(C))return d(v,w,C,x);if(xa(C))return y(v,w,C,x);Tl(v,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(v,w.sibling),w=s(w,C),w.return=v,v=w):(n(v,w),w=Vf(C,v.mode,x),w.return=v,v=w),S(v)):n(v,w)}return p}var Us=_y(!0),xy=_y(!1),Co={},Cr=bi(Co),ao=bi(Co),oo=bi(Co);function Wi(t){if(t===Co)throw Error(Se(174));return t}function Vd(t,e){switch(it(oo,e),it(ao,t),it(Cr,Co),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vh(e,t)}ot(Cr),it(Cr,e)}function Gs(){ot(Cr),ot(ao),ot(oo)}function by(t){Wi(oo.current);var e=Wi(Cr.current),n=vh(e,t.type);e!==n&&(it(ao,t),it(Cr,n))}function Ud(t){ao.current===t&&(ot(Cr),ot(ao))}var dt=bi(0);function mu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nf=[];function Gd(){for(var t=0;t<Nf.length;t++)Nf[t]._workInProgressVersionPrimary=null;Nf.length=0}var Gl=Xr.ReactCurrentDispatcher,Bf=Xr.ReactCurrentBatchConfig,Yi=0,pt=null,Pt=null,Mt=null,vu=!1,Ua=!1,lo=0,U4=0;function Ht(){throw Error(Se(321))}function Xd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function Yd(t,e,n,r,s,c){if(Yi=c,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gl.current=t===null||t.memoizedState===null?$4:K4,t=n(r,s),Ua){c=0;do{if(Ua=!1,lo=0,25<=c)throw Error(Se(301));c+=1,Mt=Pt=null,e.updateQueue=null,Gl.current=q4,t=n(r,s)}while(Ua)}if(Gl.current=yu,e=Pt!==null&&Pt.next!==null,Yi=0,Mt=Pt=pt=null,vu=!1,e)throw Error(Se(300));return t}function $d(){var t=lo!==0;return lo=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?pt.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function Vn(){if(Pt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var e=Mt===null?pt.memoizedState:Mt.next;if(e!==null)Mt=e,Pt=t;else{if(t===null)throw Error(Se(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Mt===null?pt.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function uo(t,e){return typeof e=="function"?e(t):e}function jf(t){var e=Vn(),n=e.queue;if(n===null)throw Error(Se(311));n.lastRenderedReducer=t;var r=Pt,s=r.baseQueue,c=n.pending;if(c!==null){if(s!==null){var S=s.next;s.next=c.next,c.next=S}r.baseQueue=s=c,n.pending=null}if(s!==null){c=s.next,r=r.baseState;var f=S=null,i=null,h=c;do{var g=h.lane;if((Yi&g)===g)i!==null&&(i=i.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var a={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};i===null?(f=i=a,S=r):i=i.next=a,pt.lanes|=g,$i|=g}h=h.next}while(h!==null&&h!==c);i===null?S=r:i.next=f,sr(r,e.memoizedState)||(un=!0),e.memoizedState=r,e.baseState=S,e.baseQueue=i,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do c=s.lane,pt.lanes|=c,$i|=c,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zf(t){var e=Vn(),n=e.queue;if(n===null)throw Error(Se(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,c=e.memoizedState;if(s!==null){n.pending=null;var S=s=s.next;do c=t(c,S.action),S=S.next;while(S!==s);sr(c,e.memoizedState)||(un=!0),e.memoizedState=c,e.baseQueue===null&&(e.baseState=c),n.lastRenderedState=c}return[c,r]}function Ty(){}function Ey(t,e){var n=pt,r=Vn(),s=e(),c=!sr(r.memoizedState,s);if(c&&(r.memoizedState=s,un=!0),r=r.queue,Kd(ky.bind(null,n,r,t),[t]),r.getSnapshot!==e||c||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,co(9,Py.bind(null,n,r,s,e),void 0,null),At===null)throw Error(Se(349));(Yi&30)!==0||Oy(n,e,s)}return s}function Oy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Py(t,e,n,r){e.value=n,e.getSnapshot=r,Ly(e)&&My(t)}function ky(t,e,n){return n(function(){Ly(e)&&My(t)})}function Ly(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch{return!0}}function My(t){var e=Ur(t,1);e!==null&&rr(e,t,1,-1)}function jv(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:t},e.queue=t,t=t.dispatch=Y4.bind(null,pt,t),[e.memoizedState,t]}function co(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ay(){return Vn().memoizedState}function Xl(t,e,n,r){var s=gr();pt.flags|=t,s.memoizedState=co(1|e,n,void 0,r===void 0?null:r)}function Wu(t,e,n,r){var s=Vn();r=r===void 0?null:r;var c=void 0;if(Pt!==null){var S=Pt.memoizedState;if(c=S.destroy,r!==null&&Xd(r,S.deps)){s.memoizedState=co(e,n,c,r);return}}pt.flags|=t,s.memoizedState=co(1|e,n,c,r)}function zv(t,e){return Xl(8390656,8,t,e)}function Kd(t,e){return Wu(2048,8,t,e)}function Dy(t,e){return Wu(4,2,t,e)}function Ry(t,e){return Wu(4,4,t,e)}function Iy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fy(t,e,n){return n=n!=null?n.concat([t]):null,Wu(4,4,Iy.bind(null,e,t),n)}function qd(){}function Ny(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function By(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jy(t,e,n){return(Yi&21)===0?(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=n):(sr(n,e)||(n=H1(),pt.lanes|=n,$i|=n,t.baseState=!0),e)}function G4(t,e){var n=et;et=n!==0&&4>n?n:4,t(!0);var r=Bf.transition;Bf.transition={};try{t(!1),e()}finally{et=n,Bf.transition=r}}function zy(){return Vn().memoizedState}function X4(t,e,n){var r=vi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wy(t))Hy(e,n);else if(n=yy(t,e,n,r),n!==null){var s=Qt();rr(n,t,r,s),Vy(n,e,r)}}function Y4(t,e,n){var r=vi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wy(t))Hy(e,s);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=e.lastRenderedReducer,c!==null))try{var S=e.lastRenderedState,f=c(S,n);if(s.hasEagerState=!0,s.eagerState=f,sr(f,S)){var i=e.interleaved;i===null?(s.next=s,Wd(e)):(s.next=i.next,i.next=s),e.interleaved=s;return}}catch{}finally{}n=yy(t,e,s,r),n!==null&&(s=Qt(),rr(n,t,r,s),Vy(n,e,r))}}function Wy(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function Hy(t,e){Ua=vu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vy(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Od(t,n)}}var yu={readContext:Hn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},$4={readContext:Hn,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:zv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xl(4194308,4,Iy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xl(4,2,t,e)},useMemo:function(t,e){var n=gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=X4.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:jv,useDebugValue:qd,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=jv(!1),e=t[0];return t=G4.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,s=gr();if(ft){if(n===void 0)throw Error(Se(407));n=n()}else{if(n=e(),At===null)throw Error(Se(349));(Yi&30)!==0||Oy(r,e,n)}s.memoizedState=n;var c={value:n,getSnapshot:e};return s.queue=c,zv(ky.bind(null,r,c,t),[t]),r.flags|=2048,co(9,Py.bind(null,r,c,n,e),void 0,null),n},useId:function(){var t=gr(),e=At.identifierPrefix;if(ft){var n=jr,r=Br;n=(r&~(1<<32-nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=U4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},K4={readContext:Hn,useCallback:Ny,useContext:Hn,useEffect:Kd,useImperativeHandle:Fy,useInsertionEffect:Dy,useLayoutEffect:Ry,useMemo:By,useReducer:jf,useRef:Ay,useState:function(){return jf(uo)},useDebugValue:qd,useDeferredValue:function(t){var e=Vn();return jy(e,Pt.memoizedState,t)},useTransition:function(){var t=jf(uo)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:Ty,useSyncExternalStore:Ey,useId:zy,unstable_isNewReconciler:!1},q4={readContext:Hn,useCallback:Ny,useContext:Hn,useEffect:Kd,useImperativeHandle:Fy,useInsertionEffect:Dy,useLayoutEffect:Ry,useMemo:By,useReducer:zf,useRef:Ay,useState:function(){return zf(uo)},useDebugValue:qd,useDeferredValue:function(t){var e=Vn();return Pt===null?e.memoizedState=t:jy(e,Pt.memoizedState,t)},useTransition:function(){var t=zf(uo)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:Ty,useSyncExternalStore:Ey,useId:zy,unstable_isNewReconciler:!1};function Xs(t,e){try{var n="",r=e;do n+=b3(r),r=r.return;while(r);var s=n}catch(c){s=`
Error generating stack: `+c.message+`
`+c.stack}return{value:t,source:e,stack:s,digest:null}}function Wf(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function zh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Z4=typeof WeakMap=="function"?WeakMap:Map;function Uy(t,e,n){n=zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Su||(Su=!0,qh=r),zh(t,e)},n}function Gy(t,e,n){n=zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){zh(t,e)}}var c=t.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){zh(t,e),typeof r!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var S=e.stack;this.componentDidCatch(e.value,{componentStack:S!==null?S:""})}),n}function Wv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Z4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=fE.bind(null,t,e,n),e.then(t,t))}function Hv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vv(t,e,n,r,s){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zr(-1,1),e.tag=2,gi(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=s,t)}var Q4=Xr.ReactCurrentOwner,un=!1;function Zt(t,e,n,r){e.child=t===null?xy(e,null,n,r):Us(e,t.child,n,r)}function Uv(t,e,n,r,s){n=n.render;var c=e.ref;return Ns(e,s),r=Yd(t,e,n,r,c,s),n=$d(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gr(t,e,s)):(ft&&n&&Id(e),e.flags|=1,Zt(t,e,r,s),e.child)}function Gv(t,e,n,r,s){if(t===null){var c=n.type;return typeof c=="function"&&!ip(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=c,Xy(t,e,c,r,s)):(t=ql(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(c=t.child,(t.lanes&s)===0){var S=c.memoizedProps;if(n=n.compare,n=n!==null?n:no,n(S,r)&&t.ref===e.ref)return Gr(t,e,s)}return e.flags|=1,t=yi(c,r),t.ref=e.ref,t.return=e,e.child=t}function Xy(t,e,n,r,s){if(t!==null){var c=t.memoizedProps;if(no(c,r)&&t.ref===e.ref)if(un=!1,e.pendingProps=r=c,(t.lanes&s)!==0)(t.flags&131072)!==0&&(un=!0);else return e.lanes=t.lanes,Gr(t,e,s)}return Wh(t,e,n,r,s)}function Yy(t,e,n){var r=e.pendingProps,s=r.children,c=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(As,wn),wn|=n;else{if((n&1073741824)===0)return t=c!==null?c.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,it(As,wn),wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=c!==null?c.baseLanes:n,it(As,wn),wn|=r}else c!==null?(r=c.baseLanes|n,e.memoizedState=null):r=n,it(As,wn),wn|=r;return Zt(t,e,s,n),e.child}function $y(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wh(t,e,n,r,s){var c=fn(n)?Gi:Gt.current;return c=Hs(e,c),Ns(e,s),n=Yd(t,e,n,r,c,s),r=$d(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gr(t,e,s)):(ft&&r&&Id(e),e.flags|=1,Zt(t,e,n,s),e.child)}function Xv(t,e,n,r,s){if(fn(n)){var c=!0;cu(e)}else c=!1;if(Ns(e,s),e.stateNode===null)Yl(t,e),Cy(e,n,r),jh(e,n,r,s),r=!0;else if(t===null){var S=e.stateNode,f=e.memoizedProps;S.props=f;var i=S.context,h=n.contextType;typeof h=="object"&&h!==null?h=Hn(h):(h=fn(n)?Gi:Gt.current,h=Hs(e,h));var g=n.getDerivedStateFromProps,a=typeof g=="function"||typeof S.getSnapshotBeforeUpdate=="function";a||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(f!==r||i!==h)&&Nv(e,S,r,h),si=!1;var u=e.memoizedState;S.state=u,gu(e,r,S,s),i=e.memoizedState,f!==r||u!==i||cn.current||si?(typeof g=="function"&&(Bh(e,n,g,r),i=e.memoizedState),(f=si||Fv(e,n,f,r,u,i,h))?(a||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(e.flags|=4194308)):(typeof S.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=i),S.props=r,S.state=i,S.context=h,r=f):(typeof S.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{S=e.stateNode,wy(t,e),f=e.memoizedProps,h=e.type===e.elementType?f:Qn(e.type,f),S.props=h,a=e.pendingProps,u=S.context,i=n.contextType,typeof i=="object"&&i!==null?i=Hn(i):(i=fn(n)?Gi:Gt.current,i=Hs(e,i));var l=n.getDerivedStateFromProps;(g=typeof l=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(f!==a||u!==i)&&Nv(e,S,r,i),si=!1,u=e.memoizedState,S.state=u,gu(e,r,S,s);var d=e.memoizedState;f!==a||u!==d||cn.current||si?(typeof l=="function"&&(Bh(e,n,l,r),d=e.memoizedState),(h=si||Fv(e,n,h,r,u,d,i)||!1)?(g||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(r,d,i),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(r,d,i)),typeof S.componentDidUpdate=="function"&&(e.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof S.componentDidUpdate!="function"||f===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||f===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=d),S.props=r,S.state=d,S.context=i,r=h):(typeof S.componentDidUpdate!="function"||f===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||f===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),r=!1)}return Hh(t,e,n,r,c,s)}function Hh(t,e,n,r,s,c){$y(t,e);var S=(e.flags&128)!==0;if(!r&&!S)return s&&Mv(e,n,!1),Gr(t,e,c);r=e.stateNode,Q4.current=e;var f=S&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&S?(e.child=Us(e,t.child,null,c),e.child=Us(e,null,f,c)):Zt(t,e,f,c),e.memoizedState=r.state,s&&Mv(e,n,!0),e.child}function Ky(t){var e=t.stateNode;e.pendingContext?Lv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Lv(t,e.context,!1),Vd(t,e.containerInfo)}function Yv(t,e,n,r,s){return Vs(),Nd(s),e.flags|=256,Zt(t,e,n,r),e.child}var Vh={dehydrated:null,treeContext:null,retryLane:0};function Uh(t){return{baseLanes:t,cachePool:null,transitions:null}}function qy(t,e,n){var r=e.pendingProps,s=dt.current,c=!1,S=(e.flags&128)!==0,f;if((f=S)||(f=t!==null&&t.memoizedState===null?!1:(s&2)!==0),f?(c=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),it(dt,s&1),t===null)return Fh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(S=r.children,t=r.fallback,c?(r=e.mode,c=e.child,S={mode:"hidden",children:S},(r&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=S):c=Uu(S,r,0,null),t=Ui(t,r,n,null),c.return=e,t.return=e,c.sibling=t,e.child=c,e.child.memoizedState=Uh(n),e.memoizedState=Vh,t):Zd(e,S));if(s=t.memoizedState,s!==null&&(f=s.dehydrated,f!==null))return J4(t,e,S,r,f,s,n);if(c){c=r.fallback,S=e.mode,s=t.child,f=s.sibling;var i={mode:"hidden",children:r.children};return(S&1)===0&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=i,e.deletions=null):(r=yi(s,i),r.subtreeFlags=s.subtreeFlags&14680064),f!==null?c=yi(f,c):(c=Ui(c,S,n,null),c.flags|=2),c.return=e,r.return=e,r.sibling=c,e.child=r,r=c,c=e.child,S=t.child.memoizedState,S=S===null?Uh(n):{baseLanes:S.baseLanes|n,cachePool:null,transitions:S.transitions},c.memoizedState=S,c.childLanes=t.childLanes&~n,e.memoizedState=Vh,r}return c=t.child,t=c.sibling,r=yi(c,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zd(t,e){return e=Uu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function El(t,e,n,r){return r!==null&&Nd(r),Us(e,t.child,null,n),t=Zd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function J4(t,e,n,r,s,c,S){if(n)return e.flags&256?(e.flags&=-257,r=Wf(Error(Se(422))),El(t,e,S,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(c=r.fallback,s=e.mode,r=Uu({mode:"visible",children:r.children},s,0,null),c=Ui(c,s,S,null),c.flags|=2,r.return=e,c.return=e,r.sibling=c,e.child=r,(e.mode&1)!==0&&Us(e,t.child,null,S),e.child.memoizedState=Uh(S),e.memoizedState=Vh,c);if((e.mode&1)===0)return El(t,e,S,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var f=r.dgst;return r=f,c=Error(Se(419)),r=Wf(c,r,void 0),El(t,e,S,r)}if(f=(S&t.childLanes)!==0,un||f){if(r=At,r!==null){switch(S&-S){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(r.suspendedLanes|S))!==0?0:s,s!==0&&s!==c.retryLane&&(c.retryLane=s,Ur(t,s),rr(r,t,s,-1))}return rp(),r=Wf(Error(Se(421))),El(t,e,S,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=hE.bind(null,t),s._reactRetry=e,null):(t=c.treeContext,Cn=pi(s.nextSibling),_n=e,ft=!0,er=null,t!==null&&(Bn[jn++]=Br,Bn[jn++]=jr,Bn[jn++]=Xi,Br=t.id,jr=t.overflow,Xi=e),e=Zd(e,r.children),e.flags|=4096,e)}function $v(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nh(t.return,e,n)}function Hf(t,e,n,r,s){var c=t.memoizedState;c===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(c.isBackwards=e,c.rendering=null,c.renderingStartTime=0,c.last=r,c.tail=n,c.tailMode=s)}function Zy(t,e,n){var r=e.pendingProps,s=r.revealOrder,c=r.tail;if(Zt(t,e,r.children,n),r=dt.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$v(t,n,e);else if(t.tag===19)$v(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(it(dt,r),(e.mode&1)===0)e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&mu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Hf(e,!1,s,n,c);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Hf(e,!0,n,null,c);break;case"together":Hf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yl(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$i|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(Se(153));if(e.child!==null){for(t=e.child,n=yi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function eE(t,e,n){switch(e.tag){case 3:Ky(e),Vs();break;case 5:by(e);break;case 1:fn(e.type)&&cu(e);break;case 4:Vd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;it(du,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(it(dt,dt.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?qy(t,e,n):(it(dt,dt.current&1),t=Gr(t,e,n),t!==null?t.sibling:null);it(dt,dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return Zy(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),it(dt,dt.current),r)break;return null;case 22:case 23:return e.lanes=0,Yy(t,e,n)}return Gr(t,e,n)}var Qy,Gh,Jy,ew;Qy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gh=function(){};Jy=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Wi(Cr.current);var c=null;switch(n){case"input":s=dh(t,s),r=dh(t,r),c=[];break;case"select":s=gt({},s,{value:void 0}),r=gt({},r,{value:void 0}),c=[];break;case"textarea":s=mh(t,s),r=mh(t,r),c=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=lu)}yh(n,r);var S;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var f=s[h];for(S in f)f.hasOwnProperty(S)&&(n||(n={}),n[S]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ka.hasOwnProperty(h)?c||(c=[]):(c=c||[]).push(h,null));for(h in r){var i=r[h];if(f=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&i!==f&&(i!=null||f!=null))if(h==="style")if(f){for(S in f)!f.hasOwnProperty(S)||i&&i.hasOwnProperty(S)||(n||(n={}),n[S]="");for(S in i)i.hasOwnProperty(S)&&f[S]!==i[S]&&(n||(n={}),n[S]=i[S])}else n||(c||(c=[]),c.push(h,n)),n=i;else h==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,f=f?f.__html:void 0,i!=null&&f!==i&&(c=c||[]).push(h,i)):h==="children"?typeof i!="string"&&typeof i!="number"||(c=c||[]).push(h,""+i):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ka.hasOwnProperty(h)?(i!=null&&h==="onScroll"&&at("scroll",t),c||f===i||(c=[])):(c=c||[]).push(h,i))}n&&(c=c||[]).push("style",n);var h=c;(e.updateQueue=h)&&(e.flags|=4)}};ew=function(t,e,n,r){n!==r&&(e.flags|=4)};function ka(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tE(t,e,n){var r=e.pendingProps;switch(Fd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return fn(e.type)&&uu(),Vt(e),null;case 3:return r=e.stateNode,Gs(),ot(cn),ot(Gt),Gd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,er!==null&&(Jh(er),er=null))),Gh(t,e),Vt(e),null;case 5:Ud(e);var s=Wi(oo.current);if(n=e.type,t!==null&&e.stateNode!=null)Jy(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Se(166));return Vt(e),null}if(t=Wi(Cr.current),bl(e)){r=e.stateNode,n=e.type;var c=e.memoizedProps;switch(r[mr]=e,r[so]=c,t=(e.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(s=0;s<Na.length;s++)at(Na[s],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":rv(r,c),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!c.multiple},at("invalid",r);break;case"textarea":sv(r,c),at("invalid",r)}yh(n,c),s=null;for(var S in c)if(c.hasOwnProperty(S)){var f=c[S];S==="children"?typeof f=="string"?r.textContent!==f&&(c.suppressHydrationWarning!==!0&&xl(r.textContent,f,t),s=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(c.suppressHydrationWarning!==!0&&xl(r.textContent,f,t),s=["children",""+f]):Ka.hasOwnProperty(S)&&f!=null&&S==="onScroll"&&at("scroll",r)}switch(n){case"input":gl(r),iv(r,c,!0);break;case"textarea":gl(r),av(r);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(r.onclick=lu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{S=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=O1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=S.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=S.createElement(n,{is:r.is}):(t=S.createElement(n),n==="select"&&(S=t,r.multiple?S.multiple=!0:r.size&&(S.size=r.size))):t=S.createElementNS(t,n),t[mr]=e,t[so]=r,Qy(t,e,!1,!1),e.stateNode=t;e:{switch(S=wh(n,r),n){case"dialog":at("cancel",t),at("close",t),s=r;break;case"iframe":case"object":case"embed":at("load",t),s=r;break;case"video":case"audio":for(s=0;s<Na.length;s++)at(Na[s],t);s=r;break;case"source":at("error",t),s=r;break;case"img":case"image":case"link":at("error",t),at("load",t),s=r;break;case"details":at("toggle",t),s=r;break;case"input":rv(t,r),s=dh(t,r),at("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=gt({},r,{value:void 0}),at("invalid",t);break;case"textarea":sv(t,r),s=mh(t,r),at("invalid",t);break;default:s=r}yh(n,s),f=s;for(c in f)if(f.hasOwnProperty(c)){var i=f[c];c==="style"?L1(t,i):c==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&P1(t,i)):c==="children"?typeof i=="string"?(n!=="textarea"||i!=="")&&qa(t,i):typeof i=="number"&&qa(t,""+i):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ka.hasOwnProperty(c)?i!=null&&c==="onScroll"&&at("scroll",t):i!=null&&Cd(t,c,i,S))}switch(n){case"input":gl(t),iv(t,r,!1);break;case"textarea":gl(t),av(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Si(r.value));break;case"select":t.multiple=!!r.multiple,c=r.value,c!=null?Ds(t,!!r.multiple,c,!1):r.defaultValue!=null&&Ds(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=lu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)ew(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Se(166));if(n=Wi(oo.current),Wi(Cr.current),bl(e)){if(r=e.stateNode,n=e.memoizedProps,r[mr]=e,(c=r.nodeValue!==n)&&(t=_n,t!==null))switch(t.tag){case 3:xl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xl(r.nodeValue,n,(t.mode&1)!==0)}c&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mr]=e,e.stateNode=r}return Vt(e),null;case 13:if(ot(dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&Cn!==null&&(e.mode&1)!==0&&(e.flags&128)===0)vy(),Vs(),e.flags|=98560,c=!1;else if(c=bl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!c)throw Error(Se(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(Se(317));c[mr]=e}else Vs(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Vt(e),c=!1}else er!==null&&(Jh(er),er=null),c=!0;if(!c)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(dt.current&1)!==0?kt===0&&(kt=3):rp())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return Gs(),Gh(t,e),t===null&&ro(e.stateNode.containerInfo),Vt(e),null;case 10:return zd(e.type._context),Vt(e),null;case 17:return fn(e.type)&&uu(),Vt(e),null;case 19:if(ot(dt),c=e.memoizedState,c===null)return Vt(e),null;if(r=(e.flags&128)!==0,S=c.rendering,S===null)if(r)ka(c,!1);else{if(kt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(S=mu(t),S!==null){for(e.flags|=128,ka(c,!1),r=S.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)c=n,t=r,c.flags&=14680066,S=c.alternate,S===null?(c.childLanes=0,c.lanes=t,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=S.childLanes,c.lanes=S.lanes,c.child=S.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=S.memoizedProps,c.memoizedState=S.memoizedState,c.updateQueue=S.updateQueue,c.type=S.type,t=S.dependencies,c.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return it(dt,dt.current&1|2),e.child}t=t.sibling}c.tail!==null&&bt()>Ys&&(e.flags|=128,r=!0,ka(c,!1),e.lanes=4194304)}else{if(!r)if(t=mu(S),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ka(c,!0),c.tail===null&&c.tailMode==="hidden"&&!S.alternate&&!ft)return Vt(e),null}else 2*bt()-c.renderingStartTime>Ys&&n!==1073741824&&(e.flags|=128,r=!0,ka(c,!1),e.lanes=4194304);c.isBackwards?(S.sibling=e.child,e.child=S):(n=c.last,n!==null?n.sibling=S:e.child=S,c.last=S)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=bt(),e.sibling=null,n=dt.current,it(dt,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return np(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(wn&1073741824)!==0&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(Se(156,e.tag))}function nE(t,e){switch(Fd(e),e.tag){case 1:return fn(e.type)&&uu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gs(),ot(cn),ot(Gt),Gd(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Ud(e),null;case 13:if(ot(dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Se(340));Vs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(dt),null;case 4:return Gs(),null;case 10:return zd(e.type._context),null;case 22:case 23:return np(),null;case 24:return null;default:return null}}var Ol=!1,Ut=!1,rE=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function Xh(t,e,n){try{n()}catch(r){yt(t,e,r)}}var Kv=!1;function iE(t,e){if(kh=su,t=iy(),Rd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,c=r.focusNode;r=r.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var S=0,f=-1,i=-1,h=0,g=0,a=t,u=null;t:for(;;){for(var l;a!==n||s!==0&&a.nodeType!==3||(f=S+s),a!==c||r!==0&&a.nodeType!==3||(i=S+r),a.nodeType===3&&(S+=a.nodeValue.length),(l=a.firstChild)!==null;)u=a,a=l;for(;;){if(a===t)break t;if(u===n&&++h===s&&(f=S),u===c&&++g===r&&(i=S),(l=a.nextSibling)!==null)break;a=u,u=a.parentNode}a=l}n=f===-1||i===-1?null:{start:f,end:i}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lh={focusedElem:t,selectionRange:n},su=!1,ke=e;ke!==null;)if(e=ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ke=t;else for(;ke!==null;){e=ke;try{var d=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var y=d.memoizedProps,p=d.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Qn(e.type,y),p);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(x){yt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,ke=t;break}ke=e.return}return d=Kv,Kv=!1,d}function Ga(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var c=s.destroy;s.destroy=void 0,c!==void 0&&Xh(e,n,c)}s=s.next}while(s!==r)}}function Hu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tw(t){var e=t.alternate;e!==null&&(t.alternate=null,tw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mr],delete e[so],delete e[Dh],delete e[z4],delete e[W4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nw(t){return t.tag===5||t.tag===3||t.tag===4}function qv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $h(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lu));else if(r!==4&&(t=t.child,t!==null))for($h(t,e,n),t=t.sibling;t!==null;)$h(t,e,n),t=t.sibling}function Kh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kh(t,e,n),t=t.sibling;t!==null;)Kh(t,e,n),t=t.sibling}var Nt=null,Jn=!1;function ni(t,e,n){for(n=n.child;n!==null;)rw(t,e,n),n=n.sibling}function rw(t,e,n){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Ru,n)}catch{}switch(n.tag){case 5:Ut||Ms(n,e);case 6:var r=Nt,s=Jn;Nt=null,ni(t,e,n),Nt=r,Jn=s,Nt!==null&&(Jn?(t=Nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(Jn?(t=Nt,n=n.stateNode,t.nodeType===8?If(t.parentNode,n):t.nodeType===1&&If(t,n),eo(t)):If(Nt,n.stateNode));break;case 4:r=Nt,s=Jn,Nt=n.stateNode.containerInfo,Jn=!0,ni(t,e,n),Nt=r,Jn=s;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var c=s,S=c.destroy;c=c.tag,S!==void 0&&((c&2)!==0||(c&4)!==0)&&Xh(n,e,S),s=s.next}while(s!==r)}ni(t,e,n);break;case 1:if(!Ut&&(Ms(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){yt(n,e,f)}ni(t,e,n);break;case 21:ni(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,ni(t,e,n),Ut=r):ni(t,e,n);break;default:ni(t,e,n)}}function Zv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rE),e.forEach(function(r){var s=dE.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var c=t,S=e,f=S;e:for(;f!==null;){switch(f.tag){case 5:Nt=f.stateNode,Jn=!1;break e;case 3:Nt=f.stateNode.containerInfo,Jn=!0;break e;case 4:Nt=f.stateNode.containerInfo,Jn=!0;break e}f=f.return}if(Nt===null)throw Error(Se(160));rw(c,S,s),Nt=null,Jn=!1;var i=s.alternate;i!==null&&(i.return=null),s.return=null}catch(h){yt(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iw(e,t),e=e.sibling}function iw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(e,t),dr(t),r&4){try{Ga(3,t,t.return),Hu(3,t)}catch(y){yt(t,t.return,y)}try{Ga(5,t,t.return)}catch(y){yt(t,t.return,y)}}break;case 1:qn(e,t),dr(t),r&512&&n!==null&&Ms(n,n.return);break;case 5:if(qn(e,t),dr(t),r&512&&n!==null&&Ms(n,n.return),t.flags&32){var s=t.stateNode;try{qa(s,"")}catch(y){yt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var c=t.memoizedProps,S=n!==null?n.memoizedProps:c,f=t.type,i=t.updateQueue;if(t.updateQueue=null,i!==null)try{f==="input"&&c.type==="radio"&&c.name!=null&&T1(s,c),wh(f,S);var h=wh(f,c);for(S=0;S<i.length;S+=2){var g=i[S],a=i[S+1];g==="style"?L1(s,a):g==="dangerouslySetInnerHTML"?P1(s,a):g==="children"?qa(s,a):Cd(s,g,a,h)}switch(f){case"input":ph(s,c);break;case"textarea":E1(s,c);break;case"select":var u=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!c.multiple;var l=c.value;l!=null?Ds(s,!!c.multiple,l,!1):u!==!!c.multiple&&(c.defaultValue!=null?Ds(s,!!c.multiple,c.defaultValue,!0):Ds(s,!!c.multiple,c.multiple?[]:"",!1))}s[so]=c}catch(y){yt(t,t.return,y)}}break;case 6:if(qn(e,t),dr(t),r&4){if(t.stateNode===null)throw Error(Se(162));s=t.stateNode,c=t.memoizedProps;try{s.nodeValue=c}catch(y){yt(t,t.return,y)}}break;case 3:if(qn(e,t),dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eo(e.containerInfo)}catch(y){yt(t,t.return,y)}break;case 4:qn(e,t),dr(t);break;case 13:qn(e,t),dr(t),s=t.child,s.flags&8192&&(c=s.memoizedState!==null,s.stateNode.isHidden=c,!c||s.alternate!==null&&s.alternate.memoizedState!==null||(ep=bt())),r&4&&Zv(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(h=Ut)||g,qn(e,t),Ut=h):qn(e,t),dr(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!g&&(t.mode&1)!==0)for(ke=t,g=t.child;g!==null;){for(a=ke=g;ke!==null;){switch(u=ke,l=u.child,u.tag){case 0:case 11:case 14:case 15:Ga(4,u,u.return);break;case 1:Ms(u,u.return);var d=u.stateNode;if(typeof d.componentWillUnmount=="function"){r=u,n=u.return;try{e=r,d.props=e.memoizedProps,d.state=e.memoizedState,d.componentWillUnmount()}catch(y){yt(r,n,y)}}break;case 5:Ms(u,u.return);break;case 22:if(u.memoizedState!==null){Jv(a);continue}}l!==null?(l.return=u,ke=l):Jv(a)}g=g.sibling}e:for(g=null,a=t;;){if(a.tag===5){if(g===null){g=a;try{s=a.stateNode,h?(c=s.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(f=a.stateNode,i=a.memoizedProps.style,S=i!=null&&i.hasOwnProperty("display")?i.display:null,f.style.display=k1("display",S))}catch(y){yt(t,t.return,y)}}}else if(a.tag===6){if(g===null)try{a.stateNode.nodeValue=h?"":a.memoizedProps}catch(y){yt(t,t.return,y)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;g===a&&(g=null),a=a.return}g===a&&(g=null),a.sibling.return=a.return,a=a.sibling}}break;case 19:qn(e,t),dr(t),r&4&&Zv(t);break;case 21:break;default:qn(e,t),dr(t)}}function dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nw(n)){var r=n;break e}n=n.return}throw Error(Se(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qa(s,""),r.flags&=-33);var c=qv(t);Kh(t,c,s);break;case 3:case 4:var S=r.stateNode.containerInfo,f=qv(t);$h(t,f,S);break;default:throw Error(Se(161))}}catch(i){yt(t,t.return,i)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sE(t,e,n){ke=t,sw(t)}function sw(t,e,n){for(var r=(t.mode&1)!==0;ke!==null;){var s=ke,c=s.child;if(s.tag===22&&r){var S=s.memoizedState!==null||Ol;if(!S){var f=s.alternate,i=f!==null&&f.memoizedState!==null||Ut;f=Ol;var h=Ut;if(Ol=S,(Ut=i)&&!h)for(ke=s;ke!==null;)S=ke,i=S.child,S.tag===22&&S.memoizedState!==null?e0(s):i!==null?(i.return=S,ke=i):e0(s);for(;c!==null;)ke=c,sw(c),c=c.sibling;ke=s,Ol=f,Ut=h}Qv(t)}else(s.subtreeFlags&8772)!==0&&c!==null?(c.return=s,ke=c):Qv(t)}}function Qv(t){for(;ke!==null;){var e=ke;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Ut||Hu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Qn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var c=e.updateQueue;c!==null&&Iv(e,c,r);break;case 3:var S=e.updateQueue;if(S!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Iv(e,S,n)}break;case 5:var f=e.stateNode;if(n===null&&e.flags&4){n=f;var i=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&n.focus();break;case"img":i.src&&(n.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var a=g.dehydrated;a!==null&&eo(a)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}Ut||e.flags&512&&Yh(e)}catch(u){yt(e,e.return,u)}}if(e===t){ke=null;break}if(n=e.sibling,n!==null){n.return=e.return,ke=n;break}ke=e.return}}function Jv(t){for(;ke!==null;){var e=ke;if(e===t){ke=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ke=n;break}ke=e.return}}function e0(t){for(;ke!==null;){var e=ke;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hu(4,e)}catch(i){yt(e,n,i)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(i){yt(e,s,i)}}var c=e.return;try{Yh(e)}catch(i){yt(e,c,i)}break;case 5:var S=e.return;try{Yh(e)}catch(i){yt(e,S,i)}}}catch(i){yt(e,e.return,i)}if(e===t){ke=null;break}var f=e.sibling;if(f!==null){f.return=e.return,ke=f;break}ke=e.return}}var aE=Math.ceil,wu=Xr.ReactCurrentDispatcher,Qd=Xr.ReactCurrentOwner,Wn=Xr.ReactCurrentBatchConfig,qe=0,At=null,Tt=null,Bt=0,wn=0,As=bi(0),kt=0,fo=null,$i=0,Vu=0,Jd=0,Xa=null,ln=null,ep=0,Ys=1/0,Fr=null,Su=!1,qh=null,mi=null,Pl=!1,ui=null,Cu=0,Ya=0,Zh=null,$l=-1,Kl=0;function Qt(){return(qe&6)!==0?bt():$l!==-1?$l:$l=bt()}function vi(t){return(t.mode&1)===0?1:(qe&2)!==0&&Bt!==0?Bt&-Bt:V4.transition!==null?(Kl===0&&(Kl=H1()),Kl):(t=et,t!==0||(t=window.event,t=t===void 0?16:K1(t.type)),t)}function rr(t,e,n,r){if(50<Ya)throw Ya=0,Zh=null,Error(Se(185));yo(t,n,r),((qe&2)===0||t!==At)&&(t===At&&((qe&2)===0&&(Vu|=n),kt===4&&oi(t,Bt)),hn(t,r),n===1&&qe===0&&(e.mode&1)===0&&(Ys=bt()+500,ju&&Ti()))}function hn(t,e){var n=t.callbackNode;V3(t,e);var r=iu(t,t===At?Bt:0);if(r===0)n!==null&&uv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&uv(n),e===1)t.tag===0?H4(t0.bind(null,t)):py(t0.bind(null,t)),B4(function(){(qe&6)===0&&Ti()}),n=null;else{switch(V1(r)){case 1:n=Ed;break;case 4:n=z1;break;case 16:n=ru;break;case 536870912:n=W1;break;default:n=ru}n=dw(n,aw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aw(t,e){if($l=-1,Kl=0,(qe&6)!==0)throw Error(Se(327));var n=t.callbackNode;if(Bs()&&t.callbackNode!==n)return null;var r=iu(t,t===At?Bt:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=_u(t,r);else{e=r;var s=qe;qe|=2;var c=lw();(At!==t||Bt!==e)&&(Fr=null,Ys=bt()+500,Vi(t,e));do try{uE();break}catch(f){ow(t,f)}while(1);jd(),wu.current=c,qe=s,Tt!==null?e=0:(At=null,Bt=0,e=kt)}if(e!==0){if(e===2&&(s=bh(t),s!==0&&(r=s,e=Qh(t,s))),e===1)throw n=fo,Vi(t,0),oi(t,r),hn(t,bt()),n;if(e===6)oi(t,r);else{if(s=t.current.alternate,(r&30)===0&&!oE(s)&&(e=_u(t,r),e===2&&(c=bh(t),c!==0&&(r=c,e=Qh(t,c))),e===1))throw n=fo,Vi(t,0),oi(t,r),hn(t,bt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Se(345));case 2:Ni(t,ln,Fr);break;case 3:if(oi(t,r),(r&130023424)===r&&(e=ep+500-bt(),10<e)){if(iu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ah(Ni.bind(null,t,ln,Fr),e);break}Ni(t,ln,Fr);break;case 4:if(oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var S=31-nr(r);c=1<<S,S=e[S],S>s&&(s=S),r&=~c}if(r=s,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aE(r/1960))-r,10<r){t.timeoutHandle=Ah(Ni.bind(null,t,ln,Fr),r);break}Ni(t,ln,Fr);break;case 5:Ni(t,ln,Fr);break;default:throw Error(Se(329))}}}return hn(t,bt()),t.callbackNode===n?aw.bind(null,t):null}function Qh(t,e){var n=Xa;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=_u(t,e),t!==2&&(e=ln,ln=n,e!==null&&Jh(e)),t}function Jh(t){ln===null?ln=t:ln.push.apply(ln,t)}function oE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],c=s.getSnapshot;s=s.value;try{if(!sr(c(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~Jd,e&=~Vu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nr(e),r=1<<n;t[n]=-1,e&=~r}}function t0(t){if((qe&6)!==0)throw Error(Se(327));Bs();var e=iu(t,0);if((e&1)===0)return hn(t,bt()),null;var n=_u(t,e);if(t.tag!==0&&n===2){var r=bh(t);r!==0&&(e=r,n=Qh(t,r))}if(n===1)throw n=fo,Vi(t,0),oi(t,e),hn(t,bt()),n;if(n===6)throw Error(Se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ni(t,ln,Fr),hn(t,bt()),null}function tp(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(Ys=bt()+500,ju&&Ti())}}function Ki(t){ui!==null&&ui.tag===0&&(qe&6)===0&&Bs();var e=qe;qe|=1;var n=Wn.transition,r=et;try{if(Wn.transition=null,et=1,t)return t()}finally{et=r,Wn.transition=n,qe=e,(qe&6)===0&&Ti()}}function np(){wn=As.current,ot(As)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,N4(n)),Tt!==null)for(n=Tt.return;n!==null;){var r=n;switch(Fd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uu();break;case 3:Gs(),ot(cn),ot(Gt),Gd();break;case 5:Ud(r);break;case 4:Gs();break;case 13:ot(dt);break;case 19:ot(dt);break;case 10:zd(r.type._context);break;case 22:case 23:np()}n=n.return}if(At=t,Tt=t=yi(t.current,null),Bt=wn=e,kt=0,fo=null,Jd=Vu=$i=0,ln=Xa=null,zi!==null){for(e=0;e<zi.length;e++)if(n=zi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,c=n.pending;if(c!==null){var S=c.next;c.next=s,r.next=S}n.pending=r}zi=null}return t}function ow(t,e){do{var n=Tt;try{if(jd(),Gl.current=yu,vu){for(var r=pt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vu=!1}if(Yi=0,Mt=Pt=pt=null,Ua=!1,lo=0,Qd.current=null,n===null||n.return===null){kt=1,fo=e,Tt=null;break}e:{var c=t,S=n.return,f=n,i=e;if(e=Bt,f.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var h=i,g=f,a=g.tag;if((g.mode&1)===0&&(a===0||a===11||a===15)){var u=g.alternate;u?(g.updateQueue=u.updateQueue,g.memoizedState=u.memoizedState,g.lanes=u.lanes):(g.updateQueue=null,g.memoizedState=null)}var l=Hv(S);if(l!==null){l.flags&=-257,Vv(l,S,f,c,e),l.mode&1&&Wv(c,h,e),e=l,i=h;var d=e.updateQueue;if(d===null){var y=new Set;y.add(i),e.updateQueue=y}else d.add(i);break e}else{if((e&1)===0){Wv(c,h,e),rp();break e}i=Error(Se(426))}}else if(ft&&f.mode&1){var p=Hv(S);if(p!==null){(p.flags&65536)===0&&(p.flags|=256),Vv(p,S,f,c,e),Nd(Xs(i,f));break e}}c=i=Xs(i,f),kt!==4&&(kt=2),Xa===null?Xa=[c]:Xa.push(c),c=S;do{switch(c.tag){case 3:c.flags|=65536,e&=-e,c.lanes|=e;var v=Uy(c,i,e);Rv(c,v);break e;case 1:f=i;var w=c.type,C=c.stateNode;if((c.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(mi===null||!mi.has(C)))){c.flags|=65536,e&=-e,c.lanes|=e;var x=Gy(c,f,e);Rv(c,x);break e}}c=c.return}while(c!==null)}cw(n)}catch(b){e=b,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(1)}function lw(){var t=wu.current;return wu.current=yu,t===null?yu:t}function rp(){(kt===0||kt===3||kt===2)&&(kt=4),At===null||($i&268435455)===0&&(Vu&268435455)===0||oi(At,Bt)}function _u(t,e){var n=qe;qe|=2;var r=lw();(At!==t||Bt!==e)&&(Fr=null,Vi(t,e));do try{lE();break}catch(s){ow(t,s)}while(1);if(jd(),qe=n,wu.current=r,Tt!==null)throw Error(Se(261));return At=null,Bt=0,kt}function lE(){for(;Tt!==null;)uw(Tt)}function uE(){for(;Tt!==null&&!R3();)uw(Tt)}function uw(t){var e=hw(t.alternate,t,wn);t.memoizedProps=t.pendingProps,e===null?cw(t):Tt=e,Qd.current=null}function cw(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=tE(n,e,wn),n!==null){Tt=n;return}}else{if(n=nE(n,e),n!==null){n.flags&=32767,Tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,Tt=null;return}}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);kt===0&&(kt=5)}function Ni(t,e,n){var r=et,s=Wn.transition;try{Wn.transition=null,et=1,cE(t,e,n,r)}finally{Wn.transition=s,et=r}return null}function cE(t,e,n,r){do Bs();while(ui!==null);if((qe&6)!==0)throw Error(Se(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Se(177));t.callbackNode=null,t.callbackPriority=0;var c=n.lanes|n.childLanes;if(U3(t,c),t===At&&(Tt=At=null,Bt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Pl||(Pl=!0,dw(ru,function(){return Bs(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=Wn.transition,Wn.transition=null;var S=et;et=1;var f=qe;qe|=4,Qd.current=null,iE(t,n),iw(n,t),L4(Lh),su=!!kh,Lh=kh=null,t.current=n,sE(n),I3(),qe=f,et=S,Wn.transition=c}else t.current=n;if(Pl&&(Pl=!1,ui=t,Cu=s),c=t.pendingLanes,c===0&&(mi=null),B3(n.stateNode),hn(t,bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Su)throw Su=!1,t=qh,qh=null,t;return(Cu&1)!==0&&t.tag!==0&&Bs(),c=t.pendingLanes,(c&1)!==0?t===Zh?Ya++:(Ya=0,Zh=t):Ya=0,Ti(),null}function Bs(){if(ui!==null){var t=V1(Cu),e=Wn.transition,n=et;try{if(Wn.transition=null,et=16>t?16:t,ui===null)var r=!1;else{if(t=ui,ui=null,Cu=0,(qe&6)!==0)throw Error(Se(331));var s=qe;for(qe|=4,ke=t.current;ke!==null;){var c=ke,S=c.child;if((ke.flags&16)!==0){var f=c.deletions;if(f!==null){for(var i=0;i<f.length;i++){var h=f[i];for(ke=h;ke!==null;){var g=ke;switch(g.tag){case 0:case 11:case 15:Ga(8,g,c)}var a=g.child;if(a!==null)a.return=g,ke=a;else for(;ke!==null;){g=ke;var u=g.sibling,l=g.return;if(tw(g),g===h){ke=null;break}if(u!==null){u.return=l,ke=u;break}ke=l}}}var d=c.alternate;if(d!==null){var y=d.child;if(y!==null){d.child=null;do{var p=y.sibling;y.sibling=null,y=p}while(y!==null)}}ke=c}}if((c.subtreeFlags&2064)!==0&&S!==null)S.return=c,ke=S;else e:for(;ke!==null;){if(c=ke,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:Ga(9,c,c.return)}var v=c.sibling;if(v!==null){v.return=c.return,ke=v;break e}ke=c.return}}var w=t.current;for(ke=w;ke!==null;){S=ke;var C=S.child;if((S.subtreeFlags&2064)!==0&&C!==null)C.return=S,ke=C;else e:for(S=w;ke!==null;){if(f=ke,(f.flags&2048)!==0)try{switch(f.tag){case 0:case 11:case 15:Hu(9,f)}}catch(b){yt(f,f.return,b)}if(f===S){ke=null;break e}var x=f.sibling;if(x!==null){x.return=f.return,ke=x;break e}ke=f.return}}if(qe=s,Ti(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Ru,t)}catch{}r=!0}return r}finally{et=n,Wn.transition=e}}return!1}function n0(t,e,n){e=Xs(n,e),e=Uy(t,e,1),t=gi(t,e,1),e=Qt(),t!==null&&(yo(t,1,e),hn(t,e))}function yt(t,e,n){if(t.tag===3)n0(t,t,n);else for(;e!==null;){if(e.tag===3){n0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mi===null||!mi.has(r))){t=Xs(n,t),t=Gy(e,t,1),e=gi(e,t,1),t=Qt(),e!==null&&(yo(e,1,t),hn(e,t));break}}e=e.return}}function fE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,At===t&&(Bt&n)===n&&(kt===4||kt===3&&(Bt&130023424)===Bt&&500>bt()-ep?Vi(t,0):Jd|=n),hn(t,e)}function fw(t,e){e===0&&((t.mode&1)===0?e=1:(e=yl,yl<<=1,(yl&130023424)===0&&(yl=4194304)));var n=Qt();t=Ur(t,e),t!==null&&(yo(t,e,n),hn(t,n))}function hE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fw(t,n)}function dE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Se(314))}r!==null&&r.delete(e),fw(t,n)}var hw;hw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)un=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return un=!1,eE(t,e,n);un=(t.flags&131072)!==0}else un=!1,ft&&(e.flags&1048576)!==0&&gy(e,hu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yl(t,e),t=e.pendingProps;var s=Hs(e,Gt.current);Ns(e,n),s=Yd(null,e,r,t,s,n);var c=$d();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fn(r)?(c=!0,cu(e)):c=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hd(e),s.updater=zu,e.stateNode=s,s._reactInternals=e,jh(e,r,t,n),e=Hh(null,e,r,!0,c,n)):(e.tag=0,ft&&c&&Id(e),Zt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=gE(r),t=Qn(r,t),s){case 0:e=Wh(null,e,r,t,n);break e;case 1:e=Xv(null,e,r,t,n);break e;case 11:e=Uv(null,e,r,t,n);break e;case 14:e=Gv(null,e,r,Qn(r.type,t),n);break e}throw Error(Se(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),Wh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),Xv(t,e,r,s,n);case 3:e:{if(Ky(e),t===null)throw Error(Se(387));r=e.pendingProps,c=e.memoizedState,s=c.element,wy(t,e),gu(e,r,null,n);var S=e.memoizedState;if(r=S.element,c.isDehydrated)if(c={element:r,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},e.updateQueue.baseState=c,e.memoizedState=c,e.flags&256){s=Xs(Error(Se(423)),e),e=Yv(t,e,r,n,s);break e}else if(r!==s){s=Xs(Error(Se(424)),e),e=Yv(t,e,r,n,s);break e}else for(Cn=pi(e.stateNode.containerInfo.firstChild),_n=e,ft=!0,er=null,n=xy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vs(),r===s){e=Gr(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return by(e),t===null&&Fh(e),r=e.type,s=e.pendingProps,c=t!==null?t.memoizedProps:null,S=s.children,Mh(r,s)?S=null:c!==null&&Mh(r,c)&&(e.flags|=32),$y(t,e),Zt(t,e,S,n),e.child;case 6:return t===null&&Fh(e),null;case 13:return qy(t,e,n);case 4:return Vd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Us(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),Uv(t,e,r,s,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,c=e.memoizedProps,S=s.value,it(du,r._currentValue),r._currentValue=S,c!==null)if(sr(c.value,S)){if(c.children===s.children&&!cn.current){e=Gr(t,e,n);break e}}else for(c=e.child,c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){S=c.child;for(var i=f.firstContext;i!==null;){if(i.context===r){if(c.tag===1){i=zr(-1,n&-n),i.tag=2;var h=c.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?i.next=i:(i.next=g.next,g.next=i),h.pending=i}}c.lanes|=n,i=c.alternate,i!==null&&(i.lanes|=n),Nh(c.return,n,e),f.lanes|=n;break}i=i.next}}else if(c.tag===10)S=c.type===e.type?null:c.child;else if(c.tag===18){if(S=c.return,S===null)throw Error(Se(341));S.lanes|=n,f=S.alternate,f!==null&&(f.lanes|=n),Nh(S,n,e),S=c.sibling}else S=c.child;if(S!==null)S.return=c;else for(S=c;S!==null;){if(S===e){S=null;break}if(c=S.sibling,c!==null){c.return=S.return,S=c;break}S=S.return}c=S}Zt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ns(e,n),s=Hn(s),r=r(s),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,s=Qn(r,e.pendingProps),s=Qn(r.type,s),Gv(t,e,r,s,n);case 15:return Xy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),Yl(t,e),e.tag=1,fn(r)?(t=!0,cu(e)):t=!1,Ns(e,n),Cy(e,r,s),jh(e,r,s,n),Hh(null,e,r,!0,t,n);case 19:return Zy(t,e,n);case 22:return Yy(t,e,n)}throw Error(Se(156,e.tag))};function dw(t,e){return j1(t,e)}function pE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,e,n,r){return new pE(t,e,n,r)}function ip(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gE(t){if(typeof t=="function")return ip(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xd)return 11;if(t===bd)return 14}return 2}function yi(t,e){var n=t.alternate;return n===null?(n=zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ql(t,e,n,r,s,c){var S=2;if(r=t,typeof t=="function")ip(t)&&(S=1);else if(typeof t=="string")S=5;else e:switch(t){case _s:return Ui(n.children,s,c,e);case _d:S=8,s|=8;break;case uh:return t=zn(12,n,e,s|2),t.elementType=uh,t.lanes=c,t;case ch:return t=zn(13,n,e,s),t.elementType=ch,t.lanes=c,t;case fh:return t=zn(19,n,e,s),t.elementType=fh,t.lanes=c,t;case _1:return Uu(n,s,c,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S1:S=10;break e;case C1:S=9;break e;case xd:S=11;break e;case bd:S=14;break e;case ii:S=16,r=null;break e}throw Error(Se(130,t==null?t:typeof t,""))}return e=zn(S,n,e,s),e.elementType=t,e.type=r,e.lanes=c,e}function Ui(t,e,n,r){return t=zn(7,t,r,e),t.lanes=n,t}function Uu(t,e,n,r){return t=zn(22,t,r,e),t.elementType=_1,t.lanes=n,t.stateNode={isHidden:!1},t}function Vf(t,e,n){return t=zn(6,t,null,e),t.lanes=n,t}function Uf(t,e,n){return e=zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mE(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bf(0),this.expirationTimes=bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sp(t,e,n,r,s,c,S,f,i){return t=new mE(t,e,n,f,i),e===1?(e=1,c===!0&&(e|=8)):e=0,c=zn(3,null,null,e),t.current=c,c.stateNode=t,c.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hd(c),t}function vE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pw(t){if(!t)return Ci;t=t._reactInternals;e:{if(es(t)!==t||t.tag!==1)throw Error(Se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Se(171))}if(t.tag===1){var n=t.type;if(fn(n))return dy(t,n,e)}return e}function gw(t,e,n,r,s,c,S,f,i){return t=sp(n,r,!0,t,s,c,S,f,i),t.context=pw(null),n=t.current,r=Qt(),s=vi(n),c=zr(r,s),c.callback=e!=null?e:null,gi(n,c,s),t.current.lanes=s,yo(t,s,r),hn(t,r),t}function Gu(t,e,n,r){var s=e.current,c=Qt(),S=vi(s);return n=pw(n),e.context===null?e.context=n:e.pendingContext=n,e=zr(c,S),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gi(s,e,S),t!==null&&(rr(t,s,S,c),Ul(t,s,S)),S}function xu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function r0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ap(t,e){r0(t,e),(t=t.alternate)&&r0(t,e)}function yE(){return null}var mw=typeof reportError=="function"?reportError:function(t){console.error(t)};function op(t){this._internalRoot=t}Xu.prototype.render=op.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Se(409));Gu(t,e,null,null)};Xu.prototype.unmount=op.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ki(function(){Gu(null,t,null,null)}),e[Vr]=null}};function Xu(t){this._internalRoot=t}Xu.prototype.unstable_scheduleHydration=function(t){if(t){var e=X1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ai.length&&e!==0&&e<ai[n].priority;n++);ai.splice(n,0,t),n===0&&$1(t)}};function lp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function i0(){}function wE(t,e,n,r,s){if(s){if(typeof r=="function"){var c=r;r=function(){var h=xu(S);c.call(h)}}var S=gw(e,r,t,0,null,!1,!1,"",i0);return t._reactRootContainer=S,t[Vr]=S.current,ro(t.nodeType===8?t.parentNode:t),Ki(),S}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var f=r;r=function(){var h=xu(i);f.call(h)}}var i=sp(t,0,!1,null,null,!1,!1,"",i0);return t._reactRootContainer=i,t[Vr]=i.current,ro(t.nodeType===8?t.parentNode:t),Ki(function(){Gu(e,i,n,r)}),i}function $u(t,e,n,r,s){var c=n._reactRootContainer;if(c){var S=c;if(typeof s=="function"){var f=s;s=function(){var i=xu(S);f.call(i)}}Gu(e,S,t,s)}else S=wE(n,e,t,s,r);return xu(S)}U1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fa(e.pendingLanes);n!==0&&(Od(e,n|1),hn(e,bt()),(qe&6)===0&&(Ys=bt()+500,Ti()))}break;case 13:Ki(function(){var r=Ur(t,1);if(r!==null){var s=Qt();rr(r,t,1,s)}}),ap(t,1)}};Pd=function(t){if(t.tag===13){var e=Ur(t,134217728);if(e!==null){var n=Qt();rr(e,t,134217728,n)}ap(t,134217728)}};G1=function(t){if(t.tag===13){var e=vi(t),n=Ur(t,e);if(n!==null){var r=Qt();rr(n,t,e,r)}ap(t,e)}};X1=function(){return et};Y1=function(t,e){var n=et;try{return et=t,e()}finally{et=n}};Ch=function(t,e,n){switch(e){case"input":if(ph(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Bu(r);if(!s)throw Error(Se(90));b1(r),ph(r,s)}}}break;case"textarea":E1(t,n);break;case"select":e=n.value,e!=null&&Ds(t,!!n.multiple,e,!1)}};D1=tp;R1=Ki;var SE={usingClientEntryPoint:!1,Events:[So,Es,Bu,M1,A1,tp]},La={findFiberByHostInstance:ji,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},CE={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=N1(t),t===null?null:t.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||yE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{Ru=kl.inject(CE),Sr=kl}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SE;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lp(e))throw Error(Se(200));return vE(t,e,null,n)};En.createRoot=function(t,e){if(!lp(t))throw Error(Se(299));var n=!1,r="",s=mw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=sp(t,1,!1,null,null,n,!1,r,s),t[Vr]=e.current,ro(t.nodeType===8?t.parentNode:t),new op(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Se(188)):(t=Object.keys(t).join(","),Error(Se(268,t)));return t=N1(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return Ki(t)};En.hydrate=function(t,e,n){if(!Yu(e))throw Error(Se(200));return $u(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!lp(t))throw Error(Se(405));var r=n!=null&&n.hydratedSources||null,s=!1,c="",S=mw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),e=gw(e,null,t,1,n!=null?n:null,s,!1,c,S),t[Vr]=e.current,ro(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Xu(e)};En.render=function(t,e,n){if(!Yu(e))throw Error(Se(200));return $u(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!Yu(t))throw Error(Se(40));return t._reactRootContainer?(Ki(function(){$u(null,null,t,!1,function(){t._reactRootContainer=null,t[Vr]=null})}),!0):!1};En.unstable_batchedUpdates=tp;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yu(n))throw Error(Se(200));if(t==null||t._reactInternals===void 0)throw Error(Se(38));return $u(t,e,n,!1,r)};En.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=En})(g1);var s0=g1.exports;oh.createRoot=s0.createRoot,oh.hydrateRoot=s0.hydrateRoot;var ve={};const _E={},xE=Object.freeze(Object.defineProperty({__proto__:null,default:_E},Symbol.toStringTag,{value:"Module"})),Gf=i3(xE);(function(t){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var e=e||{version:"5.3.0"};if(t.fabric=e,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?e.document=document:e.document=document.implementation.createHTMLDocument(""),e.window=window;else{var n=Gf,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;e.document=r.document,e.jsdomImplForWrapper=Gf.implForWrapper,e.nodeCanvas=Gf.Canvas,e.window=r,DOMParser=e.window.DOMParser}e.isTouchSupported="ontouchstart"in e.window||"ontouchstart"in e.document||e.window&&e.window.navigator&&e.window.navigator.maxTouchPoints>0,e.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",e.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],e.DPI=96,e.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",e.commaWsp="(?:\\s+,?\\s*|,\\s*)",e.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,e.reNonWord=/[ \n\.,;!\?\-]/,e.fontPaths={},e.iMatrix=[1,0,0,1,0,0],e.svgNS="http://www.w3.org/2000/svg",e.perfLimitSizeTotal=2097152,e.maxCacheSideLimit=4096,e.minCacheSideLimit=256,e.charWidthsCache={},e.textureSize=2048,e.disableStyleCopyPaste=!1,e.enableGLFiltering=!0,e.devicePixelRatio=e.window.devicePixelRatio||e.window.webkitDevicePixelRatio||e.window.mozDevicePixelRatio||1,e.browserShadowBlurConstant=1,e.arcToSegmentsCache={},e.boundsOfCurveCache={},e.cachesBoundsOfCurve=!0,e.forceGLPutImageData=!1,e.initFilterBackend=function(){if(e.enableGLFiltering&&e.isWebglSupported&&e.isWebglSupported(e.textureSize))return console.log("max texture size: "+e.maxTextureSize),new e.WebglFilterBackend({tileSize:e.textureSize});if(e.Canvas2dFilterBackend)return new e.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=e),function(){function f(l,d){if(!!this.__eventListeners[l]){var y=this.__eventListeners[l];d?y[y.indexOf(d)]=!1:e.util.array.fill(y,!1)}}function i(l,d){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var y in l)this.on(y,l[y]);else this.__eventListeners[l]||(this.__eventListeners[l]=[]),this.__eventListeners[l].push(d);return this}function h(l,d){var y=function(){d.apply(this,arguments),this.off(l,y)}.bind(this);this.on(l,y)}function g(l,d){if(arguments.length===1)for(var y in l)h.call(this,y,l[y]);else h.call(this,l,d);return this}function a(l,d){if(!this.__eventListeners)return this;if(arguments.length===0)for(l in this.__eventListeners)f.call(this,l);else if(arguments.length===1&&typeof arguments[0]=="object")for(var y in l)f.call(this,y,l[y]);else f.call(this,l,d);return this}function u(l,d){if(!this.__eventListeners)return this;var y=this.__eventListeners[l];if(!y)return this;for(var p=0,v=y.length;p<v;p++)y[p]&&y[p].call(this,d||{});return this.__eventListeners[l]=y.filter(function(w){return w!==!1}),this}e.Observable={fire:u,on:i,once:g,off:a}}(),e.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var f=0,i=arguments.length;f<i;f++)this._onObjectAdded(arguments[f]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(f,i,h){var g=this._objects;return h?g[i]=f:g.splice(i,0,f),this._onObjectAdded&&this._onObjectAdded(f),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var f=this._objects,i,h=!1,g=0,a=arguments.length;g<a;g++)i=f.indexOf(arguments[g]),i!==-1&&(h=!0,f.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[g]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(f,i){for(var h=this.getObjects(),g=0,a=h.length;g<a;g++)f.call(i,h[g],g,h);return this},getObjects:function(f){return typeof f>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===f})},item:function(f){return this._objects[f]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(f,i){return this._objects.indexOf(f)>-1?!0:i?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(f,!0)}):!1},complexity:function(){return this._objects.reduce(function(f,i){return f+=i.complexity?i.complexity():0,f},0)}},e.CommonMethods={_setOptions:function(f){for(var i in f)this.set(i,f[i])},_initGradient:function(f,i){f&&f.colorStops&&!(f instanceof e.Gradient)&&this.set(i,new e.Gradient(f))},_initPattern:function(f,i,h){f&&f.source&&!(f instanceof e.Pattern)?this.set(i,new e.Pattern(f,h)):h&&h()},_setObject:function(f){for(var i in f)this._set(i,f[i])},set:function(f,i){return typeof f=="object"?this._setObject(f):this._set(f,i),this},_set:function(f,i){this[f]=i},toggle:function(f){var i=this.get(f);return typeof i=="boolean"&&this.set(f,!i),this},get:function(f){return this[f]}},function(f){var i=Math.sqrt,h=Math.atan2,g=Math.pow,a=Math.PI/180,u=Math.PI/2;e.util={cos:function(l){if(l===0)return 1;l<0&&(l=-l);var d=l/u;switch(d){case 1:case 3:return 0;case 2:return-1}return Math.cos(l)},sin:function(l){if(l===0)return 0;var d=l/u,y=1;switch(l<0&&(y=-1),d){case 1:return y;case 2:return 0;case 3:return-y}return Math.sin(l)},removeFromArray:function(l,d){var y=l.indexOf(d);return y!==-1&&l.splice(y,1),l},getRandomInt:function(l,d){return Math.floor(Math.random()*(d-l+1))+l},degreesToRadians:function(l){return l*a},radiansToDegrees:function(l){return l/a},rotatePoint:function(l,d,y){var p=new e.Point(l.x-d.x,l.y-d.y),v=e.util.rotateVector(p,y);return new e.Point(v.x,v.y).addEquals(d)},rotateVector:function(l,d){var y=e.util.sin(d),p=e.util.cos(d),v=l.x*p-l.y*y,w=l.x*y+l.y*p;return{x:v,y:w}},createVector:function(l,d){return new e.Point(d.x-l.x,d.y-l.y)},calcAngleBetweenVectors:function(l,d){return Math.acos((l.x*d.x+l.y*d.y)/(Math.hypot(l.x,l.y)*Math.hypot(d.x,d.y)))},getHatVector:function(l){return new e.Point(l.x,l.y).multiply(1/Math.hypot(l.x,l.y))},getBisector:function(l,d,y){var p=e.util.createVector(l,d),v=e.util.createVector(l,y),w=e.util.calcAngleBetweenVectors(p,v),C=e.util.calcAngleBetweenVectors(e.util.rotateVector(p,w),v),x=w*(C===0?1:-1)/2;return{vector:e.util.getHatVector(e.util.rotateVector(p,x)),angle:w}},projectStrokeOnPoints:function(l,d,y){var p=[],v=d.strokeWidth/2,w=d.strokeUniform?new e.Point(1/d.scaleX,1/d.scaleY):new e.Point(1,1),C=function(x){var b=v/Math.hypot(x.x,x.y);return new e.Point(x.x*b*w.x,x.y*b*w.y)};return l.length<=1||l.forEach(function(x,b){var E=new e.Point(x.x,x.y),k,D;b===0?(D=l[b+1],k=y?C(e.util.createVector(D,E)).addEquals(E):l[l.length-1]):b===l.length-1?(k=l[b-1],D=y?C(e.util.createVector(k,E)).addEquals(E):l[0]):(k=l[b-1],D=l[b+1]);var B=e.util.getBisector(E,k,D),W=B.vector,$=B.angle,re,Z;if(d.strokeLineJoin==="miter"&&(re=-v/Math.sin($/2),Z=new e.Point(W.x*re*w.x,W.y*re*w.y),Math.hypot(Z.x,Z.y)/v<=d.strokeMiterLimit)){p.push(E.add(Z)),p.push(E.subtract(Z));return}re=-v*Math.SQRT2,Z=new e.Point(W.x*re*w.x,W.y*re*w.y),p.push(E.add(Z)),p.push(E.subtract(Z))}),p},transformPoint:function(l,d,y){return y?new e.Point(d[0]*l.x+d[2]*l.y,d[1]*l.x+d[3]*l.y):new e.Point(d[0]*l.x+d[2]*l.y+d[4],d[1]*l.x+d[3]*l.y+d[5])},makeBoundingBoxFromPoints:function(l,d){if(d)for(var y=0;y<l.length;y++)l[y]=e.util.transformPoint(l[y],d);var p=[l[0].x,l[1].x,l[2].x,l[3].x],v=e.util.array.min(p),w=e.util.array.max(p),C=w-v,x=[l[0].y,l[1].y,l[2].y,l[3].y],b=e.util.array.min(x),E=e.util.array.max(x),k=E-b;return{left:v,top:b,width:C,height:k}},invertTransform:function(l){var d=1/(l[0]*l[3]-l[1]*l[2]),y=[d*l[3],-d*l[1],-d*l[2],d*l[0]],p=e.util.transformPoint({x:l[4],y:l[5]},y,!0);return y[4]=-p.x,y[5]=-p.y,y},toFixed:function(l,d){return parseFloat(Number(l).toFixed(d))},parseUnit:function(l,d){var y=/\D{0,2}$/.exec(l),p=parseFloat(l);switch(d||(d=e.Text.DEFAULT_SVG_FONT_SIZE),y[0]){case"mm":return p*e.DPI/25.4;case"cm":return p*e.DPI/2.54;case"in":return p*e.DPI;case"pt":return p*e.DPI/72;case"pc":return p*e.DPI/72*12;case"em":return p*d;default:return p}},falseFunction:function(){return!1},getKlass:function(l,d){return l=e.util.string.camelize(l.charAt(0).toUpperCase()+l.slice(1)),e.util.resolveNamespace(d)[l]},getSvgAttributes:function(l){var d=["instantiated_by_use","style","id","class"];switch(l){case"linearGradient":d=d.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":d=d.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":d=d.concat(["offset","stop-color","stop-opacity"]);break}return d},resolveNamespace:function(l){if(!l)return e;var d=l.split("."),y=d.length,p,v=f||e.window;for(p=0;p<y;++p)v=v[d[p]];return v},loadImage:function(l,d,y,p){if(!l){d&&d.call(y,l);return}var v=e.util.createImage(),w=function(){d&&d.call(y,v,!1),v=v.onload=v.onerror=null};v.onload=w,v.onerror=function(){e.log("Error loading "+v.src),d&&d.call(y,null,!0),v=v.onload=v.onerror=null},l.indexOf("data")!==0&&p!==void 0&&p!==null&&(v.crossOrigin=p),l.substring(0,14)==="data:image/svg"&&(v.onload=null,e.util.loadImageInDom(v,w)),v.src=l},loadImageInDom:function(l,d){var y=e.document.createElement("div");y.style.width=y.style.height="1px",y.style.left=y.style.top="-100%",y.style.position="absolute",y.appendChild(l),e.document.querySelector("body").appendChild(y),l.onload=function(){d(),y.parentNode.removeChild(y),y=null}},enlivenObjects:function(l,d,y,p){l=l||[];var v=[],w=0,C=l.length;function x(){++w===C&&d&&d(v.filter(function(b){return b}))}if(!C){d&&d(v);return}l.forEach(function(b,E){if(!b||!b.type){x();return}var k=e.util.getKlass(b.type,y);k.fromObject(b,function(D,B){B||(v[E]=D),p&&p(b,D,B),x()})})},enlivenObjectEnlivables:function(l,d,y){var p=e.Object.ENLIVEN_PROPS.filter(function(v){return!!l[v]});e.util.enlivenObjects(p.map(function(v){return l[v]}),function(v){var w={};p.forEach(function(C,x){w[C]=v[x],d&&(d[C]=v[x])}),y&&y(w)})},enlivenPatterns:function(l,d){l=l||[];function y(){++v===w&&d&&d(p)}var p=[],v=0,w=l.length;if(!w){d&&d(p);return}l.forEach(function(C,x){C&&C.source?new e.Pattern(C,function(b){p[x]=b,y()}):(p[x]=C,y())})},groupSVGElements:function(l,d,y){var p;return l&&l.length===1?(typeof y<"u"&&(l[0].sourcePath=y),l[0]):(d&&(d.width&&d.height?d.centerPoint={x:d.width/2,y:d.height/2}:(delete d.width,delete d.height)),p=new e.Group(l,d),typeof y<"u"&&(p.sourcePath=y),p)},populateWithProperties:function(l,d,y){if(y&&Array.isArray(y))for(var p=0,v=y.length;p<v;p++)y[p]in l&&(d[y[p]]=l[y[p]])},createCanvasElement:function(){return e.document.createElement("canvas")},copyCanvasElement:function(l){var d=e.util.createCanvasElement();return d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0),d},toDataURL:function(l,d,y){return l.toDataURL("image/"+d,y)},createImage:function(){return e.document.createElement("img")},multiplyTransformMatrices:function(l,d,y){return[l[0]*d[0]+l[2]*d[1],l[1]*d[0]+l[3]*d[1],l[0]*d[2]+l[2]*d[3],l[1]*d[2]+l[3]*d[3],y?0:l[0]*d[4]+l[2]*d[5]+l[4],y?0:l[1]*d[4]+l[3]*d[5]+l[5]]},qrDecompose:function(l){var d=h(l[1],l[0]),y=g(l[0],2)+g(l[1],2),p=i(y),v=(l[0]*l[3]-l[2]*l[1])/p,w=h(l[0]*l[2]+l[1]*l[3],y);return{angle:d/a,scaleX:p,scaleY:v,skewX:w/a,skewY:0,translateX:l[4],translateY:l[5]}},calcRotateMatrix:function(l){if(!l.angle)return e.iMatrix.concat();var d=e.util.degreesToRadians(l.angle),y=e.util.cos(d),p=e.util.sin(d);return[y,p,-p,y,0,0]},calcDimensionsMatrix:function(l){var d=typeof l.scaleX>"u"?1:l.scaleX,y=typeof l.scaleY>"u"?1:l.scaleY,p=[l.flipX?-d:d,0,0,l.flipY?-y:y,0,0],v=e.util.multiplyTransformMatrices,w=e.util.degreesToRadians;return l.skewX&&(p=v(p,[1,0,Math.tan(w(l.skewX)),1],!0)),l.skewY&&(p=v(p,[1,Math.tan(w(l.skewY)),0,1],!0)),p},composeMatrix:function(l){var d=[1,0,0,1,l.translateX||0,l.translateY||0],y=e.util.multiplyTransformMatrices;return l.angle&&(d=y(d,e.util.calcRotateMatrix(l))),(l.scaleX!==1||l.scaleY!==1||l.skewX||l.skewY||l.flipX||l.flipY)&&(d=y(d,e.util.calcDimensionsMatrix(l))),d},resetObjectTransform:function(l){l.scaleX=1,l.scaleY=1,l.skewX=0,l.skewY=0,l.flipX=!1,l.flipY=!1,l.rotate(0)},saveObjectTransform:function(l){return{scaleX:l.scaleX,scaleY:l.scaleY,skewX:l.skewX,skewY:l.skewY,angle:l.angle,left:l.left,flipX:l.flipX,flipY:l.flipY,top:l.top}},isTransparent:function(l,d,y,p){p>0&&(d>p?d-=p:d=0,y>p?y-=p:y=0);var v=!0,w,C,x=l.getImageData(d,y,p*2||1,p*2||1),b=x.data.length;for(w=3;w<b&&(C=x.data[w],v=C<=0,v!==!1);w+=4);return x=null,v},parsePreserveAspectRatioAttribute:function(l){var d="meet",y="Mid",p="Mid",v=l.split(" "),w;return v&&v.length&&(d=v.pop(),d!=="meet"&&d!=="slice"?(w=d,d="meet"):v.length&&(w=v.pop())),y=w!=="none"?w.slice(1,4):"none",p=w!=="none"?w.slice(5,8):"none",{meetOrSlice:d,alignX:y,alignY:p}},clearFabricFontCache:function(l){l=(l||"").toLowerCase(),l?e.charWidthsCache[l]&&delete e.charWidthsCache[l]:e.charWidthsCache={}},limitDimsByArea:function(l,d){var y=Math.sqrt(d*l),p=Math.floor(d/y);return{x:Math.floor(y),y:p}},capValue:function(l,d,y){return Math.max(l,Math.min(d,y))},findScaleToFit:function(l,d){return Math.min(d.width/l.width,d.height/l.height)},findScaleToCover:function(l,d){return Math.max(d.width/l.width,d.height/l.height)},matrixToSVG:function(l){return"matrix("+l.map(function(d){return e.util.toFixed(d,e.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(l,d){var y=e.util.invertTransform(d),p=e.util.multiplyTransformMatrices(y,l.calcOwnMatrix());e.util.applyTransformToObject(l,p)},addTransformToObject:function(l,d){e.util.applyTransformToObject(l,e.util.multiplyTransformMatrices(d,l.calcOwnMatrix()))},applyTransformToObject:function(l,d){var y=e.util.qrDecompose(d),p=new e.Point(y.translateX,y.translateY);l.flipX=!1,l.flipY=!1,l.set("scaleX",y.scaleX),l.set("scaleY",y.scaleY),l.skewX=y.skewX,l.skewY=y.skewY,l.angle=y.angle,l.setPositionByOrigin(p,"center","center")},sizeAfterTransform:function(l,d,y){var p=l/2,v=d/2,w=[{x:-p,y:-v},{x:p,y:-v},{x:-p,y:v},{x:p,y:v}],C=e.util.calcDimensionsMatrix(y),x=e.util.makeBoundingBoxFromPoints(w,C);return{x:x.width,y:x.height}},mergeClipPaths:function(l,d){var y=l,p=d;y.inverted&&!p.inverted&&(y=d,p=l),e.util.applyTransformToObject(p,e.util.multiplyTransformMatrices(e.util.invertTransform(y.calcTransformMatrix()),p.calcTransformMatrix()));var v=y.inverted&&p.inverted;return v&&(y.inverted=p.inverted=!1),new e.Group([y],{clipPath:p,inverted:v})},hasStyleChanged:function(l,d,y){return y=y||!1,l.fill!==d.fill||l.stroke!==d.stroke||l.strokeWidth!==d.strokeWidth||l.fontSize!==d.fontSize||l.fontFamily!==d.fontFamily||l.fontWeight!==d.fontWeight||l.fontStyle!==d.fontStyle||l.textBackgroundColor!==d.textBackgroundColor||l.deltaY!==d.deltaY||y&&(l.overline!==d.overline||l.underline!==d.underline||l.linethrough!==d.linethrough)},stylesToArray:function(y,d){for(var y=e.util.object.clone(y,!0),p=d.split(`
`),v=-1,w={},C=[],x=0;x<p.length;x++){if(!y[x]){v+=p[x].length;continue}for(var b=0;b<p[x].length;b++){v++;var E=y[x][b];if(E&&Object.keys(E).length>0){var k=e.util.hasStyleChanged(w,E,!0);k?C.push({start:v,end:v+1,style:E}):C[C.length-1].end++}w=E||{}}}return C},stylesFromArray:function(l,d){if(!Array.isArray(l))return l;for(var y=d.split(`
`),p=-1,v=0,w={},C=0;C<y.length;C++)for(var x=0;x<y[C].length;x++)p++,l[v]&&l[v].start<=p&&p<l[v].end&&(w[C]=w[C]||{},w[C][x]=Object.assign({},l[v].style),p===l[v].end-1&&v++);return w}}}(t),function(){var f=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function g(P,R,I,N,Q,F,M,V,q,ae,J){var fe=e.util.cos(P),ye=e.util.sin(P),_e=e.util.cos(R),ie=e.util.sin(R),X=I*Q*_e-N*F*ie+M,ce=N*Q*_e+I*F*ie+V,he=ae+q*(-I*Q*ye-N*F*fe),te=J+q*(-N*Q*ye+I*F*fe),me=X+q*(I*Q*ie+N*F*_e),xe=ce+q*(N*Q*ie-I*F*_e);return["C",he,te,me,xe,X,ce]}function a(P,R,I,N,Q,F,M){var V=Math.PI,q=M*V/180,ae=e.util.sin(q),J=e.util.cos(q),fe=0,ye=0;I=Math.abs(I),N=Math.abs(N);var _e=-J*P*.5-ae*R*.5,ie=-J*R*.5+ae*P*.5,X=I*I,ce=N*N,he=ie*ie,te=_e*_e,me=X*ce-X*he-ce*te,xe=0;if(me<0){var Ie=Math.sqrt(1-me/(X*ce));I*=Ie,N*=Ie}else xe=(Q===F?-1:1)*Math.sqrt(me/(X*he+ce*te));var Ee=xe*I*ie/N,oe=-xe*N*_e/I,Me=J*Ee-ae*oe+P*.5,Be=ae*Ee+J*oe+R*.5,He=u(1,0,(_e-Ee)/I,(ie-oe)/N),nt=u((_e-Ee)/I,(ie-oe)/N,(-_e-Ee)/I,(-ie-oe)/N);F===0&&nt>0?nt-=2*V:F===1&&nt<0&&(nt+=2*V);for(var $e=Math.ceil(Math.abs(nt/V*2)),mt=[],ut=nt/$e,Gn=8/3*Math.sin(ut/4)*Math.sin(ut/4)/Math.sin(ut/2),Er=He+ut,tn=0;tn<$e;tn++)mt[tn]=g(He,Er,J,ae,I,N,Me,Be,Gn,fe,ye),fe=mt[tn][5],ye=mt[tn][6],He=Er,Er+=ut;return mt}function u(P,R,I,N){var Q=Math.atan2(R,P),F=Math.atan2(N,I);return F>=Q?F-Q:2*Math.PI-(Q-F)}function l(P,R,I,N,Q,F,M,V){var q;if(e.cachesBoundsOfCurve&&(q=f.call(arguments),e.boundsOfCurveCache[q]))return e.boundsOfCurveCache[q];var ae=Math.sqrt,J=Math.min,fe=Math.max,ye=Math.abs,_e=[],ie=[[],[]],X,ce,he,te,me,xe,Ie,Ee;ce=6*P-12*I+6*Q,X=-3*P+9*I-9*Q+3*M,he=3*I-3*P;for(var oe=0;oe<2;++oe){if(oe>0&&(ce=6*R-12*N+6*F,X=-3*R+9*N-9*F+3*V,he=3*N-3*R),ye(X)<1e-12){if(ye(ce)<1e-12)continue;te=-he/ce,0<te&&te<1&&_e.push(te);continue}Ie=ce*ce-4*he*X,!(Ie<0)&&(Ee=ae(Ie),me=(-ce+Ee)/(2*X),0<me&&me<1&&_e.push(me),xe=(-ce-Ee)/(2*X),0<xe&&xe<1&&_e.push(xe))}for(var Me,Be,He=_e.length,nt=He,$e;He--;)te=_e[He],$e=1-te,Me=$e*$e*$e*P+3*$e*$e*te*I+3*$e*te*te*Q+te*te*te*M,ie[0][He]=Me,Be=$e*$e*$e*R+3*$e*$e*te*N+3*$e*te*te*F+te*te*te*V,ie[1][He]=Be;ie[0][nt]=P,ie[1][nt]=R,ie[0][nt+1]=M,ie[1][nt+1]=V;var mt=[{x:J.apply(null,ie[0]),y:J.apply(null,ie[1])},{x:fe.apply(null,ie[0]),y:fe.apply(null,ie[1])}];return e.cachesBoundsOfCurve&&(e.boundsOfCurveCache[q]=mt),mt}function d(P,R,I){for(var N=I[1],Q=I[2],F=I[3],M=I[4],V=I[5],q=I[6],ae=I[7],J=a(q-P,ae-R,N,Q,M,V,F),fe=0,ye=J.length;fe<ye;fe++)J[fe][1]+=P,J[fe][2]+=R,J[fe][3]+=P,J[fe][4]+=R,J[fe][5]+=P,J[fe][6]+=R;return J}function y(P){var R=0,I=0,N=P.length,Q=0,F=0,M,V,q,ae=[],J,fe,ye;for(V=0;V<N;++V){switch(q=!1,M=P[V].slice(0),M[0]){case"l":M[0]="L",M[1]+=R,M[2]+=I;case"L":R=M[1],I=M[2];break;case"h":M[1]+=R;case"H":M[0]="L",M[2]=I,R=M[1];break;case"v":M[1]+=I;case"V":M[0]="L",I=M[1],M[1]=R,M[2]=I;break;case"m":M[0]="M",M[1]+=R,M[2]+=I;case"M":R=M[1],I=M[2],Q=M[1],F=M[2];break;case"c":M[0]="C",M[1]+=R,M[2]+=I,M[3]+=R,M[4]+=I,M[5]+=R,M[6]+=I;case"C":fe=M[3],ye=M[4],R=M[5],I=M[6];break;case"s":M[0]="S",M[1]+=R,M[2]+=I,M[3]+=R,M[4]+=I;case"S":J==="C"?(fe=2*R-fe,ye=2*I-ye):(fe=R,ye=I),R=M[3],I=M[4],M[0]="C",M[5]=M[3],M[6]=M[4],M[3]=M[1],M[4]=M[2],M[1]=fe,M[2]=ye,fe=M[3],ye=M[4];break;case"q":M[0]="Q",M[1]+=R,M[2]+=I,M[3]+=R,M[4]+=I;case"Q":fe=M[1],ye=M[2],R=M[3],I=M[4];break;case"t":M[0]="T",M[1]+=R,M[2]+=I;case"T":J==="Q"?(fe=2*R-fe,ye=2*I-ye):(fe=R,ye=I),M[0]="Q",R=M[1],I=M[2],M[1]=fe,M[2]=ye,M[3]=R,M[4]=I;break;case"a":M[0]="A",M[6]+=R,M[7]+=I;case"A":q=!0,ae=ae.concat(d(R,I,M)),R=M[6],I=M[7];break;case"z":case"Z":R=Q,I=F;break}q||ae.push(M),J=M[0]}return ae}function p(P,R,I,N){return Math.sqrt((I-P)*(I-P)+(N-R)*(N-R))}function v(P){return P*P*P}function w(P){return 3*P*P*(1-P)}function C(P){return 3*P*(1-P)*(1-P)}function x(P){return(1-P)*(1-P)*(1-P)}function b(P,R,I,N,Q,F,M,V){return function(q){var ae=v(q),J=w(q),fe=C(q),ye=x(q);return{x:M*ae+Q*J+I*fe+P*ye,y:V*ae+F*J+N*fe+R*ye}}}function E(P,R,I,N,Q,F,M,V){return function(q){var ae=1-q,J=3*ae*ae*(I-P)+6*ae*q*(Q-I)+3*q*q*(M-Q),fe=3*ae*ae*(N-R)+6*ae*q*(F-N)+3*q*q*(V-F);return Math.atan2(fe,J)}}function k(P){return P*P}function D(P){return 2*P*(1-P)}function B(P){return(1-P)*(1-P)}function W(P,R,I,N,Q,F){return function(M){var V=k(M),q=D(M),ae=B(M);return{x:Q*V+I*q+P*ae,y:F*V+N*q+R*ae}}}function $(P,R,I,N,Q,F){return function(M){var V=1-M,q=2*V*(I-P)+2*M*(Q-I),ae=2*V*(N-R)+2*M*(F-N);return Math.atan2(ae,q)}}function re(P,R,I){var N={x:R,y:I},Q,F=0,M;for(M=1;M<=100;M+=1)Q=P(M/100),F+=p(N.x,N.y,Q.x,Q.y),N=Q;return F}function Z(P,R){for(var I=0,N=0,Q=P.iterator,F={x:P.x,y:P.y},M,V,q=.01,ae=P.angleFinder,J;N<R&&q>1e-4;)M=Q(I),J=I,V=p(F.x,F.y,M.x,M.y),V+N>R?(I-=q,q/=2):(F=M,I+=q,N+=V);return M.angle=ae(J),M}function se(P){for(var R=0,I=P.length,N,Q=0,F=0,M=0,V=0,q=[],ae,J,fe,ye=0;ye<I;ye++){switch(N=P[ye],J={x:Q,y:F,command:N[0]},N[0]){case"M":J.length=0,M=Q=N[1],V=F=N[2];break;case"L":J.length=p(Q,F,N[1],N[2]),Q=N[1],F=N[2];break;case"C":ae=b(Q,F,N[1],N[2],N[3],N[4],N[5],N[6]),fe=E(Q,F,N[1],N[2],N[3],N[4],N[5],N[6]),J.iterator=ae,J.angleFinder=fe,J.length=re(ae,Q,F),Q=N[5],F=N[6];break;case"Q":ae=W(Q,F,N[1],N[2],N[3],N[4]),fe=$(Q,F,N[1],N[2],N[3],N[4]),J.iterator=ae,J.angleFinder=fe,J.length=re(ae,Q,F),Q=N[3],F=N[4];break;case"Z":case"z":J.destX=M,J.destY=V,J.length=p(Q,F,M,V),Q=M,F=V;break}R+=J.length,q.push(J)}return q.push({length:R,x:Q,y:F}),q}function ue(P,R,I){I||(I=se(P));for(var N=0;R-I[N].length>0&&N<I.length-2;)R-=I[N].length,N++;var Q=I[N],F=R/Q.length,M=Q.command,V=P[N],q;switch(M){case"M":return{x:Q.x,y:Q.y,angle:0};case"Z":case"z":return q=new e.Point(Q.x,Q.y).lerp(new e.Point(Q.destX,Q.destY),F),q.angle=Math.atan2(Q.destY-Q.y,Q.destX-Q.x),q;case"L":return q=new e.Point(Q.x,Q.y).lerp(new e.Point(V[1],V[2]),F),q.angle=Math.atan2(V[2]-Q.y,V[1]-Q.x),q;case"C":return Z(Q,R);case"Q":return Z(Q,R)}}function Ce(P){var R=[],I=[],N,Q,F=e.rePathCommand,M="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",V="("+M+")"+e.commaWsp,q="([01])"+e.commaWsp+"?",ae=V+"?"+V+"?"+V+q+q+V+"?("+M+")",J=new RegExp(ae,"g"),fe,ye,_e;if(!P||!P.match)return R;_e=P.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var ie=0,X,ce=_e.length;ie<ce;ie++){N=_e[ie],ye=N.slice(1).trim(),I.length=0;var he=N.charAt(0);if(X=[he],he.toLowerCase()==="a")for(var te;te=J.exec(ye);)for(var me=1;me<te.length;me++)I.push(te[me]);else for(;fe=F.exec(ye);)I.push(fe[0]);for(var me=0,xe=I.length;me<xe;me++)Q=parseFloat(I[me]),isNaN(Q)||X.push(Q);var Ie=i[he.toLowerCase()],Ee=h[he]||he;if(X.length-1>Ie)for(var oe=1,Me=X.length;oe<Me;oe+=Ie)R.push([he].concat(X.slice(oe,oe+Ie))),he=Ee;else R.push(X)}return R}function be(P,R){var I=[],N,Q=new e.Point(P[0].x,P[0].y),F=new e.Point(P[1].x,P[1].y),M=P.length,V=1,q=0,ae=M>2;for(R=R||0,ae&&(V=P[2].x<F.x?-1:P[2].x===F.x?0:1,q=P[2].y<F.y?-1:P[2].y===F.y?0:1),I.push(["M",Q.x-V*R,Q.y-q*R]),N=1;N<M;N++){if(!Q.eq(F)){var J=Q.midPointFrom(F);I.push(["Q",Q.x,Q.y,J.x,J.y])}Q=P[N],N+1<P.length&&(F=P[N+1])}return ae&&(V=Q.x>P[N-2].x?1:Q.x===P[N-2].x?0:-1,q=Q.y>P[N-2].y?1:Q.y===P[N-2].y?0:-1),I.push(["L",Q.x+V*R,Q.y+q*R]),I}function ee(P,R,I){return I&&(R=e.util.multiplyTransformMatrices(R,[1,0,0,1,-I.x,-I.y])),P.map(function(N){for(var Q=N.slice(0),F={},M=1;M<N.length-1;M+=2)F.x=N[M],F.y=N[M+1],F=e.util.transformPoint(F,R),Q[M]=F.x,Q[M+1]=F.y;return Q})}e.util.joinPath=function(P){return P.map(function(R){return R.join(" ")}).join(" ")},e.util.parsePath=Ce,e.util.makePathSimpler=y,e.util.getSmoothPathFromPoints=be,e.util.getPathSegmentsInfo=se,e.util.getBoundsOfCurve=l,e.util.getPointOnPath=ue,e.util.transformPath=ee}(),function(){var f=Array.prototype.slice;function i(l,d){for(var y=f.call(arguments,2),p=[],v=0,w=l.length;v<w;v++)p[v]=y.length?l[v][d].apply(l[v],y):l[v][d].call(l[v]);return p}function h(l,d){return u(l,d,function(y,p){return y>=p})}function g(l,d){return u(l,d,function(y,p){return y<p})}function a(l,d){for(var y=l.length;y--;)l[y]=d;return l}function u(l,d,y){if(!(!l||l.length===0)){var p=l.length-1,v=d?l[p][d]:l[p];if(d)for(;p--;)y(l[p][d],v)&&(v=l[p][d]);else for(;p--;)y(l[p],v)&&(v=l[p]);return v}}e.util.array={fill:a,invoke:i,min:g,max:h}}(),function(){function f(h,g,a){if(a)if(!e.isLikelyNode&&g instanceof Element)h=g;else if(g instanceof Array){h=[];for(var u=0,l=g.length;u<l;u++)h[u]=f({},g[u],a)}else if(g&&typeof g=="object")for(var d in g)d==="canvas"||d==="group"?h[d]=null:g.hasOwnProperty(d)&&(h[d]=f({},g[d],a));else h=g;else for(var d in g)h[d]=g[d];return h}function i(h,g){return f({},h,g)}e.util.object={extend:f,clone:i},e.util.object.extend(e.util,e.Observable)}(),function(){function f(u){return u.replace(/-+(.)?/g,function(l,d){return d?d.toUpperCase():""})}function i(u,l){return u.charAt(0).toUpperCase()+(l?u.slice(1):u.slice(1).toLowerCase())}function h(u){return u.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(u){var l=0,d,y=[];for(l=0,d;l<u.length;l++)(d=a(u,l))!==!1&&y.push(d);return y}function a(u,l){var d=u.charCodeAt(l);if(isNaN(d))return"";if(d<55296||d>57343)return u.charAt(l);if(55296<=d&&d<=56319){if(u.length<=l+1)throw"High surrogate without following low surrogate";var y=u.charCodeAt(l+1);if(56320>y||y>57343)throw"High surrogate without following low surrogate";return u.charAt(l)+u.charAt(l+1)}if(l===0)throw"Low surrogate without preceding high surrogate";var p=u.charCodeAt(l-1);if(55296>p||p>56319)throw"Low surrogate without preceding high surrogate";return!1}e.util.string={camelize:f,capitalize:i,escapeXml:h,graphemeSplit:g}}(),function(){var f=Array.prototype.slice,i=function(){},h=function(){for(var d in{toString:1})if(d==="toString")return!1;return!0}(),g=function(d,y,p){for(var v in y)v in d.prototype&&typeof d.prototype[v]=="function"&&(y[v]+"").indexOf("callSuper")>-1?d.prototype[v]=function(w){return function(){var C=this.constructor.superclass;this.constructor.superclass=p;var x=y[w].apply(this,arguments);if(this.constructor.superclass=C,w!=="initialize")return x}}(v):d.prototype[v]=y[v],h&&(y.toString!==Object.prototype.toString&&(d.prototype.toString=y.toString),y.valueOf!==Object.prototype.valueOf&&(d.prototype.valueOf=y.valueOf))};function a(){}function u(d){for(var y=null,p=this;p.constructor.superclass;){var v=p.constructor.superclass.prototype[d];if(p[d]!==v){y=v;break}p=p.constructor.superclass.prototype}return y?arguments.length>1?y.apply(this,f.call(arguments,1)):y.call(this):console.log("tried to callSuper "+d+", method not found in prototype chain",this)}function l(){var d=null,y=f.call(arguments,0);typeof y[0]=="function"&&(d=y.shift());function p(){this.initialize.apply(this,arguments)}p.superclass=d,p.subclasses=[],d&&(a.prototype=d.prototype,p.prototype=new a,d.subclasses.push(p));for(var v=0,w=y.length;v<w;v++)g(p,y[v],d);return p.prototype.initialize||(p.prototype.initialize=i),p.prototype.constructor=p,p.prototype.callSuper=u,p}e.util.createClass=l}(),function(){var f=!!e.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];e.util.addListener=function(g,a,u,l){g&&g.addEventListener(a,u,f?!1:l)},e.util.removeListener=function(g,a,u,l){g&&g.removeEventListener(a,u,f?!1:l)};function h(g){var a=g.changedTouches;return a&&a[0]?a[0]:g}e.util.getPointer=function(g){var a=g.target,u=e.util.getScrollLeftTop(a),l=h(g);return{x:l.clientX+u.left,y:l.clientY+u.top}},e.util.isTouchEvent=function(g){return i.indexOf(g.type)>-1||g.pointerType==="touch"}}(),function(){function f(l,d){var y=l.style;if(!y)return l;if(typeof d=="string")return l.style.cssText+=";"+d,d.indexOf("opacity")>-1?u(l,d.match(/opacity:\s*(\d?\.?\d*)/)[1]):l;for(var p in d)if(p==="opacity")u(l,d[p]);else{var v=p==="float"||p==="cssFloat"?typeof y.styleFloat>"u"?"cssFloat":"styleFloat":p;y.setProperty(v,d[p])}return l}var i=e.document.createElement("div"),h=typeof i.style.opacity=="string",g=typeof i.style.filter=="string",a=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,u=function(l){return l};h?u=function(l,d){return l.style.opacity=d,l}:g&&(u=function(l,d){var y=l.style;return l.currentStyle&&!l.currentStyle.hasLayout&&(y.zoom=1),a.test(y.filter)?(d=d>=.9999?"":"alpha(opacity="+d*100+")",y.filter=y.filter.replace(a,d)):y.filter+=" alpha(opacity="+d*100+")",l}),e.util.setStyle=f}(),function(){var f=Array.prototype.slice;function i(x){return typeof x=="string"?e.document.getElementById(x):x}var h,g=function(x){return f.call(x,0)};try{h=g(e.document.childNodes)instanceof Array}catch{}h||(g=function(x){for(var b=new Array(x.length),E=x.length;E--;)b[E]=x[E];return b});function a(x,b){var E=e.document.createElement(x);for(var k in b)k==="class"?E.className=b[k]:k==="for"?E.htmlFor=b[k]:E.setAttribute(k,b[k]);return E}function u(x,b){x&&(" "+x.className+" ").indexOf(" "+b+" ")===-1&&(x.className+=(x.className?" ":"")+b)}function l(x,b,E){return typeof b=="string"&&(b=a(b,E)),x.parentNode&&x.parentNode.replaceChild(b,x),b.appendChild(x),b}function d(x){for(var b=0,E=0,k=e.document.documentElement,D=e.document.body||{scrollLeft:0,scrollTop:0};x&&(x.parentNode||x.host)&&(x=x.parentNode||x.host,x===e.document?(b=D.scrollLeft||k.scrollLeft||0,E=D.scrollTop||k.scrollTop||0):(b+=x.scrollLeft||0,E+=x.scrollTop||0),!(x.nodeType===1&&x.style.position==="fixed")););return{left:b,top:E}}function y(x){var b,E=x&&x.ownerDocument,k={left:0,top:0},D={left:0,top:0},B,W={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!E)return D;for(var $ in W)D[W[$]]+=parseInt(p(x,$),10)||0;return b=E.documentElement,typeof x.getBoundingClientRect<"u"&&(k=x.getBoundingClientRect()),B=d(x),{left:k.left+B.left-(b.clientLeft||0)+D.left,top:k.top+B.top-(b.clientTop||0)+D.top}}var p;e.document.defaultView&&e.document.defaultView.getComputedStyle?p=function(x,b){var E=e.document.defaultView.getComputedStyle(x,null);return E?E[b]:void 0}:p=function(x,b){var E=x.style[b];return!E&&x.currentStyle&&(E=x.currentStyle[b]),E},function(){var x=e.document.documentElement.style,b="userSelect"in x?"userSelect":"MozUserSelect"in x?"MozUserSelect":"WebkitUserSelect"in x?"WebkitUserSelect":"KhtmlUserSelect"in x?"KhtmlUserSelect":"";function E(D){return typeof D.onselectstart<"u"&&(D.onselectstart=e.util.falseFunction),b?D.style[b]="none":typeof D.unselectable=="string"&&(D.unselectable="on"),D}function k(D){return typeof D.onselectstart<"u"&&(D.onselectstart=null),b?D.style[b]="":typeof D.unselectable=="string"&&(D.unselectable=""),D}e.util.makeElementUnselectable=E,e.util.makeElementSelectable=k}();function v(x){var b=e.jsdomImplForWrapper(x);return b._canvas||b._image}function w(x){if(!!e.isLikelyNode){var b=e.jsdomImplForWrapper(x);b&&(b._image=null,b._canvas=null,b._currentSrc=null,b._attributes=null,b._classList=null)}}function C(x,b){x.imageSmoothingEnabled=x.imageSmoothingEnabled||x.webkitImageSmoothingEnabled||x.mozImageSmoothingEnabled||x.msImageSmoothingEnabled||x.oImageSmoothingEnabled,x.imageSmoothingEnabled=b}e.util.setImageSmoothing=C,e.util.getById=i,e.util.toArray=g,e.util.addClass=u,e.util.makeElement=a,e.util.wrapElement=l,e.util.getScrollLeftTop=d,e.util.getElementOffset=y,e.util.getNodeCanvas=v,e.util.cleanUpJsdomNode=w}(),function(){function f(g,a){return g+(/\?/.test(g)?"&":"?")+a}function i(){}function h(g,a){a||(a={});var u=a.method?a.method.toUpperCase():"GET",l=a.onComplete||function(){},d=new e.window.XMLHttpRequest,y=a.body||a.parameters;return d.onreadystatechange=function(){d.readyState===4&&(l(d),d.onreadystatechange=i)},u==="GET"&&(y=null,typeof a.parameters=="string"&&(g=f(g,a.parameters))),d.open(u,g,!0),(u==="POST"||u==="PUT")&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.send(y),d}e.util.request=h}(),e.log=console.log,e.warn=console.warn,function(){var f=e.util.object.extend,i=e.util.object.clone,h=[];e.util.object.extend(h,{cancelAll:function(){var v=this.splice(0);return v.forEach(function(w){w.cancel()}),v},cancelByCanvas:function(v){if(!v)return[];var w=this.filter(function(C){return typeof C.target=="object"&&C.target.canvas===v});return w.forEach(function(C){C.cancel()}),w},cancelByTarget:function(v){var w=this.findAnimationsByTarget(v);return w.forEach(function(C){C.cancel()}),w},findAnimationIndex:function(v){return this.indexOf(this.findAnimation(v))},findAnimation:function(v){return this.find(function(w){return w.cancel===v})},findAnimationsByTarget:function(v){return v?this.filter(function(w){return w.target===v}):[]}});function g(){return!1}function a(v,w,C,x){return-C*Math.cos(v/x*(Math.PI/2))+C+w}function u(v){v||(v={});var w=!1,C,x=function(){var b=e.runningAnimations.indexOf(C);return b>-1&&e.runningAnimations.splice(b,1)[0]};return C=f(i(v),{cancel:function(){return w=!0,x()},currentValue:"startValue"in v?v.startValue:0,completionRate:0,durationRate:0}),e.runningAnimations.push(C),y(function(b){var E=b||+new Date,k=v.duration||500,D=E+k,B,W=v.onChange||g,$=v.abort||g,re=v.onComplete||g,Z=v.easing||a,se="startValue"in v?v.startValue.length>0:!1,ue="startValue"in v?v.startValue:0,Ce="endValue"in v?v.endValue:100,be=v.byValue||(se?ue.map(function(ee,P){return Ce[P]-ue[P]}):Ce-ue);v.onStart&&v.onStart(),function ee(P){B=P||+new Date;var R=B>D?k:B-E,I=R/k,N=se?ue.map(function(F,M){return Z(R,ue[M],be[M],k)}):Z(R,ue,be,k),Q=Math.abs(se?(N[0]-ue[0])/be[0]:(N-ue)/be);if(C.currentValue=se?N.slice():N,C.completionRate=Q,C.durationRate=I,!w){if($(N,Q,I)){x();return}if(B>D){C.currentValue=se?Ce.slice():Ce,C.completionRate=1,C.durationRate=1,W(se?Ce.slice():Ce,1,1),re(Ce,1,1),x();return}else W(N,Q,I),y(ee)}}(E)}),C.cancel}var l=e.window.requestAnimationFrame||e.window.webkitRequestAnimationFrame||e.window.mozRequestAnimationFrame||e.window.oRequestAnimationFrame||e.window.msRequestAnimationFrame||function(v){return e.window.setTimeout(v,1e3/60)},d=e.window.cancelAnimationFrame||e.window.clearTimeout;function y(){return l.apply(e.window,arguments)}function p(){return d.apply(e.window,arguments)}e.util.animate=u,e.util.requestAnimFrame=y,e.util.cancelAnimFrame=p,e.runningAnimations=h}(),function(){function f(h,g,a){var u="rgba("+parseInt(h[0]+a*(g[0]-h[0]),10)+","+parseInt(h[1]+a*(g[1]-h[1]),10)+","+parseInt(h[2]+a*(g[2]-h[2]),10);return u+=","+(h&&g?parseFloat(h[3]+a*(g[3]-h[3])):1),u+=")",u}function i(h,g,a,u){var l=new e.Color(h).getSource(),d=new e.Color(g).getSource(),y=u.onComplete,p=u.onChange;return u=u||{},e.util.animate(e.util.object.extend(u,{duration:a||500,startValue:l,endValue:d,byValue:d,easing:function(v,w,C,x){var b=u.colorEasing?u.colorEasing(v,x):1-Math.cos(v/x*(Math.PI/2));return f(w,C,b)},onComplete:function(v,w,C){if(y)return y(f(d,d,0),w,C)},onChange:function(v,w,C){if(p){if(Array.isArray(v))return p(f(v,v,0),w,C);p(v,w,C)}}}))}e.util.animateColor=i}(),function(){function f(P,R,I,N){return P<Math.abs(R)?(P=R,N=I/4):R===0&&P===0?N=I/(2*Math.PI)*Math.asin(1):N=I/(2*Math.PI)*Math.asin(R/P),{a:P,c:R,p:I,s:N}}function i(P,R,I){return P.a*Math.pow(2,10*(R-=1))*Math.sin((R*I-P.s)*(2*Math.PI)/P.p)}function h(P,R,I,N){return I*((P=P/N-1)*P*P+1)+R}function g(P,R,I,N){return P/=N/2,P<1?I/2*P*P*P+R:I/2*((P-=2)*P*P+2)+R}function a(P,R,I,N){return I*(P/=N)*P*P*P+R}function u(P,R,I,N){return-I*((P=P/N-1)*P*P*P-1)+R}function l(P,R,I,N){return P/=N/2,P<1?I/2*P*P*P*P+R:-I/2*((P-=2)*P*P*P-2)+R}function d(P,R,I,N){return I*(P/=N)*P*P*P*P+R}function y(P,R,I,N){return I*((P=P/N-1)*P*P*P*P+1)+R}function p(P,R,I,N){return P/=N/2,P<1?I/2*P*P*P*P*P+R:I/2*((P-=2)*P*P*P*P+2)+R}function v(P,R,I,N){return-I*Math.cos(P/N*(Math.PI/2))+I+R}function w(P,R,I,N){return I*Math.sin(P/N*(Math.PI/2))+R}function C(P,R,I,N){return-I/2*(Math.cos(Math.PI*P/N)-1)+R}function x(P,R,I,N){return P===0?R:I*Math.pow(2,10*(P/N-1))+R}function b(P,R,I,N){return P===N?R+I:I*(-Math.pow(2,-10*P/N)+1)+R}function E(P,R,I,N){return P===0?R:P===N?R+I:(P/=N/2,P<1?I/2*Math.pow(2,10*(P-1))+R:I/2*(-Math.pow(2,-10*--P)+2)+R)}function k(P,R,I,N){return-I*(Math.sqrt(1-(P/=N)*P)-1)+R}function D(P,R,I,N){return I*Math.sqrt(1-(P=P/N-1)*P)+R}function B(P,R,I,N){return P/=N/2,P<1?-I/2*(Math.sqrt(1-P*P)-1)+R:I/2*(Math.sqrt(1-(P-=2)*P)+1)+R}function W(P,R,I,N){var Q=1.70158,F=0,M=I;if(P===0)return R;if(P/=N,P===1)return R+I;F||(F=N*.3);var V=f(M,I,F,Q);return-i(V,P,N)+R}function $(P,R,I,N){var Q=1.70158,F=0,M=I;if(P===0)return R;if(P/=N,P===1)return R+I;F||(F=N*.3);var V=f(M,I,F,Q);return V.a*Math.pow(2,-10*P)*Math.sin((P*N-V.s)*(2*Math.PI)/V.p)+V.c+R}function re(P,R,I,N){var Q=1.70158,F=0,M=I;if(P===0)return R;if(P/=N/2,P===2)return R+I;F||(F=N*(.3*1.5));var V=f(M,I,F,Q);return P<1?-.5*i(V,P,N)+R:V.a*Math.pow(2,-10*(P-=1))*Math.sin((P*N-V.s)*(2*Math.PI)/V.p)*.5+V.c+R}function Z(P,R,I,N,Q){return Q===void 0&&(Q=1.70158),I*(P/=N)*P*((Q+1)*P-Q)+R}function se(P,R,I,N,Q){return Q===void 0&&(Q=1.70158),I*((P=P/N-1)*P*((Q+1)*P+Q)+1)+R}function ue(P,R,I,N,Q){return Q===void 0&&(Q=1.70158),P/=N/2,P<1?I/2*(P*P*(((Q*=1.525)+1)*P-Q))+R:I/2*((P-=2)*P*(((Q*=1.525)+1)*P+Q)+2)+R}function Ce(P,R,I,N){return I-be(N-P,0,I,N)+R}function be(P,R,I,N){return(P/=N)<1/2.75?I*(7.5625*P*P)+R:P<2/2.75?I*(7.5625*(P-=1.5/2.75)*P+.75)+R:P<2.5/2.75?I*(7.5625*(P-=2.25/2.75)*P+.9375)+R:I*(7.5625*(P-=2.625/2.75)*P+.984375)+R}function ee(P,R,I,N){return P<N/2?Ce(P*2,0,I,N)*.5+R:be(P*2-N,0,I,N)*.5+I*.5+R}e.util.ease={easeInQuad:function(P,R,I,N){return I*(P/=N)*P+R},easeOutQuad:function(P,R,I,N){return-I*(P/=N)*(P-2)+R},easeInOutQuad:function(P,R,I,N){return P/=N/2,P<1?I/2*P*P+R:-I/2*(--P*(P-2)-1)+R},easeInCubic:function(P,R,I,N){return I*(P/=N)*P*P+R},easeOutCubic:h,easeInOutCubic:g,easeInQuart:a,easeOutQuart:u,easeInOutQuart:l,easeInQuint:d,easeOutQuint:y,easeInOutQuint:p,easeInSine:v,easeOutSine:w,easeInOutSine:C,easeInExpo:x,easeOutExpo:b,easeInOutExpo:E,easeInCirc:k,easeOutCirc:D,easeInOutCirc:B,easeInElastic:W,easeOutElastic:$,easeInOutElastic:re,easeInBack:Z,easeOutBack:se,easeInOutBack:ue,easeInBounce:Ce,easeOutBounce:be,easeInOutBounce:ee}}(),function(f){var i=f.fabric||(f.fabric={}),h=i.util.object.extend,g=i.util.object.clone,a=i.util.toFixed,u=i.util.parseUnit,l=i.util.multiplyTransformMatrices,d=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],y=["symbol","image","marker","pattern","view","svg"],p=["pattern","defs","symbol","metadata","clipPath","mask","desc"],v=["symbol","g","a","svg","clipPath","defs"],w={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},C={stroke:"strokeOpacity",fill:"fillOpacity"},x="font-size",b="clip-path";i.svgValidTagNamesRegEx=D(d),i.svgViewBoxElementsRegEx=D(y),i.svgInvalidAncestorsRegEx=D(p),i.svgValidParentsRegEx=D(v),i.cssRules={},i.gradientDefs={},i.clipPaths={};function E(F){return F in w?w[F]:F}function k(F,M,V,q){var ae=Array.isArray(M),J;if((F==="fill"||F==="stroke")&&M==="none")M="";else{if(F==="strokeUniform")return M==="non-scaling-stroke";if(F==="strokeDashArray")M==="none"?M=null:M=M.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(F==="transformMatrix")V&&V.transformMatrix?M=l(V.transformMatrix,i.parseTransformAttribute(M)):M=i.parseTransformAttribute(M);else if(F==="visible")M=M!=="none"&&M!=="hidden",V&&V.visible===!1&&(M=!1);else if(F==="opacity")M=parseFloat(M),V&&typeof V.opacity<"u"&&(M*=V.opacity);else if(F==="textAnchor")M=M==="start"?"left":M==="end"?"right":"center";else if(F==="charSpacing")J=u(M,q)/q*1e3;else if(F==="paintFirst"){var fe=M.indexOf("fill"),ye=M.indexOf("stroke"),M="fill";(fe>-1&&ye>-1&&ye<fe||fe===-1&&ye>-1)&&(M="stroke")}else{if(F==="href"||F==="xlink:href"||F==="font")return M;if(F==="imageSmoothing")return M==="optimizeQuality";J=ae?M.map(u):u(M,q)}}return!ae&&isNaN(J)?M:J}function D(F){return new RegExp("^("+F.join("|")+")\\b","i")}function B(F){for(var M in C)if(!(typeof F[C[M]]>"u"||F[M]==="")){if(typeof F[M]>"u"){if(!i.Object.prototype[M])continue;F[M]=i.Object.prototype[M]}if(F[M].indexOf("url(")!==0){var V=new i.Color(F[M]);F[M]=V.setAlpha(a(V.getAlpha()*F[C[M]],2)).toRgba()}}return F}function W(F,M){var V,q=[],ae,J,fe;for(J=0,fe=M.length;J<fe;J++)V=M[J],ae=F.getElementsByTagName(V),q=q.concat(Array.prototype.slice.call(ae));return q}i.parseTransformAttribute=function(){function F(oe,Me){var Be=i.util.cos(Me[0]),He=i.util.sin(Me[0]),nt=0,$e=0;Me.length===3&&(nt=Me[1],$e=Me[2]),oe[0]=Be,oe[1]=He,oe[2]=-He,oe[3]=Be,oe[4]=nt-(Be*nt-He*$e),oe[5]=$e-(He*nt+Be*$e)}function M(oe,Me){var Be=Me[0],He=Me.length===2?Me[1]:Me[0];oe[0]=Be,oe[3]=He}function V(oe,Me,Be){oe[Be]=Math.tan(i.util.degreesToRadians(Me[0]))}function q(oe,Me){oe[4]=Me[0],Me.length===2&&(oe[5]=Me[1])}var ae=i.iMatrix,J=i.reNum,fe=i.commaWsp,ye="(?:(skewX)\\s*\\(\\s*("+J+")\\s*\\))",_e="(?:(skewY)\\s*\\(\\s*("+J+")\\s*\\))",ie="(?:(rotate)\\s*\\(\\s*("+J+")(?:"+fe+"("+J+")"+fe+"("+J+"))?\\s*\\))",X="(?:(scale)\\s*\\(\\s*("+J+")(?:"+fe+"("+J+"))?\\s*\\))",ce="(?:(translate)\\s*\\(\\s*("+J+")(?:"+fe+"("+J+"))?\\s*\\))",he="(?:(matrix)\\s*\\(\\s*("+J+")"+fe+"("+J+")"+fe+"("+J+")"+fe+"("+J+")"+fe+"("+J+")"+fe+"("+J+")\\s*\\))",te="(?:"+he+"|"+ce+"|"+X+"|"+ie+"|"+ye+"|"+_e+")",me="(?:"+te+"(?:"+fe+"*"+te+")*)",xe="^\\s*(?:"+me+"?)\\s*$",Ie=new RegExp(xe),Ee=new RegExp(te,"g");return function(oe){var Me=ae.concat(),Be=[];if(!oe||oe&&!Ie.test(oe))return Me;oe.replace(Ee,function(nt){var $e=new RegExp(te).exec(nt).filter(function(Gn){return!!Gn}),mt=$e[1],ut=$e.slice(2).map(parseFloat);switch(mt){case"translate":q(Me,ut);break;case"rotate":ut[0]=i.util.degreesToRadians(ut[0]),F(Me,ut);break;case"scale":M(Me,ut);break;case"skewX":V(Me,ut,2);break;case"skewY":V(Me,ut,1);break;case"matrix":Me=ut;break}Be.push(Me.concat()),Me=ae.concat()});for(var He=Be[0];Be.length>1;)Be.shift(),He=i.util.multiplyTransformMatrices(He,Be[0]);return He}}();function $(F,M){var V,q;F.replace(/;\s*$/,"").split(";").forEach(function(ae){var J=ae.split(":");V=J[0].trim().toLowerCase(),q=J[1].trim(),M[V]=q})}function re(F,M){var V,q;for(var ae in F)typeof F[ae]>"u"||(V=ae.toLowerCase(),q=F[ae],M[V]=q)}function Z(F,M){var V={};for(var q in i.cssRules[M])if(se(F,q.split(" ")))for(var ae in i.cssRules[M][q])V[ae]=i.cssRules[M][q][ae];return V}function se(F,M){var V,q=!0;return V=Ce(F,M.pop()),V&&M.length&&(q=ue(F,M)),V&&q&&M.length===0}function ue(F,M){for(var V,q=!0;F.parentNode&&F.parentNode.nodeType===1&&M.length;)q&&(V=M.pop()),F=F.parentNode,q=Ce(F,V);return M.length===0}function Ce(F,M){var V=F.nodeName,q=F.getAttribute("class"),ae=F.getAttribute("id"),J,fe;if(J=new RegExp("^"+V,"i"),M=M.replace(J,""),ae&&M.length&&(J=new RegExp("#"+ae+"(?![a-zA-Z\\-]+)","i"),M=M.replace(J,"")),q&&M.length)for(q=q.split(" "),fe=q.length;fe--;)J=new RegExp("\\."+q[fe]+"(?![a-zA-Z\\-]+)","i"),M=M.replace(J,"");return M.length===0}function be(F,M){var V;if(F.getElementById&&(V=F.getElementById(M)),V)return V;var q,ae,J,fe=F.getElementsByTagName("*");for(ae=0,J=fe.length;ae<J;ae++)if(q=fe[ae],M===q.getAttribute("id"))return q}function ee(F){for(var M=W(F,["use","svg:use"]),V=0;M.length&&V<M.length;){var q=M[V],ae=q.getAttribute("xlink:href")||q.getAttribute("href");if(ae===null)return;var J=ae.slice(1),fe=q.getAttribute("x")||0,ye=q.getAttribute("y")||0,_e=be(F,J).cloneNode(!0),ie=(_e.getAttribute("transform")||"")+" translate("+fe+", "+ye+")",X,ce=M.length,he,te,me,xe,Ie=i.svgNS;if(R(_e),/^svg$/i.test(_e.nodeName)){var Ee=_e.ownerDocument.createElementNS(Ie,"g");for(te=0,me=_e.attributes,xe=me.length;te<xe;te++)he=me.item(te),Ee.setAttributeNS(Ie,he.nodeName,he.nodeValue);for(;_e.firstChild;)Ee.appendChild(_e.firstChild);_e=Ee}for(te=0,me=q.attributes,xe=me.length;te<xe;te++)he=me.item(te),!(he.nodeName==="x"||he.nodeName==="y"||he.nodeName==="xlink:href"||he.nodeName==="href")&&(he.nodeName==="transform"?ie=he.nodeValue+" "+ie:_e.setAttribute(he.nodeName,he.nodeValue));_e.setAttribute("transform",ie),_e.setAttribute("instantiated_by_use","1"),_e.removeAttribute("id"),X=q.parentNode,X.replaceChild(_e,q),M.length===ce&&V++}}var P=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function R(F){if(!i.svgViewBoxElementsRegEx.test(F.nodeName))return{};var M=F.getAttribute("viewBox"),V=1,q=1,ae=0,J=0,fe,ye,_e,ie,X=F.getAttribute("width"),ce=F.getAttribute("height"),he=F.getAttribute("x")||0,te=F.getAttribute("y")||0,me=F.getAttribute("preserveAspectRatio")||"",xe=!M||!(M=M.match(P)),Ie=!X||!ce||X==="100%"||ce==="100%",Ee=xe&&Ie,oe={},Me="",Be=0,He=0;if(oe.width=0,oe.height=0,oe.toBeParsed=Ee,xe&&(he||te)&&F.parentNode&&F.parentNode.nodeName!=="#document"&&(Me=" translate("+u(he)+" "+u(te)+") ",_e=(F.getAttribute("transform")||"")+Me,F.setAttribute("transform",_e),F.removeAttribute("x"),F.removeAttribute("y")),Ee)return oe;if(xe)return oe.width=u(X),oe.height=u(ce),oe;if(ae=-parseFloat(M[1]),J=-parseFloat(M[2]),fe=parseFloat(M[3]),ye=parseFloat(M[4]),oe.minX=ae,oe.minY=J,oe.viewBoxWidth=fe,oe.viewBoxHeight=ye,Ie?(oe.width=fe,oe.height=ye):(oe.width=u(X),oe.height=u(ce),V=oe.width/fe,q=oe.height/ye),me=i.util.parsePreserveAspectRatioAttribute(me),me.alignX!=="none"&&(me.meetOrSlice==="meet"&&(q=V=V>q?q:V),me.meetOrSlice==="slice"&&(q=V=V>q?V:q),Be=oe.width-fe*V,He=oe.height-ye*V,me.alignX==="Mid"&&(Be/=2),me.alignY==="Mid"&&(He/=2),me.alignX==="Min"&&(Be=0),me.alignY==="Min"&&(He=0)),V===1&&q===1&&ae===0&&J===0&&he===0&&te===0)return oe;if((he||te)&&F.parentNode.nodeName!=="#document"&&(Me=" translate("+u(he)+" "+u(te)+") "),_e=Me+" matrix("+V+" 0 0 "+q+" "+(ae*V+Be)+" "+(J*q+He)+") ",F.nodeName==="svg"){for(ie=F.ownerDocument.createElementNS(i.svgNS,"g");F.firstChild;)ie.appendChild(F.firstChild);F.appendChild(ie)}else ie=F,ie.removeAttribute("x"),ie.removeAttribute("y"),_e=ie.getAttribute("transform")+_e;return ie.setAttribute("transform",_e),oe}function I(F,M){for(;F&&(F=F.parentNode);)if(F.nodeName&&M.test(F.nodeName.replace("svg:",""))&&!F.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(F,M,V,q){if(!!F){ee(F);var ae=i.Object.__uid++,J,fe,ye=R(F),_e=i.util.toArray(F.getElementsByTagName("*"));if(ye.crossOrigin=q&&q.crossOrigin,ye.svgUid=ae,_e.length===0&&i.isLikelyNode){_e=F.selectNodes('//*[name(.)!="svg"]');var ie=[];for(J=0,fe=_e.length;J<fe;J++)ie[J]=_e[J];_e=ie}var X=_e.filter(function(he){return R(he),i.svgValidTagNamesRegEx.test(he.nodeName.replace("svg:",""))&&!I(he,i.svgInvalidAncestorsRegEx)});if(!X||X&&!X.length){M&&M([],{});return}var ce={};_e.filter(function(he){return he.nodeName.replace("svg:","")==="clipPath"}).forEach(function(he){var te=he.getAttribute("id");ce[te]=i.util.toArray(he.getElementsByTagName("*")).filter(function(me){return i.svgValidTagNamesRegEx.test(me.nodeName.replace("svg:",""))})}),i.gradientDefs[ae]=i.getGradientDefs(F),i.cssRules[ae]=i.getCSSRules(F),i.clipPaths[ae]=ce,i.parseElements(X,function(he,te){M&&(M(he,ye,te,_e),delete i.gradientDefs[ae],delete i.cssRules[ae],delete i.clipPaths[ae])},g(ye),V,q)}};function N(F,M){var V=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],q="xlink:href",ae=M.getAttribute(q).slice(1),J=be(F,ae);if(J&&J.getAttribute(q)&&N(F,J),V.forEach(function(ye){J&&!M.hasAttribute(ye)&&J.hasAttribute(ye)&&M.setAttribute(ye,J.getAttribute(ye))}),!M.children.length)for(var fe=J.cloneNode(!0);fe.firstChild;)M.appendChild(fe.firstChild);M.removeAttribute(q)}var Q=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");h(i,{parseFontDeclaration:function(F,M){var V=F.match(Q);if(!!V){var q=V[1],ae=V[3],J=V[4],fe=V[5],ye=V[6];q&&(M.fontStyle=q),ae&&(M.fontWeight=isNaN(parseFloat(ae))?ae:parseFloat(ae)),J&&(M.fontSize=u(J)),ye&&(M.fontFamily=ye),fe&&(M.lineHeight=fe==="normal"?1:fe)}},getGradientDefs:function(F){var M=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],V=W(F,M),q,ae=0,J={};for(ae=V.length;ae--;)q=V[ae],q.getAttribute("xlink:href")&&N(F,q),J[q.getAttribute("id")]=q;return J},parseAttributes:function(F,M,V){if(!!F){var q,ae={},J,fe;typeof V>"u"&&(V=F.getAttribute("svgUid")),F.parentNode&&i.svgValidParentsRegEx.test(F.parentNode.nodeName)&&(ae=i.parseAttributes(F.parentNode,M,V));var ye=M.reduce(function(me,xe){return q=F.getAttribute(xe),q&&(me[xe]=q),me},{}),_e=h(Z(F,V),i.parseStyleAttribute(F));ye=h(ye,_e),_e[b]&&F.setAttribute(b,_e[b]),J=fe=ae.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,ye[x]&&(ye[x]=J=u(ye[x],fe));var ie,X,ce={};for(var he in ye)ie=E(he),X=k(ie,ye[he],ae,J),ce[ie]=X;ce&&ce.font&&i.parseFontDeclaration(ce.font,ce);var te=h(ae,ce);return i.svgValidParentsRegEx.test(F.nodeName)?te:B(te)}},parseElements:function(F,M,V,q,ae){new i.ElementsParser(F,M,V,q,ae).parse()},parseStyleAttribute:function(F){var M={},V=F.getAttribute("style");return V&&(typeof V=="string"?$(V,M):re(V,M)),M},parsePointsAttribute:function(F){if(!F)return null;F=F.replace(/,/g," ").trim(),F=F.split(/\s+/);var M=[],V,q;for(V=0,q=F.length;V<q;V+=2)M.push({x:parseFloat(F[V]),y:parseFloat(F[V+1])});return M},getCSSRules:function(F){var M=F.getElementsByTagName("style"),V,q,ae={},J;for(V=0,q=M.length;V<q;V++){var fe=M[V].textContent;fe=fe.replace(/\/\*[\s\S]*?\*\//g,""),fe.trim()!==""&&(J=fe.split("}"),J=J.filter(function(ye){return ye.trim()}),J.forEach(function(ye){var _e=ye.split("{"),ie={},X=_e[1].trim(),ce=X.split(";").filter(function(xe){return xe.trim()});for(V=0,q=ce.length;V<q;V++){var he=ce[V].split(":"),te=he[0].trim(),me=he[1].trim();ie[te]=me}ye=_e[0].trim(),ye.split(",").forEach(function(xe){xe=xe.replace(/^svg/i,"").trim(),xe!==""&&(ae[xe]?i.util.object.extend(ae[xe],ie):ae[xe]=i.util.object.clone(ie))})}))}return ae},loadSVGFromURL:function(F,M,V,q){F=F.replace(/^\n\s*/,"").trim(),new i.util.request(F,{method:"get",onComplete:ae});function ae(J){var fe=J.responseXML;if(!fe||!fe.documentElement)return M&&M(null),!1;i.parseSVGDocument(fe.documentElement,function(ye,_e,ie,X){M&&M(ye,_e,ie,X)},V,q)}},loadSVGFromString:function(F,M,V,q){var ae=new i.window.DOMParser,J=ae.parseFromString(F.trim(),"text/xml");i.parseSVGDocument(J.documentElement,function(fe,ye,_e,ie){M(fe,ye,_e,ie)},V,q)}})}(t),e.ElementsParser=function(f,i,h,g,a,u){this.elements=f,this.callback=i,this.options=h,this.reviver=g,this.svgUid=h&&h.svgUid||0,this.parsingOptions=a,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=u},function(f){f.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},f.createObjects=function(){var i=this;this.elements.forEach(function(h,g){h.setAttribute("svgUid",i.svgUid),i.createObject(h,g)})},f.findTag=function(i){return e[e.util.string.capitalize(i.tagName.replace("svg:",""))]},f.createObject=function(i,h){var g=this.findTag(i);if(g&&g.fromElement)try{g.fromElement(i,this.createCallback(h,i),this.options)}catch(a){e.log(a)}else this.checkIfDone()},f.createCallback=function(i,h){var g=this;return function(a){var u;g.resolveGradient(a,h,"fill"),g.resolveGradient(a,h,"stroke"),a instanceof e.Image&&a._originalElement&&(u=a.parsePreserveAspectRatioAttribute(h)),a._removeTransformMatrix(u),g.resolveClipPath(a,h),g.reviver&&g.reviver(h,a),g.instances[i]=a,g.checkIfDone()}},f.extractPropertyDefinition=function(i,h,g){var a=i[h],u=this.regexUrl;if(!!u.test(a)){u.lastIndex=0;var l=u.exec(a)[1];return u.lastIndex=0,e[g][this.svgUid][l]}},f.resolveGradient=function(i,h,g){var a=this.extractPropertyDefinition(i,g,"gradientDefs");if(a){var u=h.getAttribute(g+"-opacity"),l=e.Gradient.fromElement(a,i,u,this.options);i.set(g,l)}},f.createClipPathCallback=function(i,h){return function(g){g._removeTransformMatrix(),g.fillRule=g.clipRule,h.push(g)}},f.resolveClipPath=function(i,h){var g=this.extractPropertyDefinition(i,"clipPath","clipPaths"),a,u,l,d,y,p;if(g){d=[],l=e.util.invertTransform(i.calcTransformMatrix());for(var v=g[0].parentNode,w=h;w.parentNode&&w.getAttribute("clip-path")!==i.clipPath;)w=w.parentNode;w.parentNode.appendChild(v);for(var C=0;C<g.length;C++)a=g[C],u=this.findTag(a),u.fromElement(a,this.createClipPathCallback(i,d),this.options);d.length===1?g=d[0]:g=new e.Group(d),y=e.util.multiplyTransformMatrices(l,g.calcTransformMatrix()),g.clipPath&&this.resolveClipPath(g,w);var p=e.util.qrDecompose(y);g.flipX=!1,g.flipY=!1,g.set("scaleX",p.scaleX),g.set("scaleY",p.scaleY),g.angle=p.angle,g.skewX=p.skewX,g.skewY=0,g.setPositionByOrigin({x:p.translateX,y:p.translateY},"center","center"),i.clipPath=g}else delete i.clipPath},f.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(e.ElementsParser.prototype),function(f){var i=f.fabric||(f.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=h;function h(g,a){this.x=g,this.y=a}h.prototype={type:"point",constructor:h,add:function(g){return new h(this.x+g.x,this.y+g.y)},addEquals:function(g){return this.x+=g.x,this.y+=g.y,this},scalarAdd:function(g){return new h(this.x+g,this.y+g)},scalarAddEquals:function(g){return this.x+=g,this.y+=g,this},subtract:function(g){return new h(this.x-g.x,this.y-g.y)},subtractEquals:function(g){return this.x-=g.x,this.y-=g.y,this},scalarSubtract:function(g){return new h(this.x-g,this.y-g)},scalarSubtractEquals:function(g){return this.x-=g,this.y-=g,this},multiply:function(g){return new h(this.x*g,this.y*g)},multiplyEquals:function(g){return this.x*=g,this.y*=g,this},divide:function(g){return new h(this.x/g,this.y/g)},divideEquals:function(g){return this.x/=g,this.y/=g,this},eq:function(g){return this.x===g.x&&this.y===g.y},lt:function(g){return this.x<g.x&&this.y<g.y},lte:function(g){return this.x<=g.x&&this.y<=g.y},gt:function(g){return this.x>g.x&&this.y>g.y},gte:function(g){return this.x>=g.x&&this.y>=g.y},lerp:function(g,a){return typeof a>"u"&&(a=.5),a=Math.max(Math.min(1,a),0),new h(this.x+(g.x-this.x)*a,this.y+(g.y-this.y)*a)},distanceFrom:function(g){var a=this.x-g.x,u=this.y-g.y;return Math.sqrt(a*a+u*u)},midPointFrom:function(g){return this.lerp(g)},min:function(g){return new h(Math.min(this.x,g.x),Math.min(this.y,g.y))},max:function(g){return new h(Math.max(this.x,g.x),Math.max(this.y,g.y))},toString:function(){return this.x+","+this.y},setXY:function(g,a){return this.x=g,this.y=a,this},setX:function(g){return this.x=g,this},setY:function(g){return this.y=g,this},setFromPoint:function(g){return this.x=g.x,this.y=g.y,this},swap:function(g){var a=this.x,u=this.y;this.x=g.x,this.y=g.y,g.x=a,g.y=u},clone:function(){return new h(this.x,this.y)}}}(t),function(f){var i=f.fabric||(f.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function h(g){this.status=g,this.points=[]}i.Intersection=h,i.Intersection.prototype={constructor:h,appendPoint:function(g){return this.points.push(g),this},appendPoints:function(g){return this.points=this.points.concat(g),this}},i.Intersection.intersectLineLine=function(g,a,u,l){var d,y=(l.x-u.x)*(g.y-u.y)-(l.y-u.y)*(g.x-u.x),p=(a.x-g.x)*(g.y-u.y)-(a.y-g.y)*(g.x-u.x),v=(l.y-u.y)*(a.x-g.x)-(l.x-u.x)*(a.y-g.y);if(v!==0){var w=y/v,C=p/v;0<=w&&w<=1&&0<=C&&C<=1?(d=new h("Intersection"),d.appendPoint(new i.Point(g.x+w*(a.x-g.x),g.y+w*(a.y-g.y)))):d=new h}else y===0||p===0?d=new h("Coincident"):d=new h("Parallel");return d},i.Intersection.intersectLinePolygon=function(g,a,u){var l=new h,d=u.length,y,p,v,w;for(w=0;w<d;w++)y=u[w],p=u[(w+1)%d],v=h.intersectLineLine(g,a,y,p),l.appendPoints(v.points);return l.points.length>0&&(l.status="Intersection"),l},i.Intersection.intersectPolygonPolygon=function(g,a){var u=new h,l=g.length,d;for(d=0;d<l;d++){var y=g[d],p=g[(d+1)%l],v=h.intersectLinePolygon(y,p,a);u.appendPoints(v.points)}return u.points.length>0&&(u.status="Intersection"),u},i.Intersection.intersectPolygonRectangle=function(g,a,u){var l=a.min(u),d=a.max(u),y=new i.Point(d.x,l.y),p=new i.Point(l.x,d.y),v=h.intersectLinePolygon(l,y,g),w=h.intersectLinePolygon(y,d,g),C=h.intersectLinePolygon(d,p,g),x=h.intersectLinePolygon(p,l,g),b=new h;return b.appendPoints(v.points),b.appendPoints(w.points),b.appendPoints(C.points),b.appendPoints(x.points),b.points.length>0&&(b.status="Intersection"),b}}(t),function(f){var i=f.fabric||(f.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function h(a){a?this._tryParsingColor(a):this.setSource([0,0,0,1])}i.Color=h,i.Color.prototype={_tryParsingColor:function(a){var u;a in h.colorNameMap&&(a=h.colorNameMap[a]),a==="transparent"&&(u=[255,255,255,0]),u||(u=h.sourceFromHex(a)),u||(u=h.sourceFromRgb(a)),u||(u=h.sourceFromHsl(a)),u||(u=[0,0,0,1]),u&&this.setSource(u)},_rgbToHsl:function(a,u,l){a/=255,u/=255,l/=255;var d,y,p,v=i.util.array.max([a,u,l]),w=i.util.array.min([a,u,l]);if(p=(v+w)/2,v===w)d=y=0;else{var C=v-w;switch(y=p>.5?C/(2-v-w):C/(v+w),v){case a:d=(u-l)/C+(u<l?6:0);break;case u:d=(l-a)/C+2;break;case l:d=(a-u)/C+4;break}d/=6}return[Math.round(d*360),Math.round(y*100),Math.round(p*100)]},getSource:function(){return this._source},setSource:function(a){this._source=a},toRgb:function(){var a=this.getSource();return"rgb("+a[0]+","+a[1]+","+a[2]+")"},toRgba:function(){var a=this.getSource();return"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")"},toHsl:function(){var a=this.getSource(),u=this._rgbToHsl(a[0],a[1],a[2]);return"hsl("+u[0]+","+u[1]+"%,"+u[2]+"%)"},toHsla:function(){var a=this.getSource(),u=this._rgbToHsl(a[0],a[1],a[2]);return"hsla("+u[0]+","+u[1]+"%,"+u[2]+"%,"+a[3]+")"},toHex:function(){var a=this.getSource(),u,l,d;return u=a[0].toString(16),u=u.length===1?"0"+u:u,l=a[1].toString(16),l=l.length===1?"0"+l:l,d=a[2].toString(16),d=d.length===1?"0"+d:d,u.toUpperCase()+l.toUpperCase()+d.toUpperCase()},toHexa:function(){var a=this.getSource(),u;return u=Math.round(a[3]*255),u=u.toString(16),u=u.length===1?"0"+u:u,this.toHex()+u.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(a){var u=this.getSource();return u[3]=a,this.setSource(u),this},toGrayscale:function(){var a=this.getSource(),u=parseInt((a[0]*.3+a[1]*.59+a[2]*.11).toFixed(0),10),l=a[3];return this.setSource([u,u,u,l]),this},toBlackWhite:function(a){var u=this.getSource(),l=(u[0]*.3+u[1]*.59+u[2]*.11).toFixed(0),d=u[3];return a=a||127,l=Number(l)<Number(a)?0:255,this.setSource([l,l,l,d]),this},overlayWith:function(a){a instanceof h||(a=new h(a));var u=[],l=this.getAlpha(),d=.5,y=this.getSource(),p=a.getSource(),v;for(v=0;v<3;v++)u.push(Math.round(y[v]*(1-d)+p[v]*d));return u[3]=l,this.setSource(u),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function g(a,u,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?a+(u-a)*6*l:l<1/2?u:l<2/3?a+(u-a)*(2/3-l)*6:a}i.Color.fromRgb=function(a){return h.fromSource(h.sourceFromRgb(a))},i.Color.sourceFromRgb=function(a){var u=a.match(h.reRGBa);if(u){var l=parseInt(u[1],10)/(/%$/.test(u[1])?100:1)*(/%$/.test(u[1])?255:1),d=parseInt(u[2],10)/(/%$/.test(u[2])?100:1)*(/%$/.test(u[2])?255:1),y=parseInt(u[3],10)/(/%$/.test(u[3])?100:1)*(/%$/.test(u[3])?255:1);return[parseInt(l,10),parseInt(d,10),parseInt(y,10),u[4]?parseFloat(u[4]):1]}},i.Color.fromRgba=h.fromRgb,i.Color.fromHsl=function(a){return h.fromSource(h.sourceFromHsl(a))},i.Color.sourceFromHsl=function(a){var u=a.match(h.reHSLa);if(!!u){var l=(parseFloat(u[1])%360+360)%360/360,d=parseFloat(u[2])/(/%$/.test(u[2])?100:1),y=parseFloat(u[3])/(/%$/.test(u[3])?100:1),p,v,w;if(d===0)p=v=w=y;else{var C=y<=.5?y*(d+1):y+d-y*d,x=y*2-C;p=g(x,C,l+1/3),v=g(x,C,l),w=g(x,C,l-1/3)}return[Math.round(p*255),Math.round(v*255),Math.round(w*255),u[4]?parseFloat(u[4]):1]}},i.Color.fromHsla=h.fromHsl,i.Color.fromHex=function(a){return h.fromSource(h.sourceFromHex(a))},i.Color.sourceFromHex=function(a){if(a.match(h.reHex)){var u=a.slice(a.indexOf("#")+1),l=u.length===3||u.length===4,d=u.length===8||u.length===4,y=l?u.charAt(0)+u.charAt(0):u.substring(0,2),p=l?u.charAt(1)+u.charAt(1):u.substring(2,4),v=l?u.charAt(2)+u.charAt(2):u.substring(4,6),w=d?l?u.charAt(3)+u.charAt(3):u.substring(6,8):"FF";return[parseInt(y,16),parseInt(p,16),parseInt(v,16),parseFloat((parseInt(w,16)/255).toFixed(2))]}},i.Color.fromSource=function(a){var u=new h;return u.setSource(a),u}}(t),function(f){var i=f.fabric||(f.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],g=["ns","nesw","ew","nwse"],a={},u="left",l="top",d="right",y="bottom",p="center",v={top:y,bottom:l,left:d,right:u,center:p},w=i.util.radiansToDegrees,C=Math.sign||function(ie){return(ie>0)-(ie<0)||+ie};function x(ie,X){var ce=ie.angle+w(Math.atan2(X.y,X.x))+360;return Math.round(ce%360/45)}function b(ie,X){var ce=X.transform.target,he=ce.canvas,te=i.util.object.clone(X);te.target=ce,he&&he.fire("object:"+ie,te),ce.fire(ie,X)}function E(ie,X){var ce=X.canvas,he=ce.uniScaleKey,te=ie[he];return ce.uniformScaling&&!te||!ce.uniformScaling&&te}function k(ie){return ie.originX===p&&ie.originY===p}function D(ie,X,ce){var he=ie.lockScalingX,te=ie.lockScalingY;return!!(he&&te||!X&&(he||te)&&ce||he&&X==="x"||te&&X==="y")}function B(ie,X,ce){var he="not-allowed",te=E(ie,ce),me="";if(X.x!==0&&X.y===0?me="x":X.x===0&&X.y!==0&&(me="y"),D(ce,me,te))return he;var xe=x(ce,X);return h[xe]+"-resize"}function W(ie,X,ce){var he="not-allowed";if(X.x!==0&&ce.lockSkewingY||X.y!==0&&ce.lockSkewingX)return he;var te=x(ce,X)%4;return g[te]+"-resize"}function $(ie,X,ce){return ie[ce.canvas.altActionKey]?a.skewCursorStyleHandler(ie,X,ce):a.scaleCursorStyleHandler(ie,X,ce)}function re(ie,X,ce){var he=ie[ce.canvas.altActionKey];if(X.x===0)return he?"skewX":"scaleY";if(X.y===0)return he?"skewY":"scaleX"}function Z(ie,X,ce){return ce.lockRotation?"not-allowed":X.cursorStyle}function se(ie,X,ce,he){return{e:ie,transform:X,pointer:{x:ce,y:he}}}function ue(ie){return function(X,ce,he,te){var me=ce.target,xe=me.getCenterPoint(),Ie=me.translateToOriginPoint(xe,ce.originX,ce.originY),Ee=ie(X,ce,he,te);return me.setPositionByOrigin(Ie,ce.originX,ce.originY),Ee}}function Ce(ie,X){return function(ce,he,te,me){var xe=X(ce,he,te,me);return xe&&b(ie,se(ce,he,te,me)),xe}}function be(ie,X,ce,he,te){var me=ie.target,xe=me.controls[ie.corner],Ie=me.canvas.getZoom(),Ee=me.padding/Ie,oe=me.toLocalPoint(new i.Point(he,te),X,ce);return oe.x>=Ee&&(oe.x-=Ee),oe.x<=-Ee&&(oe.x+=Ee),oe.y>=Ee&&(oe.y-=Ee),oe.y<=Ee&&(oe.y+=Ee),oe.x-=xe.offsetX,oe.y-=xe.offsetY,oe}function ee(ie){return ie.flipX!==ie.flipY}function P(ie,X,ce,he,te){if(ie[X]!==0){var me=ie._getTransformedDimensions()[he],xe=te/me*ie[ce];ie.set(ce,xe)}}function R(ie,X,ce,he){var te=X.target,me=te._getTransformedDimensions(0,te.skewY),xe=be(X,X.originX,X.originY,ce,he),Ie=Math.abs(xe.x*2)-me.x,Ee=te.skewX,oe;Ie<2?oe=0:(oe=w(Math.atan2(Ie/te.scaleX,me.y/te.scaleY)),X.originX===u&&X.originY===y&&(oe=-oe),X.originX===d&&X.originY===l&&(oe=-oe),ee(te)&&(oe=-oe));var Me=Ee!==oe;if(Me){var Be=te._getTransformedDimensions().y;te.set("skewX",oe),P(te,"skewY","scaleY","y",Be)}return Me}function I(ie,X,ce,he){var te=X.target,me=te._getTransformedDimensions(te.skewX,0),xe=be(X,X.originX,X.originY,ce,he),Ie=Math.abs(xe.y*2)-me.y,Ee=te.skewY,oe;Ie<2?oe=0:(oe=w(Math.atan2(Ie/te.scaleY,me.x/te.scaleX)),X.originX===u&&X.originY===y&&(oe=-oe),X.originX===d&&X.originY===l&&(oe=-oe),ee(te)&&(oe=-oe));var Me=Ee!==oe;if(Me){var Be=te._getTransformedDimensions().x;te.set("skewY",oe),P(te,"skewX","scaleX","x",Be)}return Me}function N(ie,X,ce,he){var te=X.target,me=te.skewX,xe,Ie=X.originY;if(te.lockSkewingX)return!1;if(me===0){var Ee=be(X,p,p,ce,he);Ee.x>0?xe=u:xe=d}else me>0&&(xe=Ie===l?u:d),me<0&&(xe=Ie===l?d:u),ee(te)&&(xe=xe===u?d:u);X.originX=xe;var oe=Ce("skewing",ue(R));return oe(ie,X,ce,he)}function Q(ie,X,ce,he){var te=X.target,me=te.skewY,xe,Ie=X.originX;if(te.lockSkewingY)return!1;if(me===0){var Ee=be(X,p,p,ce,he);Ee.y>0?xe=l:xe=y}else me>0&&(xe=Ie===u?l:y),me<0&&(xe=Ie===u?y:l),ee(te)&&(xe=xe===l?y:l);X.originY=xe;var oe=Ce("skewing",ue(I));return oe(ie,X,ce,he)}function F(ie,X,ce,he){var te=X,me=te.target,xe=me.translateToOriginPoint(me.getCenterPoint(),te.originX,te.originY);if(me.lockRotation)return!1;var Ie=Math.atan2(te.ey-xe.y,te.ex-xe.x),Ee=Math.atan2(he-xe.y,ce-xe.x),oe=w(Ee-Ie+te.theta),Me=!0;if(me.snapAngle>0){var Be=me.snapAngle,He=me.snapThreshold||Be,nt=Math.ceil(oe/Be)*Be,$e=Math.floor(oe/Be)*Be;Math.abs(oe-$e)<He?oe=$e:Math.abs(oe-nt)<He&&(oe=nt)}return oe<0&&(oe=360+oe),oe%=360,Me=me.angle!==oe,me.angle=oe,Me}function M(ie,X,ce,he,te){te=te||{};var me=X.target,xe=me.lockScalingX,Ie=me.lockScalingY,Ee=te.by,oe,Me,Be,He,nt=E(ie,me),$e=D(me,Ee,nt),mt,ut,Gn=X.gestureScale;if($e)return!1;if(Gn)Me=X.scaleX*Gn,Be=X.scaleY*Gn;else{if(oe=be(X,X.originX,X.originY,ce,he),mt=Ee!=="y"?C(oe.x):1,ut=Ee!=="x"?C(oe.y):1,X.signX||(X.signX=mt),X.signY||(X.signY=ut),me.lockScalingFlip&&(X.signX!==mt||X.signY!==ut))return!1;if(He=me._getTransformedDimensions(),nt&&!Ee){var Er=Math.abs(oe.x)+Math.abs(oe.y),tn=X.original,ia=Math.abs(He.x*tn.scaleX/me.scaleX)+Math.abs(He.y*tn.scaleY/me.scaleY),ts=Er/ia;Me=tn.scaleX*ts,Be=tn.scaleY*ts}else Me=Math.abs(oe.x*me.scaleX/He.x),Be=Math.abs(oe.y*me.scaleY/He.y);k(X)&&(Me*=2,Be*=2),X.signX!==mt&&Ee!=="y"&&(X.originX=v[X.originX],Me*=-1,X.signX=mt),X.signY!==ut&&Ee!=="x"&&(X.originY=v[X.originY],Be*=-1,X.signY=ut)}var sa=me.scaleX,aa=me.scaleY;return Ee?(Ee==="x"&&me.set("scaleX",Me),Ee==="y"&&me.set("scaleY",Be)):(!xe&&me.set("scaleX",Me),!Ie&&me.set("scaleY",Be)),sa!==me.scaleX||aa!==me.scaleY}function V(ie,X,ce,he){return M(ie,X,ce,he)}function q(ie,X,ce,he){return M(ie,X,ce,he,{by:"x"})}function ae(ie,X,ce,he){return M(ie,X,ce,he,{by:"y"})}function J(ie,X,ce,he){return ie[X.target.canvas.altActionKey]?a.skewHandlerX(ie,X,ce,he):a.scalingY(ie,X,ce,he)}function fe(ie,X,ce,he){return ie[X.target.canvas.altActionKey]?a.skewHandlerY(ie,X,ce,he):a.scalingX(ie,X,ce,he)}function ye(ie,X,ce,he){var te=X.target,me=be(X,X.originX,X.originY,ce,he),xe=te.strokeWidth/(te.strokeUniform?te.scaleX:1),Ie=k(X)?2:1,Ee=te.width,oe=Math.abs(me.x*Ie/te.scaleX)-xe;return te.set("width",Math.max(oe,0)),Ee!==oe}function _e(ie,X,ce,he){var te=X.target,me=ce-X.offsetX,xe=he-X.offsetY,Ie=!te.get("lockMovementX")&&te.left!==me,Ee=!te.get("lockMovementY")&&te.top!==xe;return Ie&&te.set("left",me),Ee&&te.set("top",xe),(Ie||Ee)&&b("moving",se(ie,X,ce,he)),Ie||Ee}a.scaleCursorStyleHandler=B,a.skewCursorStyleHandler=W,a.scaleSkewCursorStyleHandler=$,a.rotationWithSnapping=Ce("rotating",ue(F)),a.scalingEqually=Ce("scaling",ue(V)),a.scalingX=Ce("scaling",ue(q)),a.scalingY=Ce("scaling",ue(ae)),a.scalingYOrSkewingX=J,a.scalingXOrSkewingY=fe,a.changeWidth=Ce("resizing",ue(ye)),a.skewHandlerX=N,a.skewHandlerY=Q,a.dragHandler=_e,a.scaleOrSkewActionName=re,a.rotationStyleHandler=Z,a.fireEvent=b,a.wrapWithFixedAnchor=ue,a.wrapWithFireEvent=Ce,a.getLocalPoint=be,i.controlsUtils=a}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.util.degreesToRadians,g=i.controlsUtils;function a(l,d,y,p,v){p=p||{};var w=this.sizeX||p.cornerSize||v.cornerSize,C=this.sizeY||p.cornerSize||v.cornerSize,x=typeof p.transparentCorners<"u"?p.transparentCorners:v.transparentCorners,b=x?"stroke":"fill",E=!x&&(p.cornerStrokeColor||v.cornerStrokeColor),k=d,D=y,B;l.save(),l.fillStyle=p.cornerColor||v.cornerColor,l.strokeStyle=p.cornerStrokeColor||v.cornerStrokeColor,w>C?(B=w,l.scale(1,C/w),D=y*w/C):C>w?(B=C,l.scale(w/C,1),k=d*C/w):B=w,l.lineWidth=1,l.beginPath(),l.arc(k,D,B/2,0,2*Math.PI,!1),l[b](),E&&l.stroke(),l.restore()}function u(l,d,y,p,v){p=p||{};var w=this.sizeX||p.cornerSize||v.cornerSize,C=this.sizeY||p.cornerSize||v.cornerSize,x=typeof p.transparentCorners<"u"?p.transparentCorners:v.transparentCorners,b=x?"stroke":"fill",E=!x&&(p.cornerStrokeColor||v.cornerStrokeColor),k=w/2,D=C/2;l.save(),l.fillStyle=p.cornerColor||v.cornerColor,l.strokeStyle=p.cornerStrokeColor||v.cornerStrokeColor,l.lineWidth=1,l.translate(d,y),l.rotate(h(v.angle)),l[b+"Rect"](-k,-D,w,C),E&&l.strokeRect(-k,-D,w,C),l.restore()}g.renderCircleControl=a,g.renderSquareControl=u}(t),function(f){var i=f.fabric||(f.fabric={});function h(g){for(var a in g)this[a]=g[a]}i.Control=h,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(g,a){return a.cursorStyle},getActionName:function(g,a){return a.actionName},getVisibility:function(g,a){var u=g._controlsVisibility;return u&&typeof u[a]<"u"?u[a]:this.visible},setVisibility:function(g){this.visible=g},positionHandler:function(g,a){var u=i.util.transformPoint({x:this.x*g.x+this.offsetX,y:this.y*g.y+this.offsetY},a);return u},calcCornerCoords:function(g,a,u,l,d){var y,p,v,w,C=d?this.touchSizeX:this.sizeX,x=d?this.touchSizeY:this.sizeY;if(C&&x&&C!==x){var b=Math.atan2(x,C),E=Math.sqrt(C*C+x*x)/2,k=b-i.util.degreesToRadians(g),D=Math.PI/2-b-i.util.degreesToRadians(g);y=E*i.util.cos(k),p=E*i.util.sin(k),v=E*i.util.cos(D),w=E*i.util.sin(D)}else{var B=C&&x?C:a;E=B*.7071067812;var k=i.util.degreesToRadians(45-g);y=v=E*i.util.cos(k),p=w=E*i.util.sin(k)}return{tl:{x:u-w,y:l-v},tr:{x:u+y,y:l-p},bl:{x:u-y,y:l+p},br:{x:u+w,y:l+v}}},render:function(g,a,u,l,d){switch(l=l||{},l.cornerStyle||d.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,g,a,u,l,d);break;default:i.controlsUtils.renderSquareControl.call(this,g,a,u,l,d)}}}}(t),function(){function f(u,l){var d=u.getAttribute("style"),y=u.getAttribute("offset")||0,p,v,w,C;if(y=parseFloat(y)/(/%$/.test(y)?100:1),y=y<0?0:y>1?1:y,d){var x=d.split(/\s*;\s*/);for(x[x.length-1]===""&&x.pop(),C=x.length;C--;){var b=x[C].split(/\s*:\s*/),E=b[0].trim(),k=b[1].trim();E==="stop-color"?p=k:E==="stop-opacity"&&(w=k)}}return p||(p=u.getAttribute("stop-color")||"rgb(0,0,0)"),w||(w=u.getAttribute("stop-opacity")),p=new e.Color(p),v=p.getAlpha(),w=isNaN(parseFloat(w))?1:parseFloat(w),w*=v*l,{offset:y,color:p.toRgb(),opacity:w}}function i(u){return{x1:u.getAttribute("x1")||0,y1:u.getAttribute("y1")||0,x2:u.getAttribute("x2")||"100%",y2:u.getAttribute("y2")||0}}function h(u){return{x1:u.getAttribute("fx")||u.getAttribute("cx")||"50%",y1:u.getAttribute("fy")||u.getAttribute("cy")||"50%",r1:0,x2:u.getAttribute("cx")||"50%",y2:u.getAttribute("cy")||"50%",r2:u.getAttribute("r")||"50%"}}var g=e.util.object.clone;e.Gradient=e.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(u){u||(u={}),u.coords||(u.coords={});var l,d=this;Object.keys(u).forEach(function(y){d[y]=u[y]}),this.id?this.id+="_"+e.Object.__uid++:this.id=e.Object.__uid++,l={x1:u.coords.x1||0,y1:u.coords.y1||0,x2:u.coords.x2||0,y2:u.coords.y2||0},this.type==="radial"&&(l.r1=u.coords.r1||0,l.r2=u.coords.r2||0),this.coords=l,this.colorStops=u.colorStops.slice()},addColorStop:function(u){for(var l in u){var d=new e.Color(u[l]);this.colorStops.push({offset:parseFloat(l),color:d.toRgb(),opacity:d.getAlpha()})}return this},toObject:function(u){var l={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return e.util.populateWithProperties(this,l,u),l},toSVG:function(u,v){var d=g(this.coords,!0),y,p,v=v||{},w,C,x=g(this.colorStops,!0),b=d.r1>d.r2,E=this.gradientTransform?this.gradientTransform.concat():e.iMatrix.concat(),k=-this.offsetX,D=-this.offsetY,B=!!v.additionalTransform,W=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(x.sort(function(ue,Ce){return ue.offset-Ce.offset}),W==="objectBoundingBox"?(k/=u.width,D/=u.height):(k+=u.width/2,D+=u.height/2),u.type==="path"&&this.gradientUnits!=="percentage"&&(k-=u.pathOffset.x,D-=u.pathOffset.y),E[4]-=k,E[5]-=D,C='id="SVGID_'+this.id+'" gradientUnits="'+W+'"',C+=' gradientTransform="'+(B?v.additionalTransform+" ":"")+e.util.matrixToSVG(E)+'" ',this.type==="linear"?w=["<linearGradient ",C,' x1="',d.x1,'" y1="',d.y1,'" x2="',d.x2,'" y2="',d.y2,`">
`]:this.type==="radial"&&(w=["<radialGradient ",C,' cx="',b?d.x1:d.x2,'" cy="',b?d.y1:d.y2,'" r="',b?d.r1:d.r2,'" fx="',b?d.x2:d.x1,'" fy="',b?d.y2:d.y1,`">
`]),this.type==="radial"){if(b)for(x=x.concat(),x.reverse(),y=0,p=x.length;y<p;y++)x[y].offset=1-x[y].offset;var $=Math.min(d.r1,d.r2);if($>0){var re=Math.max(d.r1,d.r2),Z=$/re;for(y=0,p=x.length;y<p;y++)x[y].offset+=Z*(1-x[y].offset)}}for(y=0,p=x.length;y<p;y++){var se=x[y];w.push("<stop ",'offset="',se.offset*100+"%",'" style="stop-color:',se.color,typeof se.opacity<"u"?";stop-opacity: "+se.opacity:";",`"/>
`)}return w.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),w.join("")},toLive:function(u){var l,d=e.util.object.clone(this.coords),y,p;if(!!this.type){for(this.type==="linear"?l=u.createLinearGradient(d.x1,d.y1,d.x2,d.y2):this.type==="radial"&&(l=u.createRadialGradient(d.x1,d.y1,d.r1,d.x2,d.y2,d.r2)),y=0,p=this.colorStops.length;y<p;y++){var v=this.colorStops[y].color,w=this.colorStops[y].opacity,C=this.colorStops[y].offset;typeof w<"u"&&(v=new e.Color(v).setAlpha(w).toRgba()),l.addColorStop(C,v)}return l}}}),e.util.object.extend(e.Gradient,{fromElement:function(u,l,d,y){var p=parseFloat(d)/(/%$/.test(d)?100:1);p=p<0?0:p>1?1:p,isNaN(p)&&(p=1);var v=u.getElementsByTagName("stop"),w,C=u.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",x=u.getAttribute("gradientTransform")||"",b=[],E,k,D=0,B=0,W;for(u.nodeName==="linearGradient"||u.nodeName==="LINEARGRADIENT"?(w="linear",E=i(u)):(w="radial",E=h(u)),k=v.length;k--;)b.push(f(v[k],p));W=e.parseTransformAttribute(x),a(l,E,y,C),C==="pixels"&&(D=-l.left,B=-l.top);var $=new e.Gradient({id:u.getAttribute("id"),type:w,coords:E,colorStops:b,gradientUnits:C,gradientTransform:W,offsetX:D,offsetY:B});return $}});function a(u,l,d,y){var p,v;Object.keys(l).forEach(function(w){p=l[w],p==="Infinity"?v=1:p==="-Infinity"?v=0:(v=parseFloat(l[w],10),typeof p=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(p)&&(v*=.01,y==="pixels"&&((w==="x1"||w==="x2"||w==="r2")&&(v*=d.viewBoxWidth||d.width),(w==="y1"||w==="y2")&&(v*=d.viewBoxHeight||d.height)))),l[w]=v})}}(),function(){var f=e.util.toFixed;e.Pattern=e.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,h){if(i||(i={}),this.id=e.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){h&&h(this);return}else{var g=this;this.source=e.util.createImage(),e.util.loadImage(i.source,function(a,u){g.source=a,h&&h(g,u)},null,this.crossOrigin)}},toObject:function(i){var h=e.Object.NUM_FRACTION_DIGITS,g,a;return typeof this.source.src=="string"?g=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(g=this.source.toDataURL()),a={type:"pattern",source:g,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:f(this.offsetX,h),offsetY:f(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},e.util.populateWithProperties(this,a,i),a},toSVG:function(i){var h=typeof this.source=="function"?this.source():this.source,g=h.width/i.width,a=h.height/i.height,u=this.offsetX/i.width,l=this.offsetY/i.height,d="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(a=1,l&&(a+=Math.abs(l))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(g=1,u&&(g+=Math.abs(u))),h.src?d=h.src:h.toDataURL&&(d=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+u+'" y="'+l+'" width="'+g+'" height="'+a+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+d+`"></image>
</pattern>
`},setOptions:function(i){for(var h in i)this[h]=i[h]},toLive:function(i){var h=this.source;return!h||typeof h.src<"u"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":i.createPattern(h,this.repeat)}})}(),function(f){var i=f.fabric||(f.fabric={}),h=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(g){typeof g=="string"&&(g=this._parseShadow(g));for(var a in g)this[a]=g[a];this.id=i.Object.__uid++},_parseShadow:function(g){var a=g.trim(),u=i.Shadow.reOffsetsAndBlur.exec(a)||[],l=a.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:l.trim(),offsetX:parseFloat(u[1],10)||0,offsetY:parseFloat(u[2],10)||0,blur:parseFloat(u[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(g){var a=40,u=40,l=i.Object.NUM_FRACTION_DIGITS,d=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-g.angle)),y=20,p=new i.Color(this.color);return g.width&&g.height&&(a=h((Math.abs(d.x)+this.blur)/g.width,l)*100+y,u=h((Math.abs(d.y)+this.blur)/g.height,l)*100+y),g.flipX&&(d.x*=-1),g.flipY&&(d.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+u+'%" height="'+(100+2*u)+'%" x="-'+a+'%" width="'+(100+2*a)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,l)+`"></feGaussianBlur>
	<feOffset dx="`+h(d.x,l)+'" dy="'+h(d.y,l)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+p.toRgb()+'" flood-opacity="'+p.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var g={},a=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(u){this[u]!==a[u]&&(g[u]=this[u])},this),g}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(t),function(){if(e.StaticCanvas){e.warn("fabric.StaticCanvas is already defined.");return}var f=e.util.object.extend,i=e.util.getElementOffset,h=e.util.removeFromArray,g=e.util.toFixed,a=e.util.transformPoint,u=e.util.invertTransform,l=e.util.getNodeCanvas,d=e.util.createCanvasElement,y=new Error("Could not initialize `canvas` element");e.StaticCanvas=e.util.createClass(e.CommonMethods,{initialize:function(p,v){v||(v={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(p,v)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:e.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(p,v){var w=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(p),this._initOptions(v),this.interactive||this._initRetinaScaling(),v.overlayImage&&this.setOverlayImage(v.overlayImage,w),v.backgroundImage&&this.setBackgroundImage(v.backgroundImage,w),v.backgroundColor&&this.setBackgroundColor(v.backgroundColor,w),v.overlayColor&&this.setOverlayColor(v.overlayColor,w),this.calcOffset()},_isRetinaScaling:function(){return e.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,e.devicePixelRatio):1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var p=e.devicePixelRatio;this.__initRetinaScaling(p,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(p,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(p,v,w){v.setAttribute("width",this.width*p),v.setAttribute("height",this.height*p),w.scale(p,p)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(p,v,w){return this.__setBgOverlayImage("overlayImage",p,v,w)},setBackgroundImage:function(p,v,w){return this.__setBgOverlayImage("backgroundImage",p,v,w)},setOverlayColor:function(p,v){return this.__setBgOverlayColor("overlayColor",p,v)},setBackgroundColor:function(p,v){return this.__setBgOverlayColor("backgroundColor",p,v)},__setBgOverlayImage:function(p,v,w,C){return typeof v=="string"?e.util.loadImage(v,function(x,b){if(x){var E=new e.Image(x,C);this[p]=E,E.canvas=this}w&&w(x,b)},this,C&&C.crossOrigin):(C&&v.setOptions(C),this[p]=v,v&&(v.canvas=this),w&&w(v,!1)),this},__setBgOverlayColor:function(p,v,w){return this[p]=v,this._initGradient(v,p),this._initPattern(v,p,w),this},_createCanvasElement:function(){var p=d();if(!p||(p.style||(p.style={}),typeof p.getContext>"u"))throw y;return p},_initOptions:function(p){var v=this.lowerCanvasEl;this._setOptions(p),this.width=this.width||parseInt(v.width,10)||0,this.height=this.height||parseInt(v.height,10)||0,this.lowerCanvasEl.style&&(v.width=this.width,v.height=this.height,v.style.width=this.width+"px",v.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(p){p&&p.getContext?this.lowerCanvasEl=p:this.lowerCanvasEl=e.util.getById(p)||this._createCanvasElement(),e.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(p,v){return this.setDimensions({width:p},v)},setHeight:function(p,v){return this.setDimensions({height:p},v)},setDimensions:function(p,v){var w;v=v||{};for(var C in p)w=p[C],v.cssOnly||(this._setBackstoreDimension(C,p[C]),w+="px",this.hasLostContext=!0),v.backstoreOnly||this._setCssDimension(C,w);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),v.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(p,v){return this.lowerCanvasEl[p]=v,this.upperCanvasEl&&(this.upperCanvasEl[p]=v),this.cacheCanvasEl&&(this.cacheCanvasEl[p]=v),this[p]=v,this},_setCssDimension:function(p,v){return this.lowerCanvasEl.style[p]=v,this.upperCanvasEl&&(this.upperCanvasEl.style[p]=v),this.wrapperEl&&(this.wrapperEl.style[p]=v),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(p){var v=this._activeObject,w=this.backgroundImage,C=this.overlayImage,x,b,E;for(this.viewportTransform=p,b=0,E=this._objects.length;b<E;b++)x=this._objects[b],x.group||x.setCoords(!0);return v&&v.setCoords(),w&&w.setCoords(!0),C&&C.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(p,v){var w=p,C=this.viewportTransform.slice(0);p=a(p,u(this.viewportTransform)),C[0]=v,C[3]=v;var x=a(p,C);return C[4]+=w.x-x.x,C[5]+=w.y-x.y,this.setViewportTransform(C)},setZoom:function(p){return this.zoomToPoint(new e.Point(0,0),p),this},absolutePan:function(p){var v=this.viewportTransform.slice(0);return v[4]=-p.x,v[5]=-p.y,this.setViewportTransform(v)},relativePan:function(p){return this.absolutePan(new e.Point(-p.x-this.viewportTransform[4],-p.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(p){this.stateful&&p.setupState(),p._set("canvas",this),p.setCoords(),this.fire("object:added",{target:p}),p.fire("added")},_onObjectRemoved:function(p){this.fire("object:removed",{target:p}),p.fire("removed"),delete p.canvas},clearContext:function(p){return p.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var p=this.contextContainer;return this.renderCanvas(p,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=e.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var p={},v=this.width,w=this.height,C=u(this.viewportTransform);return p.tl=a({x:0,y:0},C),p.br=a({x:v,y:w},C),p.tr=new e.Point(p.br.x,p.tl.y),p.bl=new e.Point(p.tl.x,p.br.y),this.vptCoords=p,p},cancelRequestedRender:function(){this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(p,v){var w=this.viewportTransform,C=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(p),e.util.setImageSmoothing(p,this.imageSmoothingEnabled),this.fire("before:render",{ctx:p}),this._renderBackground(p),p.save(),p.transform(w[0],w[1],w[2],w[3],w[4],w[5]),this._renderObjects(p,v),p.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(p),C&&(C.canvas=this,C.shouldCache(),C._transformDone=!0,C.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(p)),this._renderOverlay(p),this.controlsAboveOverlay&&this.interactive&&this.drawControls(p),this.fire("after:render",{ctx:p})},drawClipPathOnCanvas:function(p){var v=this.viewportTransform,w=this.clipPath;p.save(),p.transform(v[0],v[1],v[2],v[3],v[4],v[5]),p.globalCompositeOperation="destination-in",w.transform(p),p.scale(1/w.zoomX,1/w.zoomY),p.drawImage(w._cacheCanvas,-w.cacheTranslationX,-w.cacheTranslationY),p.restore()},_renderObjects:function(p,v){var w,C;for(w=0,C=v.length;w<C;++w)v[w]&&v[w].render(p)},_renderBackgroundOrOverlay:function(p,v){var w=this[v+"Color"],C=this[v+"Image"],x=this.viewportTransform,b=this[v+"Vpt"];if(!(!w&&!C)){if(w){p.save(),p.beginPath(),p.moveTo(0,0),p.lineTo(this.width,0),p.lineTo(this.width,this.height),p.lineTo(0,this.height),p.closePath(),p.fillStyle=w.toLive?w.toLive(p,this):w,b&&p.transform(x[0],x[1],x[2],x[3],x[4],x[5]),p.transform(1,0,0,1,w.offsetX||0,w.offsetY||0);var E=w.gradientTransform||w.patternTransform;E&&p.transform(E[0],E[1],E[2],E[3],E[4],E[5]),p.fill(),p.restore()}C&&(p.save(),b&&p.transform(x[0],x[1],x[2],x[3],x[4],x[5]),C.render(p),p.restore())}},_renderBackground:function(p){this._renderBackgroundOrOverlay(p,"background")},_renderOverlay:function(p){this._renderBackgroundOrOverlay(p,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new e.Point(this.width/2,this.height/2)},centerObjectH:function(p){return this._centerObject(p,new e.Point(this.getCenterPoint().x,p.getCenterPoint().y))},centerObjectV:function(p){return this._centerObject(p,new e.Point(p.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(p){var v=this.getCenterPoint();return this._centerObject(p,v)},viewportCenterObject:function(p){var v=this.getVpCenter();return this._centerObject(p,v)},viewportCenterObjectH:function(p){var v=this.getVpCenter();return this._centerObject(p,new e.Point(v.x,p.getCenterPoint().y)),this},viewportCenterObjectV:function(p){var v=this.getVpCenter();return this._centerObject(p,new e.Point(p.getCenterPoint().x,v.y))},getVpCenter:function(){var p=this.getCenterPoint(),v=u(this.viewportTransform);return a(p,v)},_centerObject:function(p,v){return p.setPositionByOrigin(v,"center","center"),p.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(p){return this.toDatalessObject(p)},toObject:function(p){return this._toObjectMethod("toObject",p)},toDatalessObject:function(p){return this._toObjectMethod("toDatalessObject",p)},_toObjectMethod:function(p,v){var w=this.clipPath,C={version:e.version,objects:this._toObjects(p,v)};return w&&!w.excludeFromExport&&(C.clipPath=this._toObject(this.clipPath,p,v)),f(C,this.__serializeBgOverlay(p,v)),e.util.populateWithProperties(this,C,v),C},_toObjects:function(p,v){return this._objects.filter(function(w){return!w.excludeFromExport}).map(function(w){return this._toObject(w,p,v)},this)},_toObject:function(p,v,w){var C;this.includeDefaultValues||(C=p.includeDefaultValues,p.includeDefaultValues=!1);var x=p[v](w);return this.includeDefaultValues||(p.includeDefaultValues=C),x},__serializeBgOverlay:function(p,v){var w={},C=this.backgroundImage,x=this.overlayImage,b=this.backgroundColor,E=this.overlayColor;return b&&b.toObject?b.excludeFromExport||(w.background=b.toObject(v)):b&&(w.background=b),E&&E.toObject?E.excludeFromExport||(w.overlay=E.toObject(v)):E&&(w.overlay=E),C&&!C.excludeFromExport&&(w.backgroundImage=this._toObject(C,p,v)),x&&!x.excludeFromExport&&(w.overlayImage=this._toObject(x,p,v)),w},svgViewportTransformation:!0,toSVG:function(p,v){p||(p={}),p.reviver=v;var w=[];return this._setSVGPreamble(w,p),this._setSVGHeader(w,p),this.clipPath&&w.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(w,"background"),this._setSVGBgOverlayImage(w,"backgroundImage",v),this._setSVGObjects(w,v),this.clipPath&&w.push(`</g>
`),this._setSVGBgOverlayColor(w,"overlay"),this._setSVGBgOverlayImage(w,"overlayImage",v),w.push("</svg>"),w.join("")},_setSVGPreamble:function(p,v){v.suppressPreamble||p.push('<?xml version="1.0" encoding="',v.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(p,v){var w=v.width||this.width,C=v.height||this.height,x,b='viewBox="0 0 '+this.width+" "+this.height+'" ',E=e.Object.NUM_FRACTION_DIGITS;v.viewBox?b='viewBox="'+v.viewBox.x+" "+v.viewBox.y+" "+v.viewBox.width+" "+v.viewBox.height+'" ':this.svgViewportTransformation&&(x=this.viewportTransform,b='viewBox="'+g(-x[4]/x[0],E)+" "+g(-x[5]/x[3],E)+" "+g(this.width/x[0],E)+" "+g(this.height/x[3],E)+'" '),p.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',w,'" ','height="',C,'" ',b,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",e.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(v),`</defs>
`)},createSVGClipPathMarkup:function(p){var v=this.clipPath;return v?(v.clipPathId="CLIPPATH_"+e.Object.__uid++,'<clipPath id="'+v.clipPathId+`" >
`+this.clipPath.toClipPathSVG(p.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var p=this,v=["background","overlay"].map(function(w){var C=p[w+"Color"];if(C&&C.toLive){var x=p[w+"Vpt"],b=p.viewportTransform,E={width:p.width/(x?b[0]:1),height:p.height/(x?b[3]:1)};return C.toSVG(E,{additionalTransform:x?e.util.matrixToSVG(b):""})}});return v.join("")},createSVGFontFacesMarkup:function(){var p="",v={},w,C,x,b,E,k,D,B,W,$=e.fontPaths,re=[];for(this._objects.forEach(function se(ue){re.push(ue),ue._objects&&ue._objects.forEach(se)}),B=0,W=re.length;B<W;B++)if(w=re[B],C=w.fontFamily,!(w.type.indexOf("text")===-1||v[C]||!$[C])&&(v[C]=!0,!!w.styles)){x=w.styles;for(E in x){b=x[E];for(D in b)k=b[D],C=k.fontFamily,!v[C]&&$[C]&&(v[C]=!0)}}for(var Z in v)p+=[`		@font-face {
`,"			font-family: '",Z,`';
`,"			src: url('",$[Z],`');
`,`		}
`].join("");return p&&(p=['	<style type="text/css">',`<![CDATA[
`,p,"]]>",`</style>
`].join("")),p},_setSVGObjects:function(p,v){var w,C,x,b=this._objects;for(C=0,x=b.length;C<x;C++)w=b[C],!w.excludeFromExport&&this._setSVGObject(p,w,v)},_setSVGObject:function(p,v,w){p.push(v.toSVG(w))},_setSVGBgOverlayImage:function(p,v,w){this[v]&&!this[v].excludeFromExport&&this[v].toSVG&&p.push(this[v].toSVG(w))},_setSVGBgOverlayColor:function(p,v){var w=this[v+"Color"],C=this.viewportTransform,x=this.width,b=this.height;if(!!w)if(w.toLive){var E=w.repeat,k=e.util.invertTransform(C),D=this[v+"Vpt"],B=D?e.util.matrixToSVG(k):"";p.push('<rect transform="'+B+" translate(",x/2,",",b/2,')"',' x="',w.offsetX-x/2,'" y="',w.offsetY-b/2,'" ','width="',E==="repeat-y"||E==="no-repeat"?w.source.width:x,'" height="',E==="repeat-x"||E==="no-repeat"?w.source.height:b,'" fill="url(#SVGID_'+w.id+')"',`></rect>
`)}else p.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',w,'"',`></rect>
`)},sendToBack:function(p){if(!p)return this;var v=this._activeObject,w,C,x;if(p===v&&p.type==="activeSelection")for(x=v._objects,w=x.length;w--;)C=x[w],h(this._objects,C),this._objects.unshift(C);else h(this._objects,p),this._objects.unshift(p);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(p){if(!p)return this;var v=this._activeObject,w,C,x;if(p===v&&p.type==="activeSelection")for(x=v._objects,w=0;w<x.length;w++)C=x[w],h(this._objects,C),this._objects.push(C);else h(this._objects,p),this._objects.push(p);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(p,v){if(!p)return this;var w=this._activeObject,C,x,b,E,k,D=0;if(p===w&&p.type==="activeSelection")for(k=w._objects,C=0;C<k.length;C++)x=k[C],b=this._objects.indexOf(x),b>0+D&&(E=b-1,h(this._objects,x),this._objects.splice(E,0,x)),D++;else b=this._objects.indexOf(p),b!==0&&(E=this._findNewLowerIndex(p,b,v),h(this._objects,p),this._objects.splice(E,0,p));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(p,v,w){var C,x;if(w)for(C=v,x=v-1;x>=0;--x){var b=p.intersectsWithObject(this._objects[x])||p.isContainedWithinObject(this._objects[x])||this._objects[x].isContainedWithinObject(p);if(b){C=x;break}}else C=v-1;return C},bringForward:function(p,v){if(!p)return this;var w=this._activeObject,C,x,b,E,k,D=0;if(p===w&&p.type==="activeSelection")for(k=w._objects,C=k.length;C--;)x=k[C],b=this._objects.indexOf(x),b<this._objects.length-1-D&&(E=b+1,h(this._objects,x),this._objects.splice(E,0,x)),D++;else b=this._objects.indexOf(p),b!==this._objects.length-1&&(E=this._findNewUpperIndex(p,b,v),h(this._objects,p),this._objects.splice(E,0,p));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(p,v,w){var C,x,b;if(w)for(C=v,x=v+1,b=this._objects.length;x<b;++x){var E=p.intersectsWithObject(this._objects[x])||p.isContainedWithinObject(this._objects[x])||this._objects[x].isContainedWithinObject(p);if(E){C=x;break}}else C=v+1;return C},moveTo:function(p,v){return h(this._objects,p),this._objects.splice(v,0,p),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(p){p.dispose&&p.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),e.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),e.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),f(e.StaticCanvas.prototype,e.Observable),f(e.StaticCanvas.prototype,e.Collection),f(e.StaticCanvas.prototype,e.DataURLExporter),f(e.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(p){var v=d();if(!v||!v.getContext)return null;var w=v.getContext("2d");if(!w)return null;switch(p){case"setLineDash":return typeof w.setLineDash<"u";default:return null}}}),e.StaticCanvas.prototype.toJSON=e.StaticCanvas.prototype.toObject,e.isLikelyNode&&(e.StaticCanvas.prototype.createPNGStream=function(){var p=l(this.lowerCanvasEl);return p&&p.createPNGStream()},e.StaticCanvas.prototype.createJPEGStream=function(p){var v=l(this.lowerCanvasEl);return v&&v.createJPEGStream(p)})}(),e.BaseBrush=e.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(f){f.strokeStyle=this.color,f.lineWidth=this.width,f.lineCap=this.strokeLineCap,f.miterLimit=this.strokeMiterLimit,f.lineJoin=this.strokeLineJoin,f.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(f){var i=this.canvas.viewportTransform;f.save(),f.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(!!this.shadow){var f=this.canvas,i=this.shadow,h=f.contextTop,g=f.getZoom();f&&f._isRetinaScaling()&&(g*=e.devicePixelRatio),h.shadowColor=i.color,h.shadowBlur=i.blur*g,h.shadowOffsetX=i.offsetX*g,h.shadowOffsetY=i.offsetY*g}},needsFullRender:function(){var f=new e.Color(this.color);return f.getAlpha()<1||!!this.shadow},_resetShadow:function(){var f=this.canvas.contextTop;f.shadowColor="",f.shadowBlur=f.shadowOffsetX=f.shadowOffsetY=0},_isOutSideCanvas:function(f){return f.x<0||f.x>this.canvas.getWidth()||f.y<0||f.y>this.canvas.getHeight()}}),function(){e.PencilBrush=e.util.createClass(e.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(f){this.canvas=f,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(f,i,h){var g=i.midPointFrom(h);return f.quadraticCurveTo(i.x,i.y,g.x,g.y),g},onMouseDown:function(f,i){!this.canvas._isMainEvent(i.e)||(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(f),this._captureDrawingPath(f),this._render())},onMouseMove:function(f,i){if(!!this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(f))&&this._captureDrawingPath(f)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,g=h.length,a=this.canvas.contextTop;this._saveAndTransform(a),this.oldEnd&&(a.beginPath(),a.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(a,h[g-2],h[g-1],!0),a.stroke(),a.restore()}},onMouseUp:function(f){return this.canvas._isMainEvent(f.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(f){var i=new e.Point(f.x,f.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(f){return this._points.length>1&&f.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(f),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(f){var i=new e.Point(f.x,f.y);return this._addPoint(i)},_render:function(f){var i,h,g=this._points[0],a=this._points[1];if(f=f||this.canvas.contextTop,this._saveAndTransform(f),f.beginPath(),this._points.length===2&&g.x===a.x&&g.y===a.y){var u=this.width/1e3;g=new e.Point(g.x,g.y),a=new e.Point(a.x,a.y),g.x-=u,a.x+=u}for(f.moveTo(g.x,g.y),i=1,h=this._points.length;i<h;i++)this._drawSegment(f,g,a),g=this._points[i],a=this._points[i+1];f.lineTo(g.x,g.y),f.stroke(),f.restore()},convertPointsToSVGPath:function(f){var i=this.width/1e3;return e.util.getSmoothPathFromPoints(f,i)},_isEmptySVGPath:function(f){var i=e.util.joinPath(f);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(f){var i=new e.Path(f,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new e.Shadow(this.shadow)),i},decimatePoints:function(f,i){if(f.length<=2)return f;var h=this.canvas.getZoom(),g=Math.pow(i/h,2),a,u=f.length-1,l=f[0],d=[l],y;for(a=1;a<u-1;a++)y=Math.pow(l.x-f[a].x,2)+Math.pow(l.y-f[a].y,2),y>=g&&(l=f[a],d.push(l));return d.push(f[u]),d},_finalizeAndAddPath:function(){var f=this.canvas.contextTop;f.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var h=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})}(),e.CircleBrush=e.util.createClass(e.BaseBrush,{width:10,initialize:function(f){this.canvas=f,this.points=[]},drawDot:function(f){var i=this.addPoint(f),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,i),h.restore()},dot:function(f,i){f.fillStyle=i.fill,f.beginPath(),f.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),f.closePath(),f.fill()},onMouseDown:function(f){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(f)},_render:function(){var f=this.canvas.contextTop,i,h,g=this.points;for(this._saveAndTransform(f),i=0,h=g.length;i<h;i++)this.dot(f,g[i]);f.restore()},onMouseMove:function(f){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(f)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(f),this._render()):this.drawDot(f))},onMouseUp:function(){var f=this.canvas.renderOnAddRemove,i,h;this.canvas.renderOnAddRemove=!1;var g=[];for(i=0,h=this.points.length;i<h;i++){var a=this.points[i],u=new e.Circle({radius:a.radius,left:a.x,top:a.y,originX:"center",originY:"center",fill:a.fill});this.shadow&&(u.shadow=new e.Shadow(this.shadow)),g.push(u)}var l=new e.Group(g);l.canvas=this.canvas,this.canvas.fire("before:path:created",{path:l}),this.canvas.add(l),this.canvas.fire("path:created",{path:l}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=f,this.canvas.requestRenderAll()},addPoint:function(f){var i=new e.Point(f.x,f.y),h=e.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,g=new e.Color(this.color).setAlpha(e.util.getRandomInt(0,100)/100).toRgba();return i.radius=h,i.fill=g,this.points.push(i),i}}),e.SprayBrush=e.util.createClass(e.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(f){this.canvas=f,this.sprayChunks=[]},onMouseDown:function(f){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(f),this.render(this.sprayChunkPoints)},onMouseMove:function(f){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(f)||(this.addSprayChunk(f),this.render(this.sprayChunkPoints))},onMouseUp:function(){var f=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],h=0,g=this.sprayChunks.length;h<g;h++)for(var a=this.sprayChunks[h],u=0,l=a.length;u<l;u++){var d=new e.Rect({width:a[u].width,height:a[u].width,left:a[u].x+1,top:a[u].y+1,originX:"center",originY:"center",fill:this.color});i.push(d)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var y=new e.Group(i);this.shadow&&y.set("shadow",new e.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:y}),this.canvas.add(y),this.canvas.fire("path:created",{path:y}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=f,this.canvas.requestRenderAll()},_getOptimizedRects:function(f){var i={},h,g,a;for(g=0,a=f.length;g<a;g++)h=f[g].left+""+f[g].top,i[h]||(i[h]=f[g]);var u=[];for(h in i)u.push(i[h]);return u},render:function(f){var i=this.canvas.contextTop,h,g;for(i.fillStyle=this.color,this._saveAndTransform(i),h=0,g=f.length;h<g;h++){var a=f[h];typeof a.opacity<"u"&&(i.globalAlpha=a.opacity),i.fillRect(a.x,a.y,a.width,a.width)}i.restore()},_render:function(){var f=this.canvas.contextTop,i,h;for(f.fillStyle=this.color,this._saveAndTransform(f),i=0,h=this.sprayChunks.length;i<h;i++)this.render(this.sprayChunks[i]);f.restore()},addSprayChunk:function(f){this.sprayChunkPoints=[];var i,h,g,a=this.width/2,u;for(u=0;u<this.density;u++){i=e.util.getRandomInt(f.x-a,f.x+a),h=e.util.getRandomInt(f.y-a,f.y+a),this.dotWidthVariance?g=e.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):g=this.dotWidth;var l=new e.Point(i,h);l.width=g,this.randomOpacity&&(l.opacity=e.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(l)}this.sprayChunks.push(this.sprayChunkPoints)}}),e.PatternBrush=e.util.createClass(e.PencilBrush,{getPatternSrc:function(){var f=20,i=5,h=e.util.createCanvasElement(),g=h.getContext("2d");return h.width=h.height=f+i,g.fillStyle=this.color,g.beginPath(),g.arc(f/2,f/2,f/2,0,Math.PI*2,!1),g.closePath(),g.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(f){return f.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(f){this.callSuper("_setBrushStyles",f),f.strokeStyle=this.getPattern(f)},createPath:function(f){var i=this.callSuper("createPath",f),h=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new e.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),i}}),function(){var f=e.util.getPointer,i=e.util.degreesToRadians,h=e.util.isTouchEvent;e.Canvas=e.util.createClass(e.StaticCanvas,{initialize:function(a,u){u||(u={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(a,u),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=e.PencilBrush&&new e.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var a=this.getActiveObjects(),u,l,d;if(a.length>0&&!this.preserveObjectStacking){l=[],d=[];for(var y=0,p=this._objects.length;y<p;y++)u=this._objects[y],a.indexOf(u)===-1?l.push(u):d.push(u);a.length>1&&(this._activeObject._objects=d),l.push.apply(l,d)}else l=this._objects;return l},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var a=this.contextContainer;return this.renderCanvas(a,this._chooseObjectsToRender()),this},renderTopLayer:function(a){a.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(a),this.contextTopDirty=!0),a.restore()},renderTop:function(){var a=this.contextTop;return this.clearContext(a),this.renderTopLayer(a),this.fire("after:render"),this},_normalizePointer:function(a,u){var l=a.calcTransformMatrix(),d=e.util.invertTransform(l),y=this.restorePointerVpt(u);return e.util.transformPoint(y,d)},isTargetTransparent:function(a,u,l){if(a.shouldCache()&&a._cacheCanvas&&a!==this._activeObject){var d=this._normalizePointer(a,{x:u,y:l}),y=Math.max(a.cacheTranslationX+d.x*a.zoomX,0),p=Math.max(a.cacheTranslationY+d.y*a.zoomY,0),x=e.util.isTransparent(a._cacheContext,Math.round(y),Math.round(p),this.targetFindTolerance);return x}var v=this.contextCache,w=a.selectionBackgroundColor,C=this.viewportTransform;a.selectionBackgroundColor="",this.clearContext(v),v.save(),v.transform(C[0],C[1],C[2],C[3],C[4],C[5]),a.render(v),v.restore(),a.selectionBackgroundColor=w;var x=e.util.isTransparent(v,u,l,this.targetFindTolerance);return x},_isSelectionKeyPressed:function(a){var u=!1;return Array.isArray(this.selectionKey)?u=!!this.selectionKey.find(function(l){return a[l]===!0}):u=a[this.selectionKey],u},_shouldClearSelection:function(a,u){var l=this.getActiveObjects(),d=this._activeObject;return!u||u&&d&&l.length>1&&l.indexOf(u)===-1&&d!==u&&!this._isSelectionKeyPressed(a)||u&&!u.evented||u&&!u.selectable&&d&&d!==u},_shouldCenterTransform:function(a,u,l){if(!!a){var d;return u==="scale"||u==="scaleX"||u==="scaleY"||u==="resizing"?d=this.centeredScaling||a.centeredScaling:u==="rotate"&&(d=this.centeredRotation||a.centeredRotation),d?!l:l}},_getOriginFromCorner:function(a,u){var l={x:a.originX,y:a.originY};return u==="ml"||u==="tl"||u==="bl"?l.x="right":(u==="mr"||u==="tr"||u==="br")&&(l.x="left"),u==="tl"||u==="mt"||u==="tr"?l.y="bottom":(u==="bl"||u==="mb"||u==="br")&&(l.y="top"),l},_getActionFromCorner:function(a,u,l,d){if(!u||!a)return"drag";var y=d.controls[u];return y.getActionName(l,y,d)},_setupCurrentTransform:function(a,u,l){if(!!u){var d=this.getPointer(a),y=u.__corner,p=u.controls[y],v=l&&y?p.getActionHandler(a,u,p):e.controlsUtils.dragHandler,w=this._getActionFromCorner(l,y,a,u),C=this._getOriginFromCorner(u,y),x=a[this.centeredKey],b={target:u,action:w,actionHandler:v,corner:y,scaleX:u.scaleX,scaleY:u.scaleY,skewX:u.skewX,skewY:u.skewY,offsetX:d.x-u.left,offsetY:d.y-u.top,originX:C.x,originY:C.y,ex:d.x,ey:d.y,lastX:d.x,lastY:d.y,theta:i(u.angle),width:u.width*u.scaleX,shiftKey:a.shiftKey,altKey:x,original:e.util.saveObjectTransform(u)};this._shouldCenterTransform(u,w,x)&&(b.originX="center",b.originY="center"),b.original.originX=C.x,b.original.originY=C.y,this._currentTransform=b,this._beforeTransform(a)}},setCursor:function(a){this.upperCanvasEl.style.cursor=a},_drawSelection:function(a){var u=this._groupSelector,l=new e.Point(u.ex,u.ey),d=e.util.transformPoint(l,this.viewportTransform),y=new e.Point(u.ex+u.left,u.ey+u.top),p=e.util.transformPoint(y,this.viewportTransform),v=Math.min(d.x,p.x),w=Math.min(d.y,p.y),C=Math.max(d.x,p.x),x=Math.max(d.y,p.y),b=this.selectionLineWidth/2;this.selectionColor&&(a.fillStyle=this.selectionColor,a.fillRect(v,w,C-v,x-w)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(a.lineWidth=this.selectionLineWidth,a.strokeStyle=this.selectionBorderColor,v+=b,w+=b,C-=b,x-=b,e.Object.prototype._setLineDash.call(this,a,this.selectionDashArray),a.strokeRect(v,w,C-v,x-w))},findTarget:function(a,u){if(!this.skipTargetFind){var l=!0,d=this.getPointer(a,l),y=this._activeObject,p=this.getActiveObjects(),v,w,C=h(a),x=p.length>1&&!u||p.length===1;if(this.targets=[],x&&y._findTargetCorner(d,C)||p.length>1&&!u&&y===this._searchPossibleTargets([y],d))return y;if(p.length===1&&y===this._searchPossibleTargets([y],d))if(this.preserveObjectStacking)v=y,w=this.targets,this.targets=[];else return y;var b=this._searchPossibleTargets(this._objects,d);return a[this.altSelectionKey]&&b&&v&&b!==v&&(b=v,this.targets=w),b}},_checkTarget:function(a,u,l){if(u&&u.visible&&u.evented&&u.containsPoint(a))if((this.perPixelTargetFind||u.perPixelTargetFind)&&!u.isEditing){var d=this.isTargetTransparent(u,l.x,l.y);if(!d)return!0}else return!0},_searchPossibleTargets:function(a,u){for(var l,d=a.length,y;d--;){var p=a[d],v=p.group?this._normalizePointer(p.group,u):u;if(this._checkTarget(v,p,u)){l=a[d],l.subTargetCheck&&l instanceof e.Group&&(y=this._searchPossibleTargets(l._objects,u),y&&this.targets.push(y));break}}return l},restorePointerVpt:function(a){return e.util.transformPoint(a,e.util.invertTransform(this.viewportTransform))},getPointer:function(a,u){if(this._absolutePointer&&!u)return this._absolutePointer;if(this._pointer&&u)return this._pointer;var l=f(a),d=this.upperCanvasEl,y=d.getBoundingClientRect(),p=y.width||0,v=y.height||0,w;(!p||!v)&&("top"in y&&"bottom"in y&&(v=Math.abs(y.top-y.bottom)),"right"in y&&"left"in y&&(p=Math.abs(y.right-y.left))),this.calcOffset(),l.x=l.x-this._offset.left,l.y=l.y-this._offset.top,u||(l=this.restorePointerVpt(l));var C=this.getRetinaScaling();return C!==1&&(l.x/=C,l.y/=C),p===0||v===0?w={width:1,height:1}:w={width:d.width/p,height:d.height/v},{x:l.x*w.width,y:l.y*w.height}},_createUpperCanvas:function(){var a=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),u=this.lowerCanvasEl,l=this.upperCanvasEl;l?l.className="":(l=this._createCanvasElement(),this.upperCanvasEl=l),e.util.addClass(l,"upper-canvas "+a),this.wrapperEl.appendChild(l),this._copyCanvasStyle(u,l),this._applyCanvasStyle(l),this.contextTop=l.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=e.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),e.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),e.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(a){var u=this.width||a.width,l=this.height||a.height;e.util.setStyle(a,{position:"absolute",width:u+"px",height:l+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),a.width=u,a.height=l,e.util.makeElementUnselectable(a)},_copyCanvasStyle:function(a,u){u.style.cssText=a.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var a=this._activeObject;return a?a.type==="activeSelection"&&a._objects?a._objects.slice(0):[a]:[]},_onObjectRemoved:function(a){a===this._activeObject&&(this.fire("before:selection:cleared",{target:a}),this._discardActiveObject(),this.fire("selection:cleared",{target:a}),a.fire("deselected")),a===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",a)},_fireSelectionEvents:function(a,u){var l=!1,d=this.getActiveObjects(),y=[],p=[];a.forEach(function(v){d.indexOf(v)===-1&&(l=!0,v.fire("deselected",{e:u,target:v}),p.push(v))}),d.forEach(function(v){a.indexOf(v)===-1&&(l=!0,v.fire("selected",{e:u,target:v}),y.push(v))}),a.length>0&&d.length>0?l&&this.fire("selection:updated",{e:u,selected:y,deselected:p}):d.length>0?this.fire("selection:created",{e:u,selected:y}):a.length>0&&this.fire("selection:cleared",{e:u,deselected:p})},setActiveObject:function(a,u){var l=this.getActiveObjects();return this._setActiveObject(a,u),this._fireSelectionEvents(l,u),this},_setActiveObject:function(a,u){return this._activeObject===a||!this._discardActiveObject(u,a)||a.onSelect({e:u})?!1:(this._activeObject=a,!0)},_discardActiveObject:function(a,u){var l=this._activeObject;if(l){if(l.onDeselect({e:a,object:u}))return!1;this._activeObject=null}return!0},discardActiveObject:function(a){var u=this.getActiveObjects(),l=this.getActiveObject();return u.length&&this.fire("before:selection:cleared",{target:l,e:a}),this._discardActiveObject(a),this._fireSelectionEvents(u,a),this},dispose:function(){var a=this.wrapperEl;return this.removeListeners(),a.removeChild(this.upperCanvasEl),a.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(u){e.util.cleanUpJsdomNode(this[u]),this[u]=void 0}.bind(this)),a.parentNode&&a.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,e.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(a){var u=this._activeObject;u&&u._renderControls(a)},_toObject:function(a,u,l){var d=this._realizeGroupTransformOnObject(a),y=this.callSuper("_toObject",a,u,l);return this._unwindGroupTransformOnObject(a,d),y},_realizeGroupTransformOnObject:function(a){if(a.group&&a.group.type==="activeSelection"&&this._activeObject===a.group){var u=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],l={};return u.forEach(function(d){l[d]=a[d]}),e.util.addTransformToObject(a,this._activeObject.calcOwnMatrix()),l}else return null},_unwindGroupTransformOnObject:function(a,u){u&&a.set(u)},_setSVGObject:function(a,u,l){var d=this._realizeGroupTransformOnObject(u);this.callSuper("_setSVGObject",a,u,l),this._unwindGroupTransformOnObject(u,d)},setViewportTransform:function(a){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),e.StaticCanvas.prototype.setViewportTransform.call(this,a)}});for(var g in e.StaticCanvas)g!=="prototype"&&(e.Canvas[g]=e.StaticCanvas[g])}(),function(){var f=e.util.addListener,i=e.util.removeListener,h=3,g=2,a=1,u={passive:!1};function l(d,y){return d.button&&d.button===y-1}e.util.object.extend(e.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(f,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(d,y){var p=this.upperCanvasEl,v=this._getEventPrefix();d(e.window,"resize",this._onResize),d(p,v+"down",this._onMouseDown),d(p,v+"move",this._onMouseMove,u),d(p,v+"out",this._onMouseOut),d(p,v+"enter",this._onMouseEnter),d(p,"wheel",this._onMouseWheel),d(p,"contextmenu",this._onContextMenu),d(p,"dblclick",this._onDoubleClick),d(p,"dragover",this._onDragOver),d(p,"dragenter",this._onDragEnter),d(p,"dragleave",this._onDragLeave),d(p,"drop",this._onDrop),this.enablePointerEvents||d(p,"touchstart",this._onTouchStart,u),typeof eventjs<"u"&&y in eventjs&&(eventjs[y](p,"gesture",this._onGesture),eventjs[y](p,"drag",this._onDrag),eventjs[y](p,"orientation",this._onOrientationChange),eventjs[y](p,"shake",this._onShake),eventjs[y](p,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var d=this._getEventPrefix();i(e.document,d+"up",this._onMouseUp),i(e.document,"touchend",this._onTouchEnd,u),i(e.document,d+"move",this._onMouseMove,u),i(e.document,"touchmove",this._onMouseMove,u)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(d,y){this.__onTransformGesture&&this.__onTransformGesture(d,y)},_onDrag:function(d,y){this.__onDrag&&this.__onDrag(d,y)},_onMouseWheel:function(d){this.__onMouseWheel(d)},_onMouseOut:function(d){var y=this._hoveredTarget;this.fire("mouse:out",{target:y,e:d}),this._hoveredTarget=null,y&&y.fire("mouseout",{e:d});var p=this;this._hoveredTargets.forEach(function(v){p.fire("mouse:out",{target:y,e:d}),v&&y.fire("mouseout",{e:d})}),this._hoveredTargets=[]},_onMouseEnter:function(d){!this._currentTransform&&!this.findTarget(d)&&(this.fire("mouse:over",{target:null,e:d}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(d,y){this.__onOrientationChange&&this.__onOrientationChange(d,y)},_onShake:function(d,y){this.__onShake&&this.__onShake(d,y)},_onLongPress:function(d,y){this.__onLongPress&&this.__onLongPress(d,y)},_onDragOver:function(d){d.preventDefault();var y=this._simpleEventHandler("dragover",d);this._fireEnterLeaveEvents(y,d)},_onDrop:function(d){return this._simpleEventHandler("drop:before",d),this._simpleEventHandler("drop",d)},_onContextMenu:function(d){return this.stopContextMenu&&(d.stopPropagation(),d.preventDefault()),!1},_onDoubleClick:function(d){this._cacheTransformEventData(d),this._handleEvent(d,"dblclick"),this._resetTransformEventData(d)},getPointerId:function(d){var y=d.changedTouches;return y?y[0]&&y[0].identifier:this.enablePointerEvents?d.pointerId:-1},_isMainEvent:function(d){return d.isPrimary===!0?!0:d.isPrimary===!1?!1:d.type==="touchend"&&d.touches.length===0?!0:d.changedTouches?d.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(d){d.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(d)),this.__onMouseDown(d),this._resetTransformEventData();var y=this.upperCanvasEl,p=this._getEventPrefix();f(e.document,"touchend",this._onTouchEnd,u),f(e.document,"touchmove",this._onMouseMove,u),i(y,p+"down",this._onMouseDown)},_onMouseDown:function(d){this.__onMouseDown(d),this._resetTransformEventData();var y=this.upperCanvasEl,p=this._getEventPrefix();i(y,p+"move",this._onMouseMove,u),f(e.document,p+"up",this._onMouseUp),f(e.document,p+"move",this._onMouseMove,u)},_onTouchEnd:function(d){if(!(d.touches.length>0)){this.__onMouseUp(d),this._resetTransformEventData(),this.mainTouchId=null;var y=this._getEventPrefix();i(e.document,"touchend",this._onTouchEnd,u),i(e.document,"touchmove",this._onMouseMove,u);var p=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){f(p.upperCanvasEl,y+"down",p._onMouseDown),p._willAddMouseDown=0},400)}},_onMouseUp:function(d){this.__onMouseUp(d),this._resetTransformEventData();var y=this.upperCanvasEl,p=this._getEventPrefix();this._isMainEvent(d)&&(i(e.document,p+"up",this._onMouseUp),i(e.document,p+"move",this._onMouseMove,u),f(y,p+"move",this._onMouseMove,u))},_onMouseMove:function(d){!this.allowTouchScrolling&&d.preventDefault&&d.preventDefault(),this.__onMouseMove(d)},_onResize:function(){this.calcOffset()},_shouldRender:function(d){var y=this._activeObject;return!!y!=!!d||y&&d&&y!==d?!0:(y&&y.isEditing,!1)},__onMouseUp:function(d){var y,p=this._currentTransform,v=this._groupSelector,w=!1,C=!v||v.left===0&&v.top===0;if(this._cacheTransformEventData(d),y=this._target,this._handleEvent(d,"up:before"),l(d,h)){this.fireRightClick&&this._handleEvent(d,"up",h,C);return}if(l(d,g)){this.fireMiddleClick&&this._handleEvent(d,"up",g,C),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(d);return}if(!!this._isMainEvent(d)){if(p&&(this._finalizeCurrentTransform(d),w=p.actionPerformed),!C){var x=y===this._activeObject;this._maybeGroupObjects(d),w||(w=this._shouldRender(y)||!x&&y===this._activeObject)}var b,E;if(y){if(b=y._findTargetCorner(this.getPointer(d,!0),e.util.isTouchEvent(d)),y.selectable&&y!==this._activeObject&&y.activeOn==="up")this.setActiveObject(y,d),w=!0;else{var k=y.controls[b],D=k&&k.getMouseUpHandler(d,y,k);D&&(E=this.getPointer(d),D(d,p,E.x,E.y))}y.isMoving=!1}if(p&&(p.target!==y||p.corner!==b)){var B=p.target&&p.target.controls[p.corner],W=B&&B.getMouseUpHandler(d,y,k);E=E||this.getPointer(d),W&&W(d,p,E.x,E.y)}this._setCursorFromEvent(d,y),this._handleEvent(d,"up",a,C),this._groupSelector=null,this._currentTransform=null,y&&(y.__corner=0),w?this.requestRenderAll():C||this.renderTop()}},_simpleEventHandler:function(d,y){var p=this.findTarget(y),v=this.targets,w={e:y,target:p,subTargets:v};if(this.fire(d,w),p&&p.fire(d,w),!v)return p;for(var C=0;C<v.length;C++)v[C].fire(d,w);return p},_handleEvent:function(d,y,p,v){var w=this._target,C=this.targets||[],x={e:d,target:w,subTargets:C,button:p||a,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};y==="up"&&(x.currentTarget=this.findTarget(d),x.currentSubTargets=this.targets),this.fire("mouse:"+y,x),w&&w.fire("mouse"+y,x);for(var b=0;b<C.length;b++)C[b].fire("mouse"+y,x)},_finalizeCurrentTransform:function(d){var y=this._currentTransform,p=y.target,v={e:d,target:p,transform:y,action:y.action};p._scaling&&(p._scaling=!1),p.setCoords(),(y.actionPerformed||this.stateful&&p.hasStateChanged())&&this._fire("modified",v)},_onMouseDownInDrawingMode:function(d){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(d).requestRenderAll();var y=this.getPointer(d);this.freeDrawingBrush.onMouseDown(y,{e:d,pointer:y}),this._handleEvent(d,"down")},_onMouseMoveInDrawingMode:function(d){if(this._isCurrentlyDrawing){var y=this.getPointer(d);this.freeDrawingBrush.onMouseMove(y,{e:d,pointer:y})}this.setCursor(this.freeDrawingCursor),this._handleEvent(d,"move")},_onMouseUpInDrawingMode:function(d){var y=this.getPointer(d);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:d,pointer:y}),this._handleEvent(d,"up")},__onMouseDown:function(d){this._cacheTransformEventData(d),this._handleEvent(d,"down:before");var y=this._target;if(l(d,h)){this.fireRightClick&&this._handleEvent(d,"down",h);return}if(l(d,g)){this.fireMiddleClick&&this._handleEvent(d,"down",g);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(d);return}if(!!this._isMainEvent(d)&&!this._currentTransform){var p=this._pointer;this._previousPointer=p;var v=this._shouldRender(y),w=this._shouldGroup(d,y);if(this._shouldClearSelection(d,y)?this.discardActiveObject(d):w&&(this._handleGrouping(d,y),y=this._activeObject),this.selection&&(!y||!y.selectable&&!y.isEditing&&y!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),y){var C=y===this._activeObject;y.selectable&&y.activeOn==="down"&&this.setActiveObject(y,d);var x=y._findTargetCorner(this.getPointer(d,!0),e.util.isTouchEvent(d));if(y.__corner=x,y===this._activeObject&&(x||!w)){this._setupCurrentTransform(d,y,C);var b=y.controls[x],p=this.getPointer(d),E=b&&b.getMouseDownHandler(d,y,b);E&&E(d,this._currentTransform,p.x,p.y)}}this._handleEvent(d,"down"),(v||w)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(d){this._resetTransformEventData(),this._pointer=this.getPointer(d,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(d)||null},_beforeTransform:function(d){var y=this._currentTransform;this.stateful&&y.target.saveState(),this.fire("before:transform",{e:d,transform:y})},__onMouseMove:function(d){this._handleEvent(d,"move:before"),this._cacheTransformEventData(d);var y,p;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(d);return}if(!!this._isMainEvent(d)){var v=this._groupSelector;v?(p=this._absolutePointer,v.left=p.x-v.ex,v.top=p.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(d):(y=this.findTarget(d)||null,this._setCursorFromEvent(d,y),this._fireOverOutEvents(y,d)),this._handleEvent(d,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(d,y){var p=this._hoveredTarget,v=this._hoveredTargets,w=this.targets,C=Math.max(v.length,w.length);this.fireSyntheticInOutEvents(d,y,{oldTarget:p,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var x=0;x<C;x++)this.fireSyntheticInOutEvents(w[x],y,{oldTarget:v[x],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=d,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(d,y){var p=this._draggedoverTarget,v=this._hoveredTargets,w=this.targets,C=Math.max(v.length,w.length);this.fireSyntheticInOutEvents(d,y,{oldTarget:p,evtOut:"dragleave",evtIn:"dragenter"});for(var x=0;x<C;x++)this.fireSyntheticInOutEvents(w[x],y,{oldTarget:v[x],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=d},fireSyntheticInOutEvents:function(d,y,p){var v,w,C=p.oldTarget,x,b,E=C!==d,k=p.canvasEvtIn,D=p.canvasEvtOut;E&&(v={e:y,target:d,previousTarget:C},w={e:y,target:C,nextTarget:d}),b=d&&E,x=C&&E,x&&(D&&this.fire(D,w),C.fire(p.evtOut,w)),b&&(k&&this.fire(k,v),d.fire(p.evtIn,v))},__onMouseWheel:function(d){this._cacheTransformEventData(d),this._handleEvent(d,"wheel"),this._resetTransformEventData()},_transformObject:function(d){var y=this.getPointer(d),p=this._currentTransform;p.reset=!1,p.shiftKey=d.shiftKey,p.altKey=d[this.centeredKey],this._performTransformAction(d,p,y),p.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(d,y,p){var v=p.x,w=p.y,C=y.action,x=!1,b=y.actionHandler;b&&(x=b(d,y,v,w)),C==="drag"&&x&&(y.target.isMoving=!0,this.setCursor(y.target.moveCursor||this.moveCursor)),y.actionPerformed=y.actionPerformed||x},_fire:e.controlsUtils.fireEvent,_setCursorFromEvent:function(d,y){if(!y)return this.setCursor(this.defaultCursor),!1;var p=y.hoverCursor||this.hoverCursor,v=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,w=(!v||!v.contains(y))&&y._findTargetCorner(this.getPointer(d,!0));w?this.setCursor(this.getCornerCursor(w,y,d)):(y.subTargetCheck&&this.targets.concat().reverse().map(function(C){p=C.hoverCursor||p}),this.setCursor(p))},getCornerCursor:function(d,y,p){var v=y.controls[d];return v.cursorStyleHandler(p,v,y)}})}(),function(){var f=Math.min,i=Math.max;e.util.object.extend(e.Canvas.prototype,{_shouldGroup:function(h,g){var a=this._activeObject;return a&&this._isSelectionKeyPressed(h)&&g&&g.selectable&&this.selection&&(a!==g||a.type==="activeSelection")&&!g.onSelect({e:h})},_handleGrouping:function(h,g){var a=this._activeObject;a.__corner||g===a&&(g=this.findTarget(h,!0),!g||!g.selectable)||(a&&a.type==="activeSelection"?this._updateActiveSelection(g,h):this._createActiveSelection(g,h))},_updateActiveSelection:function(h,g){var a=this._activeObject,u=a._objects.slice(0);a.contains(h)?(a.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),a.size()===1&&this._setActiveObject(a.item(0),g)):(a.addWithUpdate(h),this._hoveredTarget=a,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(u,g)},_createActiveSelection:function(h,g){var a=this.getActiveObjects(),u=this._createGroup(h);this._hoveredTarget=u,this._setActiveObject(u,g),this._fireSelectionEvents(a,g)},_createGroup:function(h){var g=this._objects,a=g.indexOf(this._activeObject)<g.indexOf(h),u=a?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new e.ActiveSelection(u,{canvas:this})},_groupSelectedObjects:function(h){var g=this._collectObjects(h),a;g.length===1?this.setActiveObject(g[0],h):g.length>1&&(a=new e.ActiveSelection(g.reverse(),{canvas:this}),this.setActiveObject(a,h))},_collectObjects:function(h){for(var g=[],a,u=this._groupSelector.ex,l=this._groupSelector.ey,d=u+this._groupSelector.left,y=l+this._groupSelector.top,p=new e.Point(f(u,d),f(l,y)),v=new e.Point(i(u,d),i(l,y)),w=!this.selectionFullyContained,C=u===d&&l===y,x=this._objects.length;x--&&(a=this._objects[x],!(!(!a||!a.selectable||!a.visible)&&(w&&a.intersectsWithRect(p,v,!0)||a.isContainedWithinRect(p,v,!0)||w&&a.containsPoint(p,null,!0)||w&&a.containsPoint(v,null,!0))&&(g.push(a),C))););return g.length>1&&(g=g.filter(function(b){return!b.onSelect({e:h})})),g},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){e.util.object.extend(e.StaticCanvas.prototype,{toDataURL:function(f){f||(f={});var i=f.format||"png",h=f.quality||1,g=(f.multiplier||1)*(f.enableRetinaScaling?this.getRetinaScaling():1),a=this.toCanvasElement(g,f);return e.util.toDataURL(a,i,h)},toCanvasElement:function(f,i){f=f||1,i=i||{};var h=(i.width||this.width)*f,g=(i.height||this.height)*f,a=this.getZoom(),u=this.width,l=this.height,d=a*f,y=this.viewportTransform,p=(y[4]-(i.left||0))*f,v=(y[5]-(i.top||0))*f,w=this.interactive,C=[d,0,0,d,p,v],x=this.enableRetinaScaling,b=e.util.createCanvasElement(),E=this.contextTop;return b.width=h,b.height=g,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=C,this.width=h,this.height=g,this.calcViewportBoundaries(),this.renderCanvas(b.getContext("2d"),this._objects),this.viewportTransform=y,this.width=u,this.height=l,this.calcViewportBoundaries(),this.interactive=w,this.enableRetinaScaling=x,this.contextTop=E,b}})}(),e.util.object.extend(e.StaticCanvas.prototype,{loadFromJSON:function(f,i,h){if(!!f){var g=typeof f=="string"?JSON.parse(f):e.util.object.clone(f),a=this,u=g.clipPath,l=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete g.clipPath,this._enlivenObjects(g.objects,function(d){a.clear(),a._setBgOverlay(g,function(){u?a._enlivenObjects([u],function(y){a.clipPath=y[0],a.__setupCanvas.call(a,g,d,l,i)}):a.__setupCanvas.call(a,g,d,l,i)})},h),this}},__setupCanvas:function(f,i,h,g){var a=this;i.forEach(function(u,l){a.insertAt(u,l)}),this.renderOnAddRemove=h,delete f.objects,delete f.backgroundImage,delete f.overlayImage,delete f.background,delete f.overlay,this._setOptions(f),this.renderAll(),g&&g()},_setBgOverlay:function(f,i){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!f.backgroundImage&&!f.overlayImage&&!f.background&&!f.overlay){i&&i();return}var g=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",f.backgroundImage,h,g),this.__setBgOverlay("overlayImage",f.overlayImage,h,g),this.__setBgOverlay("backgroundColor",f.background,h,g),this.__setBgOverlay("overlayColor",f.overlay,h,g)},__setBgOverlay:function(f,i,h,g){var a=this;if(!i){h[f]=!0,g&&g();return}f==="backgroundImage"||f==="overlayImage"?e.util.enlivenObjects([i],function(u){a[f]=u[0],h[f]=!0,g&&g()}):this["set"+e.util.string.capitalize(f,!0)](i,function(){h[f]=!0,g&&g()})},_enlivenObjects:function(f,i,h){if(!f||f.length===0){i&&i([]);return}e.util.enlivenObjects(f,function(g){i&&i(g)},null,h)},_toDataURL:function(f,i){this.clone(function(h){i(h.toDataURL(f))})},_toDataURLWithMultiplier:function(f,i,h){this.clone(function(g){h(g.toDataURLWithMultiplier(f,i))})},clone:function(f,i){var h=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(g){g.loadFromJSON(h,function(){f&&f(g)})})},cloneWithoutData:function(f){var i=e.util.createCanvasElement();i.width=this.width,i.height=this.height;var h=new e.Canvas(i);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),f&&f(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):f&&f(h)}}),function(f){var i=f.fabric||(f.fabric={}),h=i.util.object.extend,g=i.util.object.clone,a=i.util.toFixed,u=i.util.string.capitalize,l=i.util.degreesToRadians,d=!i.isLikelyNode,y=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:d,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(p){p&&this.setOptions(p)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(p){var v=i.perfLimitSizeTotal,w=p.width,C=p.height,x=i.maxCacheSideLimit,b=i.minCacheSideLimit;if(w<=x&&C<=x&&w*C<=v)return w<b&&(p.width=b),C<b&&(p.height=b),p;var E=w/C,k=i.util.limitDimsByArea(E,v),D=i.util.capValue,B=D(b,k.x,x),W=D(b,k.y,x);return w>B&&(p.zoomX/=w/B,p.width=B,p.capped=!0),C>W&&(p.zoomY/=C/W,p.height=W,p.capped=!0),p},_getCacheCanvasDimensions:function(){var p=this.getTotalObjectScaling(),v=this._getTransformedDimensions(0,0),w=v.x*p.scaleX/this.scaleX,C=v.y*p.scaleY/this.scaleY;return{width:w+y,height:C+y,zoomX:p.scaleX,zoomY:p.scaleY,x:w,y:C}},_updateCacheCanvas:function(){var p=this.canvas;if(this.noScaleCache&&p&&p._currentTransform){var v=p._currentTransform.target,w=p._currentTransform.action;if(this===v&&w.slice&&w.slice(0,5)==="scale")return!1}var C=this._cacheCanvas,x=this._limitCacheSize(this._getCacheCanvasDimensions()),b=i.minCacheSideLimit,E=x.width,k=x.height,D,B,W=x.zoomX,$=x.zoomY,re=E!==this.cacheWidth||k!==this.cacheHeight,Z=this.zoomX!==W||this.zoomY!==$,se=re||Z,ue=0,Ce=0,be=!1;if(re){var ee=this._cacheCanvas.width,P=this._cacheCanvas.height,R=E>ee||k>P,I=(E<ee*.9||k<P*.9)&&ee>b&&P>b;be=R||I,R&&!x.capped&&(E>b||k>b)&&(ue=E*.1,Ce=k*.1)}return this instanceof i.Text&&this.path&&(se=!0,be=!0,ue+=this.getHeightOfLine(0)*this.zoomX,Ce+=this.getHeightOfLine(0)*this.zoomY),se?(be?(C.width=Math.ceil(E+ue),C.height=Math.ceil(k+Ce)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,C.width,C.height)),D=x.x/2,B=x.y/2,this.cacheTranslationX=Math.round(C.width/2-D)+D,this.cacheTranslationY=Math.round(C.height/2-B)+B,this.cacheWidth=E,this.cacheHeight=k,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(W,$),this.zoomX=W,this.zoomY=$,!0):!1},setOptions:function(p){this._setOptions(p),this._initGradient(p.fill,"fill"),this._initGradient(p.stroke,"stroke"),this._initPattern(p.fill,"fill"),this._initPattern(p.stroke,"stroke")},transform:function(p){var v=this.group&&!this.group._transformDone||this.group&&this.canvas&&p===this.canvas.contextTop,w=this.calcTransformMatrix(!v);p.transform(w[0],w[1],w[2],w[3],w[4],w[5])},toObject:function(p){var v=i.Object.NUM_FRACTION_DIGITS,w={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:a(this.left,v),top:a(this.top,v),width:a(this.width,v),height:a(this.height,v),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:a(this.strokeWidth,v),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:a(this.strokeMiterLimit,v),scaleX:a(this.scaleX,v),scaleY:a(this.scaleY,v),angle:a(this.angle,v),flipX:this.flipX,flipY:this.flipY,opacity:a(this.opacity,v),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:a(this.skewX,v),skewY:a(this.skewY,v)};return this.clipPath&&!this.clipPath.excludeFromExport&&(w.clipPath=this.clipPath.toObject(p),w.clipPath.inverted=this.clipPath.inverted,w.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,w,p),this.includeDefaultValues||(w=this._removeDefaultValues(w)),w},toDatalessObject:function(p){return this.toObject(p)},_removeDefaultValues:function(p){var v=i.util.getKlass(p.type).prototype,w=v.stateProperties;return w.forEach(function(C){C==="left"||C==="top"||(p[C]===v[C]&&delete p[C],Array.isArray(p[C])&&Array.isArray(v[C])&&p[C].length===0&&v[C].length===0&&delete p[C])}),p},toString:function(){return"#<fabric."+u(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var p=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(p.scaleX),scaleY:Math.abs(p.scaleY)}},getTotalObjectScaling:function(){var p=this.getObjectScaling(),v=p.scaleX,w=p.scaleY;if(this.canvas){var C=this.canvas.getZoom(),x=this.canvas.getRetinaScaling();v*=C*x,w*=C*x}return{scaleX:v,scaleY:w}},getObjectOpacity:function(){var p=this.opacity;return this.group&&(p*=this.group.getObjectOpacity()),p},_set:function(p,v){var w=p==="scaleX"||p==="scaleY",C=this[p]!==v,x=!1;return w&&(v=this._constrainScale(v)),p==="scaleX"&&v<0?(this.flipX=!this.flipX,v*=-1):p==="scaleY"&&v<0?(this.flipY=!this.flipY,v*=-1):p==="shadow"&&v&&!(v instanceof i.Shadow)?v=new i.Shadow(v):p==="dirty"&&this.group&&this.group.set("dirty",v),this[p]=v,C&&(x=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(p)>-1?(this.dirty=!0,x&&this.group.set("dirty",!0)):x&&this.stateProperties.indexOf(p)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(p){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(p.save(),this._setupCompositeOperation(p),this.drawSelectionBackground(p),this.transform(p),this._setOpacity(p),this._setShadow(p,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(p)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(p),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),p.restore())},renderCache:function(p){p=p||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,p.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(p,v){if(p.save(),v.inverted?p.globalCompositeOperation="destination-out":p.globalCompositeOperation="destination-in",v.absolutePositioned){var w=i.util.invertTransform(this.calcTransformMatrix());p.transform(w[0],w[1],w[2],w[3],w[4],w[5])}v.transform(p),p.scale(1/v.zoomX,1/v.zoomY),p.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),p.restore()},drawObject:function(p,v){var w=this.fill,C=this.stroke;v?(this.fill="black",this.stroke="",this._setClippingProperties(p)):this._renderBackground(p),this._render(p),this._drawClipPath(p,this.clipPath),this.fill=w,this.stroke=C},_drawClipPath:function(p,v){!v||(v.canvas=this.canvas,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCache(p,v))},drawCacheOnCanvas:function(p){p.scale(1/this.zoomX,1/this.zoomY),p.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(p){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!p&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!p){var v=this.cacheWidth/this.zoomX,w=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-w/2,v,w)}return!0}return!1},_renderBackground:function(p){if(!!this.backgroundColor){var v=this._getNonTransformedDimensions();p.fillStyle=this.backgroundColor,p.fillRect(-v.x/2,-v.y/2,v.x,v.y),this._removeShadow(p)}},_setOpacity:function(p){this.group&&!this.group._transformDone?p.globalAlpha=this.getObjectOpacity():p.globalAlpha*=this.opacity},_setStrokeStyles:function(p,v){var w=v.stroke;w&&(p.lineWidth=v.strokeWidth,p.lineCap=v.strokeLineCap,p.lineDashOffset=v.strokeDashOffset,p.lineJoin=v.strokeLineJoin,p.miterLimit=v.strokeMiterLimit,w.toLive?w.gradientUnits==="percentage"||w.gradientTransform||w.patternTransform?this._applyPatternForTransformedGradient(p,w):(p.strokeStyle=w.toLive(p,this),this._applyPatternGradientTransform(p,w)):p.strokeStyle=v.stroke)},_setFillStyles:function(p,v){var w=v.fill;w&&(w.toLive?(p.fillStyle=w.toLive(p,this),this._applyPatternGradientTransform(p,v.fill)):p.fillStyle=w)},_setClippingProperties:function(p){p.globalAlpha=1,p.strokeStyle="transparent",p.fillStyle="#000000"},_setLineDash:function(p,v){!v||v.length===0||(1&v.length&&v.push.apply(v,v),p.setLineDash(v))},_renderControls:function(p,v){var w=this.getViewportTransform(),C=this.calcTransformMatrix(),x,b,E;v=v||{},b=typeof v.hasBorders<"u"?v.hasBorders:this.hasBorders,E=typeof v.hasControls<"u"?v.hasControls:this.hasControls,C=i.util.multiplyTransformMatrices(w,C),x=i.util.qrDecompose(C),p.save(),p.translate(x.translateX,x.translateY),p.lineWidth=1*this.borderScaleFactor,this.group||(p.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(x.angle-=180),p.rotate(l(this.group?x.angle:this.angle)),v.forActiveSelection||this.group?b&&this.drawBordersInGroup(p,x,v):b&&this.drawBorders(p,v),E&&this.drawControls(p,v),p.restore()},_setShadow:function(p){if(!!this.shadow){var v=this.shadow,w=this.canvas,C,x=w&&w.viewportTransform[0]||1,b=w&&w.viewportTransform[3]||1;v.nonScaling?C={scaleX:1,scaleY:1}:C=this.getObjectScaling(),w&&w._isRetinaScaling()&&(x*=i.devicePixelRatio,b*=i.devicePixelRatio),p.shadowColor=v.color,p.shadowBlur=v.blur*i.browserShadowBlurConstant*(x+b)*(C.scaleX+C.scaleY)/4,p.shadowOffsetX=v.offsetX*x*C.scaleX,p.shadowOffsetY=v.offsetY*b*C.scaleY}},_removeShadow:function(p){!this.shadow||(p.shadowColor="",p.shadowBlur=p.shadowOffsetX=p.shadowOffsetY=0)},_applyPatternGradientTransform:function(p,v){if(!v||!v.toLive)return{offsetX:0,offsetY:0};var w=v.gradientTransform||v.patternTransform,C=-this.width/2+v.offsetX||0,x=-this.height/2+v.offsetY||0;return v.gradientUnits==="percentage"?p.transform(this.width,0,0,this.height,C,x):p.transform(1,0,0,1,C,x),w&&p.transform(w[0],w[1],w[2],w[3],w[4],w[5]),{offsetX:C,offsetY:x}},_renderPaintInOrder:function(p){this.paintFirst==="stroke"?(this._renderStroke(p),this._renderFill(p)):(this._renderFill(p),this._renderStroke(p))},_render:function(){},_renderFill:function(p){!this.fill||(p.save(),this._setFillStyles(p,this),this.fillRule==="evenodd"?p.fill("evenodd"):p.fill(),p.restore())},_renderStroke:function(p){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(p),p.save(),this.strokeUniform&&this.group){var v=this.getObjectScaling();p.scale(1/v.scaleX,1/v.scaleY)}else this.strokeUniform&&p.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(p,this.strokeDashArray),this._setStrokeStyles(p,this),p.stroke(),p.restore()}},_applyPatternForTransformedGradient:function(p,v){var w=this._limitCacheSize(this._getCacheCanvasDimensions()),C=i.util.createCanvasElement(),x,b=this.canvas.getRetinaScaling(),E=w.x/this.scaleX/b,k=w.y/this.scaleY/b;C.width=E,C.height=k,x=C.getContext("2d"),x.beginPath(),x.moveTo(0,0),x.lineTo(E,0),x.lineTo(E,k),x.lineTo(0,k),x.closePath(),x.translate(E/2,k/2),x.scale(w.zoomX/this.scaleX/b,w.zoomY/this.scaleY/b),this._applyPatternGradientTransform(x,v),x.fillStyle=v.toLive(p),x.fill(),p.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),p.scale(b*this.scaleX/w.zoomX,b*this.scaleY/w.zoomY),p.strokeStyle=x.createPattern(C,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var p=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",p.scaleX),this.set("scaleY",p.scaleY),this.angle=p.angle,this.skewX=p.skewX,this.skewY=0}},_removeTransformMatrix:function(p){var v=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),v=i.util.transformPoint(v,this.transformMatrix)),this.transformMatrix=null,p&&(this.scaleX*=p.scaleX,this.scaleY*=p.scaleY,this.cropX=p.cropX,this.cropY=p.cropY,v.x+=p.offsetLeft,v.y+=p.offsetTop,this.width=p.width,this.height=p.height),this.setPositionByOrigin(v,"center","center")},clone:function(p,v){var w=this.toObject(v);this.constructor.fromObject?this.constructor.fromObject(w,p):i.Object._fromObject("Object",w,p)},cloneAsImage:function(p,v){var w=this.toCanvasElement(v);return p&&p(new i.Image(w)),this},toCanvasElement:function(p){p||(p={});var v=i.util,w=v.saveObjectTransform(this),C=this.group,x=this.shadow,b=Math.abs,E=(p.multiplier||1)*(p.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,p.withoutTransform&&v.resetObjectTransform(this),p.withoutShadow&&(this.shadow=null);var k=i.util.createCanvasElement(),D=this.getBoundingRect(!0,!0),B=this.shadow,W,$={x:0,y:0},re,Z,se;B&&(re=B.blur,B.nonScaling?W={scaleX:1,scaleY:1}:W=this.getObjectScaling(),$.x=2*Math.round(b(B.offsetX)+re)*b(W.scaleX),$.y=2*Math.round(b(B.offsetY)+re)*b(W.scaleY)),Z=D.width+$.x,se=D.height+$.y,k.width=Math.ceil(Z),k.height=Math.ceil(se);var ue=new i.StaticCanvas(k,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});p.format==="jpeg"&&(ue.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(ue.width/2,ue.height/2),"center","center");var Ce=this.canvas;ue.add(this);var be=ue.toCanvasElement(E||1,p);return this.shadow=x,this.set("canvas",Ce),C&&(this.group=C),this.set(w).setCoords(),ue._objects=[],ue.dispose(),ue=null,be},toDataURL:function(p){return p||(p={}),i.util.toDataURL(this.toCanvasElement(p),p.format||"png",p.quality||1)},isType:function(p){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===p},complexity:function(){return 1},toJSON:function(p){return this.toObject(p)},rotate:function(p){var v=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return v&&this._setOriginToCenter(),this.set("angle",p),v&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(p,v){v=v||this.canvas.getPointer(p);var w=new i.Point(v.x,v.y),C=this._getLeftTopCoords();return this.angle&&(w=i.util.rotatePoint(w,C,l(-this.angle))),{x:w.x-C.x,y:w.y-C.y}},_setupCompositeOperation:function(p){this.globalCompositeOperation&&(p.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),h(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(p,v,w,C){var x=i[p];v=g(v,!0),i.util.enlivenPatterns([v.fill,v.stroke],function(b){typeof b[0]<"u"&&(v.fill=b[0]),typeof b[1]<"u"&&(v.stroke=b[1]),i.util.enlivenObjectEnlivables(v,v,function(){var E=C?new x(v[C],v):new x(v);w&&w(E)})})},i.Object.__uid=0)}(t),function(){var f=e.util.degreesToRadians,i={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};e.util.object.extend(e.Object.prototype,{translateToGivenOrigin:function(g,a,u,l,d){var y=g.x,p=g.y,v,w,C;return typeof a=="string"?a=i[a]:a-=.5,typeof l=="string"?l=i[l]:l-=.5,v=l-a,typeof u=="string"?u=h[u]:u-=.5,typeof d=="string"?d=h[d]:d-=.5,w=d-u,(v||w)&&(C=this._getTransformedDimensions(),y=g.x+v*C.x,p=g.y+w*C.y),new e.Point(y,p)},translateToCenterPoint:function(g,a,u){var l=this.translateToGivenOrigin(g,a,u,"center","center");return this.angle?e.util.rotatePoint(l,g,f(this.angle)):l},translateToOriginPoint:function(g,a,u){var l=this.translateToGivenOrigin(g,"center","center",a,u);return this.angle?e.util.rotatePoint(l,g,f(this.angle)):l},getCenterPoint:function(){var g=new e.Point(this.left,this.top);return this.translateToCenterPoint(g,this.originX,this.originY)},getPointByOrigin:function(g,a){var u=this.getCenterPoint();return this.translateToOriginPoint(u,g,a)},toLocalPoint:function(g,a,u){var l=this.getCenterPoint(),d,y;return typeof a<"u"&&typeof u<"u"?d=this.translateToGivenOrigin(l,"center","center",a,u):d=new e.Point(this.left,this.top),y=new e.Point(g.x,g.y),this.angle&&(y=e.util.rotatePoint(y,l,-f(this.angle))),y.subtractEquals(d)},setPositionByOrigin:function(g,a,u){var l=this.translateToCenterPoint(g,a,u),d=this.translateToOriginPoint(l,this.originX,this.originY);this.set("left",d.x),this.set("top",d.y)},adjustPosition:function(g){var a=f(this.angle),u=this.getScaledWidth(),l=e.util.cos(a)*u,d=e.util.sin(a)*u,y,p;typeof this.originX=="string"?y=i[this.originX]:y=this.originX-.5,typeof g=="string"?p=i[g]:p=g-.5,this.left+=l*(p-y),this.top+=d*(p-y),this.setCoords(),this.originX=g},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var g=this.getCenterPoint();this.originX="center",this.originY="center",this.left=g.x,this.top=g.y},_resetOrigin:function(){var g=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=g.x,this.top=g.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function f(u){return[new e.Point(u.tl.x,u.tl.y),new e.Point(u.tr.x,u.tr.y),new e.Point(u.br.x,u.br.y),new e.Point(u.bl.x,u.bl.y)]}var i=e.util,h=i.degreesToRadians,g=i.multiplyTransformMatrices,a=i.transformPoint;i.object.extend(e.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(u,l){return l?u?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),u?this.aCoords:this.lineCoords)},getCoords:function(u,l){return f(this._getCoords(u,l))},intersectsWithRect:function(u,l,d,y){var p=this.getCoords(d,y),v=e.Intersection.intersectPolygonRectangle(p,u,l);return v.status==="Intersection"},intersectsWithObject:function(u,l,d){var y=e.Intersection.intersectPolygonPolygon(this.getCoords(l,d),u.getCoords(l,d));return y.status==="Intersection"||u.isContainedWithinObject(this,l,d)||this.isContainedWithinObject(u,l,d)},isContainedWithinObject:function(u,l,d){for(var y=this.getCoords(l,d),p=l?u.aCoords:u.lineCoords,v=0,w=u._getImageLines(p);v<4;v++)if(!u.containsPoint(y[v],w))return!1;return!0},isContainedWithinRect:function(u,l,d,y){var p=this.getBoundingRect(d,y);return p.left>=u.x&&p.left+p.width<=l.x&&p.top>=u.y&&p.top+p.height<=l.y},containsPoint:function(u,v,d,y){var p=this._getCoords(d,y),v=v||this._getImageLines(p),w=this._findCrossPoints(u,v);return w!==0&&w%2===1},isOnScreen:function(u){if(!this.canvas)return!1;var l=this.canvas.vptCoords.tl,d=this.canvas.vptCoords.br,y=this.getCoords(!0,u);return y.some(function(p){return p.x<=d.x&&p.x>=l.x&&p.y<=d.y&&p.y>=l.y})||this.intersectsWithRect(l,d,!0,u)?!0:this._containsCenterOfCanvas(l,d,u)},_containsCenterOfCanvas:function(u,l,d){var y={x:(u.x+l.x)/2,y:(u.y+l.y)/2};return!!this.containsPoint(y,null,!0,d)},isPartiallyOnScreen:function(u){if(!this.canvas)return!1;var l=this.canvas.vptCoords.tl,d=this.canvas.vptCoords.br;if(this.intersectsWithRect(l,d,!0,u))return!0;var y=this.getCoords(!0,u).every(function(p){return(p.x>=d.x||p.x<=l.x)&&(p.y>=d.y||p.y<=l.y)});return y&&this._containsCenterOfCanvas(l,d,u)},_getImageLines:function(u){var l={topline:{o:u.tl,d:u.tr},rightline:{o:u.tr,d:u.br},bottomline:{o:u.br,d:u.bl},leftline:{o:u.bl,d:u.tl}};return l},_findCrossPoints:function(u,l){var d,y,p,v,w,C=0,x;for(var b in l)if(x=l[b],!(x.o.y<u.y&&x.d.y<u.y)&&!(x.o.y>=u.y&&x.d.y>=u.y)&&(x.o.x===x.d.x&&x.o.x>=u.x?w=x.o.x:(d=0,y=(x.d.y-x.o.y)/(x.d.x-x.o.x),p=u.y-d*u.x,v=x.o.y-y*x.o.x,w=-(p-v)/(d-y)),w>=u.x&&(C+=1),C===2))break;return C},getBoundingRect:function(u,l){var d=this.getCoords(u,l);return i.makeBoundingBoxFromPoints(d)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(u){return Math.abs(u)<this.minScaleLimit?u<0?-this.minScaleLimit:this.minScaleLimit:u===0?1e-4:u},scale:function(u){return this._set("scaleX",u),this._set("scaleY",u),this.setCoords()},scaleToWidth:function(u,l){var d=this.getBoundingRect(l).width/this.getScaledWidth();return this.scale(u/this.width/d)},scaleToHeight:function(u,l){var d=this.getBoundingRect(l).height/this.getScaledHeight();return this.scale(u/this.height/d)},calcLineCoords:function(){var u=this.getViewportTransform(),l=this.padding,d=h(this.angle),y=i.cos(d),p=i.sin(d),v=y*l,w=p*l,C=v+w,x=v-w,b=this.calcACoords(),E={tl:a(b.tl,u),tr:a(b.tr,u),bl:a(b.bl,u),br:a(b.br,u)};return l&&(E.tl.x-=x,E.tl.y-=C,E.tr.x+=C,E.tr.y-=x,E.bl.x-=C,E.bl.y+=x,E.br.x+=x,E.br.y+=C),E},calcOCoords:function(){var u=this._calcRotateMatrix(),l=this._calcTranslateMatrix(),d=this.getViewportTransform(),y=g(d,l),p=g(y,u),p=g(p,[1/d[0],0,0,1/d[3],0,0]),v=this._calculateCurrentDimensions(),w={};return this.forEachControl(function(C,x,b){w[x]=C.positionHandler(v,p,b)}),w},calcACoords:function(){var u=this._calcRotateMatrix(),l=this._calcTranslateMatrix(),d=g(l,u),y=this._getTransformedDimensions(),p=y.x/2,v=y.y/2;return{tl:a({x:-p,y:-v},d),tr:a({x:p,y:-v},d),bl:a({x:-p,y:v},d),br:a({x:p,y:v},d)}},setCoords:function(u){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),u?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var u=this.getCenterPoint();return[1,0,0,1,u.x,u.y]},transformMatrixKey:function(u){var l="_",d="";return!u&&this.group&&(d=this.group.transformMatrixKey(u)+l),d+this.top+l+this.left+l+this.scaleX+l+this.scaleY+l+this.skewX+l+this.skewY+l+this.angle+l+this.originX+l+this.originY+l+this.width+l+this.height+l+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(u){var l=this.calcOwnMatrix();if(u||!this.group)return l;var d=this.transformMatrixKey(u),y=this.matrixCache||(this.matrixCache={});return y.key===d?y.value:(this.group&&(l=g(this.group.calcTransformMatrix(!1),l)),y.key=d,y.value=l,l)},calcOwnMatrix:function(){var u=this.transformMatrixKey(!0),l=this.ownMatrixCache||(this.ownMatrixCache={});if(l.key===u)return l.value;var d=this._calcTranslateMatrix(),y={angle:this.angle,translateX:d[4],translateY:d[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return l.key=u,l.value=i.composeMatrix(y),l.value},_getNonTransformedDimensions:function(){var u=this.strokeWidth,l=this.width+u,d=this.height+u;return{x:l,y:d}},_getTransformedDimensions:function(u,l){typeof u>"u"&&(u=this.skewX),typeof l>"u"&&(l=this.skewY);var d,y,p,v=u===0&&l===0;if(this.strokeUniform?(y=this.width,p=this.height):(d=this._getNonTransformedDimensions(),y=d.x,p=d.y),v)return this._finalizeDimensions(y*this.scaleX,p*this.scaleY);var w=i.sizeAfterTransform(y,p,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:u,skewY:l});return this._finalizeDimensions(w.x,w.y)},_finalizeDimensions:function(u,l){return this.strokeUniform?{x:u+this.strokeWidth,y:l+this.strokeWidth}:{x:u,y:l}},_calculateCurrentDimensions:function(){var u=this.getViewportTransform(),l=this._getTransformedDimensions(),d=a(l,u,!0);return d.scalarAdd(2*this.padding)}})}(),e.util.object.extend(e.Object.prototype,{sendToBack:function(){return this.group?e.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?e.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(f){return this.group?e.StaticCanvas.prototype.sendBackwards.call(this.group,this,f):this.canvas&&this.canvas.sendBackwards(this,f),this},bringForward:function(f){return this.group?e.StaticCanvas.prototype.bringForward.call(this.group,this,f):this.canvas&&this.canvas.bringForward(this,f),this},moveTo:function(f){return this.group&&this.group.type!=="activeSelection"?e.StaticCanvas.prototype.moveTo.call(this.group,this,f):this.canvas&&this.canvas.moveTo(this,f),this}}),function(){function f(h,g){if(g){if(g.toLive)return h+": url(#SVGID_"+g.id+"); ";var a=new e.Color(g),u=h+": "+a.toRgb()+"; ",l=a.getAlpha();return l!==1&&(u+=h+"-opacity: "+l.toString()+"; "),u}else return h+": none; "}var i=e.util.toFixed;e.util.object.extend(e.Object.prototype,{getSvgStyles:function(h){var g=this.fillRule?this.fillRule:"nonzero",a=this.strokeWidth?this.strokeWidth:"0",u=this.strokeDashArray?this.strokeDashArray.join(" "):"none",l=this.strokeDashOffset?this.strokeDashOffset:"0",d=this.strokeLineCap?this.strokeLineCap:"butt",y=this.strokeLineJoin?this.strokeLineJoin:"miter",p=this.strokeMiterLimit?this.strokeMiterLimit:"4",v=typeof this.opacity<"u"?this.opacity:"1",w=this.visible?"":" visibility: hidden;",C=h?"":this.getSvgFilter(),x=f("fill",this.fill),b=f("stroke",this.stroke);return[b,"stroke-width: ",a,"; ","stroke-dasharray: ",u,"; ","stroke-linecap: ",d,"; ","stroke-dashoffset: ",l,"; ","stroke-linejoin: ",y,"; ","stroke-miterlimit: ",p,"; ",x,"fill-rule: ",g,"; ","opacity: ",v,";",C,w].join("")},getSvgSpanStyles:function(h,g){var a="; ",l=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+a:"",u=h.strokeWidth?"stroke-width: "+h.strokeWidth+a:"",l=l,d=h.fontSize?"font-size: "+h.fontSize+"px"+a:"",y=h.fontStyle?"font-style: "+h.fontStyle+a:"",p=h.fontWeight?"font-weight: "+h.fontWeight+a:"",v=h.fill?f("fill",h.fill):"",w=h.stroke?f("stroke",h.stroke):"",C=this.getSvgTextDecoration(h),x=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return C&&(C="text-decoration: "+C+a),[w,u,l,d,y,p,C,v,x,g?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(g){return h[g.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,g){var a=h?this.calcTransformMatrix():this.calcOwnMatrix(),u='transform="'+e.util.matrixToSVG(a);return u+(g||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var g=e.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,g),'" y="',i(-this.height/2,g),'" width="',i(this.width,g),'" height="',i(this.height,g),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,g){g=g||{};var a=g.reviver,u=g.additionalTransform||"",l=[this.getSvgTransform(!0,u),this.getSvgCommons()].join(""),d=h.indexOf("COMMON_PARTS");return h[d]=l,a?a(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,g){g=g||{};var a=g.noStyle,u=g.reviver,l=a?"":'style="'+this.getSvgStyles()+'" ',d=g.withShadow?'style="'+this.getSvgFilter()+'" ':"",y=this.clipPath,p=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=y&&y.absolutePositioned,w=this.stroke,C=this.fill,x=this.shadow,b,E=[],k,D=h.indexOf("COMMON_PARTS"),B=g.additionalTransform;return y&&(y.clipPathId="CLIPPATH_"+e.Object.__uid++,k='<clipPath id="'+y.clipPathId+`" >
`+y.toClipPathSVG(u)+`</clipPath>
`),v&&E.push("<g ",d,this.getSvgCommons(),` >
`),E.push("<g ",this.getSvgTransform(!1),v?"":d+this.getSvgCommons(),` >
`),b=[l,p,a?"":this.addPaintOrder()," ",B?'transform="'+B+'" ':""].join(""),h[D]=b,C&&C.toLive&&E.push(C.toSVG(this)),w&&w.toLive&&E.push(w.toSVG(this)),x&&E.push(x.toSVG(this)),y&&E.push(k),E.push(h.join("")),E.push(`</g>
`),v&&E.push(`</g>
`),u?u(E.join("")):E.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var f=e.util.object.extend,i="stateProperties";function h(a,u,l){var d={},y=!0;l.forEach(function(p){d[p]=a[p]}),f(a[u],d,y)}function g(a,u,l){if(a===u)return!0;if(Array.isArray(a)){if(!Array.isArray(u)||a.length!==u.length)return!1;for(var d=0,y=a.length;d<y;d++)if(!g(a[d],u[d]))return!1;return!0}else if(a&&typeof a=="object"){var p=Object.keys(a),v;if(!u||typeof u!="object"||!l&&p.length!==Object.keys(u).length)return!1;for(var d=0,y=p.length;d<y;d++)if(v=p[d],!(v==="canvas"||v==="group")&&!g(a[v],u[v]))return!1;return!0}}e.util.object.extend(e.Object.prototype,{hasStateChanged:function(a){a=a||i;var u="_"+a;return Object.keys(this[u]).length<this[a].length?!0:!g(this[u],this,!0)},saveState:function(a){var u=a&&a.propertySet||i,l="_"+u;return this[l]?(h(this,l,this[u]),a&&a.stateProperties&&h(this,l,a.stateProperties),this):this.setupState(a)},setupState:function(a){a=a||{};var u=a.propertySet||i;return a.propertySet=u,this["_"+u]={},this.saveState(a),this}})}(),function(){var f=e.util.degreesToRadians;e.util.object.extend(e.Object.prototype,{_findTargetCorner:function(i,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var g=i.x,a=i.y,u,l,d=Object.keys(this.oCoords),y=d.length-1,p;for(this.__corner=0;y>=0;y--)if(p=d[y],!!this.isControlVisible(p)&&(l=this._getImageLines(h?this.oCoords[p].touchCorner:this.oCoords[p].corner),u=this._findCrossPoints({x:g,y:a},l),u!==0&&u%2===1))return this.__corner=p,p;return!1},forEachControl:function(i){for(var h in this.controls)i(this.controls[h],h,this)},_setCornerCoords:function(){var i=this.oCoords;for(var h in i){var g=this.controls[h];i[h].corner=g.calcCornerCoords(this.angle,this.cornerSize,i[h].x,i[h].y,!1),i[h].touchCorner=g.calcCornerCoords(this.angle,this.touchCornerSize,i[h].x,i[h].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var h=this.getCenterPoint(),g=this._calculateCurrentDimensions(),a=this.canvas.viewportTransform;return i.translate(h.x,h.y),i.scale(1/a[0],1/a[3]),i.rotate(f(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-g.x/2,-g.y/2,g.x,g.y),i.restore(),this},drawBorders:function(i,h){h=h||{};var g=this._calculateCurrentDimensions(),a=this.borderScaleFactor,u=g.x+a,l=g.y+a,d=typeof h.hasControls<"u"?h.hasControls:this.hasControls,y=!1;return i.save(),i.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(i,h.borderDashArray||this.borderDashArray),i.strokeRect(-u/2,-l/2,u,l),d&&(i.beginPath(),this.forEachControl(function(p,v,w){p.withConnection&&p.getVisibility(w,v)&&(y=!0,i.moveTo(p.x*u,p.y*l),i.lineTo(p.x*u+p.offsetX,p.y*l+p.offsetY))}),y&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,h,g){g=g||{};var a=e.util.sizeAfterTransform(this.width,this.height,h),u=this.strokeWidth,l=this.strokeUniform,d=this.borderScaleFactor,y=a.x+u*(l?this.canvas.getZoom():h.scaleX)+d,p=a.y+u*(l?this.canvas.getZoom():h.scaleY)+d;return i.save(),this._setLineDash(i,g.borderDashArray||this.borderDashArray),i.strokeStyle=g.borderColor||this.borderColor,i.strokeRect(-y/2,-p/2,y,p),i.restore(),this},drawControls:function(i,h){h=h||{},i.save();var g=this.canvas.getRetinaScaling(),a,u;return i.setTransform(g,0,0,g,0,0),i.strokeStyle=i.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(a=this.group.calcTransformMatrix()),this.forEachControl(function(l,d,y){u=y.oCoords[d],l.getVisibility(y,d)&&(a&&(u=e.util.transformPoint(u,a)),l.render(i,u.x,u.y,h,y))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=h,this},setControlsVisibility:function(i){i||(i={});for(var h in i)this.setControlVisible(h,i[h]);return this},onDeselect:function(){},onSelect:function(){}})}(),e.util.object.extend(e.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(f,i){i=i||{};var h=function(){},g=i.onComplete||h,a=i.onChange||h,u=this;return e.util.animate({target:this,startValue:f.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(l){f.set("left",l),u.requestRenderAll(),a()},onComplete:function(){f.setCoords(),g()}})},fxCenterObjectV:function(f,i){i=i||{};var h=function(){},g=i.onComplete||h,a=i.onChange||h,u=this;return e.util.animate({target:this,startValue:f.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(l){f.set("top",l),u.requestRenderAll(),a()},onComplete:function(){f.setCoords(),g()}})},fxRemove:function(f,i){i=i||{};var h=function(){},g=i.onComplete||h,a=i.onChange||h,u=this;return e.util.animate({target:this,startValue:f.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(l){f.set("opacity",l),u.requestRenderAll(),a()},onComplete:function(){u.remove(f),g()}})}}),e.util.object.extend(e.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var f=[],i,h,g=[];for(i in arguments[0])f.push(i);for(var a=0,u=f.length;a<u;a++)i=f[a],h=a!==u-1,g.push(this._animate(i,arguments[0][i],arguments[1],h));return g}else return this._animate.apply(this,arguments)},_animate:function(f,i,h,g){var a=this,u;i=i.toString(),h?h=e.util.object.clone(h):h={},~f.indexOf(".")&&(u=f.split("."));var l=a.colorProperties.indexOf(f)>-1||u&&a.colorProperties.indexOf(u[1])>-1,d=u?this.get(u[0])[u[1]]:this.get(f);"from"in h||(h.from=d),l||(~i.indexOf("=")?i=d+parseFloat(i.replace("=","")):i=parseFloat(i));var y={target:this,startValue:h.from,endValue:i,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(p,v,w){return h.abort.call(a,p,v,w)},onChange:function(p,v,w){u?a[u[0]][u[1]]=p:a.set(f,p),!g&&h.onChange&&h.onChange(p,v,w)},onComplete:function(p,v,w){g||(a.setCoords(),h.onComplete&&h.onComplete(p,v,w))}};return l?e.util.animateColor(y.startValue,y.endValue,y.duration,y):e.util.animate(y)}}),function(f){var i=f.fabric||(f.fabric={}),h=i.util.object.extend,g=i.util.object.clone,a={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(l,d){l||(l=[0,0,0,0]),this.callSuper("initialize",d),this.set("x1",l[0]),this.set("y1",l[1]),this.set("x2",l[2]),this.set("y2",l[3]),this._setWidthHeight(d)},_setWidthHeight:function(l){l||(l={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in l?l.left:this._getLeftToOriginX(),this.top="top"in l?l.top:this._getTopToOriginY()},_set:function(l,d){return this.callSuper("_set",l,d),typeof a[l]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:u({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:u({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(l){l.beginPath();var d=this.calcLinePoints();l.moveTo(d.x1,d.y1),l.lineTo(d.x2,d.y2),l.lineWidth=this.strokeWidth;var y=l.strokeStyle;l.strokeStyle=this.stroke||l.fillStyle,this.stroke&&this._renderStroke(l),l.strokeStyle=y},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(l){return h(this.callSuper("toObject",l),this.calcLinePoints())},_getNonTransformedDimensions:function(){var l=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(l.y-=this.strokeWidth),this.height===0&&(l.x-=this.strokeWidth)),l},calcLinePoints:function(){var l=this.x1<=this.x2?-1:1,d=this.y1<=this.y2?-1:1,y=l*this.width*.5,p=d*this.height*.5,v=l*this.width*-.5,w=d*this.height*-.5;return{x1:y,x2:v,y1:p,y2:w}},_toSVG:function(){var l=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',l.x1,'" y1="',l.y1,'" x2="',l.x2,'" y2="',l.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(l,d,y){y=y||{};var p=i.parseAttributes(l,i.Line.ATTRIBUTE_NAMES),v=[p.x1||0,p.y1||0,p.x2||0,p.y2||0];d(new i.Line(v,h(p,y)))},i.Line.fromObject=function(l,d){function y(v){delete v.points,d&&d(v)}var p=g(l,!0);p.points=[l.x1,l.y1,l.x2,l.y2],i.Object._fromObject("Line",p,y,"points")};function u(l,d){var y=l.origin,p=l.axis1,v=l.axis2,w=l.dimension,C=d.nearest,x=d.center,b=d.farthest;return function(){switch(this.get(y)){case C:return Math.min(this.get(p),this.get(v));case x:return Math.min(this.get(p),this.get(v))+.5*this.get(w);case b:return Math.max(this.get(p),this.get(v))}}}}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(a,u){return this.callSuper("_set",a,u),a==="radius"&&this.setRadius(u),this},toObject:function(a){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(a))},_toSVG:function(){var a,u=0,l=0,d=(this.endAngle-this.startAngle)%360;if(d===0)a=["<circle ","COMMON_PARTS",'cx="'+u+'" cy="'+l+'" ','r="',this.radius,`" />
`];else{var y=h(this.startAngle),p=h(this.endAngle),v=this.radius,w=i.util.cos(y)*v,C=i.util.sin(y)*v,x=i.util.cos(p)*v,b=i.util.sin(p)*v,E=d>180?"1":"0";a=['<path d="M '+w+" "+C," A "+v+" "+v," 0 ",+E+" 1"," "+x+" "+b,'" ',"COMMON_PARTS",` />
`]}return a},_render:function(a){a.beginPath(),a.arc(0,0,this.radius,h(this.startAngle),h(this.endAngle),!1),this._renderPaintInOrder(a)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(a){return this.radius=a,this.set("width",a*2).set("height",a*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(a,u){var l=i.parseAttributes(a,i.Circle.ATTRIBUTE_NAMES);if(!g(l))throw new Error("value of `r` attribute is required and can not be negative");l.left=(l.left||0)-l.radius,l.top=(l.top||0)-l.radius,u(new i.Circle(l))};function g(a){return"radius"in a&&a.radius>=0}i.Circle.fromObject=function(a,u){i.Object._fromObject("Circle",a,u)}}(t),function(f){var i=f.fabric||(f.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(h){var g=this.width/2,a=this.height/2;h.beginPath(),h.moveTo(-g,a),h.lineTo(0,-a),h.lineTo(g,a),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,g=this.height/2,a=[-h+" "+g,"0 "+-g,h+" "+g].join(",");return["<polygon ","COMMON_PARTS",'points="',a,'" />']}}),i.Triangle.fromObject=function(h,g){return i.Object._fromObject("Triangle",h,g)}}(t),function(f){var i=f.fabric||(f.fabric={}),h=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(g){this.callSuper("initialize",g),this.set("rx",g&&g.rx||0),this.set("ry",g&&g.ry||0)},_set:function(g,a){switch(this.callSuper("_set",g,a),g){case"rx":this.rx=a,this.set("width",a*2);break;case"ry":this.ry=a,this.set("height",a*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(g){return this.callSuper("toObject",["rx","ry"].concat(g))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(g){g.beginPath(),g.save(),g.transform(1,0,0,this.ry/this.rx,0,0),g.arc(0,0,this.rx,0,h,!1),g.restore(),this._renderPaintInOrder(g)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(g,a){var u=i.parseAttributes(g,i.Ellipse.ATTRIBUTE_NAMES);u.left=(u.left||0)-u.rx,u.top=(u.top||0)-u.ry,a(new i.Ellipse(u))},i.Ellipse.fromObject=function(g,a){i.Object._fromObject("Ellipse",g,a)}}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(g){this.callSuper("initialize",g),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(g){var a=this.rx?Math.min(this.rx,this.width/2):0,u=this.ry?Math.min(this.ry,this.height/2):0,l=this.width,d=this.height,y=-this.width/2,p=-this.height/2,v=a!==0||u!==0,w=1-.5522847498;g.beginPath(),g.moveTo(y+a,p),g.lineTo(y+l-a,p),v&&g.bezierCurveTo(y+l-w*a,p,y+l,p+w*u,y+l,p+u),g.lineTo(y+l,p+d-u),v&&g.bezierCurveTo(y+l,p+d-w*u,y+l-w*a,p+d,y+l-a,p+d),g.lineTo(y+a,p+d),v&&g.bezierCurveTo(y+w*a,p+d,y,p+d-w*u,y,p+d-u),g.lineTo(y,p+u),v&&g.bezierCurveTo(y,p+w*u,y+w*a,p,y+a,p),g.closePath(),this._renderPaintInOrder(g)},toObject:function(g){return this.callSuper("toObject",["rx","ry"].concat(g))},_toSVG:function(){var g=-this.width/2,a=-this.height/2;return["<rect ","COMMON_PARTS",'x="',g,'" y="',a,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(g,a,u){if(!g)return a(null);u=u||{};var l=i.parseAttributes(g,i.Rect.ATTRIBUTE_NAMES);l.left=l.left||0,l.top=l.top||0,l.height=l.height||0,l.width=l.width||0;var d=new i.Rect(h(u?i.util.object.clone(u):{},l));d.visible=d.visible&&d.width>0&&d.height>0,a(d)},i.Rect.fromObject=function(g,a){return i.Object._fromObject("Rect",g,a)}}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.util.object.extend,g=i.util.array.min,a=i.util.array.max,u=i.util.toFixed,l=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(d,y){y=y||{},this.points=d||[],this.callSuper("initialize",y),this._setPositionDimensions(y)},_projectStrokeOnPoints:function(){return l(this.points,this,!0)},_setPositionDimensions:function(d){var y=this._calcDimensions(d),p,v=this.exactBoundingBox?this.strokeWidth:0;this.width=y.width-v,this.height=y.height-v,d.fromSVG||(p=this.translateToGivenOrigin({x:y.left-this.strokeWidth/2+v/2,y:y.top-this.strokeWidth/2+v/2},"left","top",this.originX,this.originY)),typeof d.left>"u"&&(this.left=d.fromSVG?y.left:p.x),typeof d.top>"u"&&(this.top=d.fromSVG?y.top:p.y),this.pathOffset={x:y.left+this.width/2+v/2,y:y.top+this.height/2+v/2}},_calcDimensions:function(){var d=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,y=g(d,"x")||0,p=g(d,"y")||0,v=a(d,"x")||0,w=a(d,"y")||0,C=v-y,x=w-p;return{left:y,top:p,width:C,height:x}},toObject:function(d){return h(this.callSuper("toObject",d),{points:this.points.concat()})},_toSVG:function(){for(var d=[],y=this.pathOffset.x,p=this.pathOffset.y,v=i.Object.NUM_FRACTION_DIGITS,w=0,C=this.points.length;w<C;w++)d.push(u(this.points[w].x-y,v),",",u(this.points[w].y-p,v)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',d.join(""),`" />
`]},commonRender:function(d){var y,p=this.points.length,v=this.pathOffset.x,w=this.pathOffset.y;if(!p||isNaN(this.points[p-1].y))return!1;d.beginPath(),d.moveTo(this.points[0].x-v,this.points[0].y-w);for(var C=0;C<p;C++)y=this.points[C],d.lineTo(y.x-v,y.y-w);return!0},_render:function(d){!this.commonRender(d)||this._renderPaintInOrder(d)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(d){return function(y,p,v){if(!y)return p(null);v||(v={});var w=i.parsePointsAttribute(y.getAttribute("points")),C=i.parseAttributes(y,i[d].ATTRIBUTE_NAMES);C.fromSVG=!0,p(new i[d](w,h(C,v)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(d,y){return i.Object._fromObject("Polyline",d,y,"points")}}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return h(this.points,this)},_render:function(g){!this.commonRender(g)||(g.closePath(),this._renderPaintInOrder(g))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(g,a){i.Object._fromObject("Polygon",g,a,"points")}}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.util.array.min,g=i.util.array.max,a=i.util.object.extend,u=i.util.object.clone,l=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(d,y){y=u(y||{}),delete y.path,this.callSuper("initialize",y),this._setPath(d||[],y)},_setPath:function(d,y){this.path=i.util.makePathSimpler(Array.isArray(d)?d:i.util.parsePath(d)),i.Polyline.prototype._setPositionDimensions.call(this,y||{})},_renderPathCommands:function(d){var y,p=0,v=0,w=0,C=0,x=0,b=0,E=-this.pathOffset.x,k=-this.pathOffset.y;d.beginPath();for(var D=0,B=this.path.length;D<B;++D)switch(y=this.path[D],y[0]){case"L":w=y[1],C=y[2],d.lineTo(w+E,C+k);break;case"M":w=y[1],C=y[2],p=w,v=C,d.moveTo(w+E,C+k);break;case"C":w=y[5],C=y[6],x=y[3],b=y[4],d.bezierCurveTo(y[1]+E,y[2]+k,x+E,b+k,w+E,C+k);break;case"Q":d.quadraticCurveTo(y[1]+E,y[2]+k,y[3]+E,y[4]+k),w=y[3],C=y[4],x=y[1],b=y[2];break;case"z":case"Z":w=p,C=v,d.closePath();break}},_render:function(d){this._renderPathCommands(d),this._renderPaintInOrder(d)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(d){return a(this.callSuper("toObject",d),{path:this.path.map(function(y){return y.slice()})})},toDatalessObject:function(d){var y=this.toObject(["sourcePath"].concat(d));return y.sourcePath&&delete y.path,y},_toSVG:function(){var d=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',d,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var d=i.Object.NUM_FRACTION_DIGITS;return" translate("+l(-this.pathOffset.x,d)+", "+l(-this.pathOffset.y,d)+")"},toClipPathSVG:function(d){var y=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:d,additionalTransform:y})},toSVG:function(d){var y=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:d,additionalTransform:y})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var d=[],y=[],p,v=0,w=0,C=0,x=0,b,E=0,k=this.path.length;E<k;++E){switch(p=this.path[E],p[0]){case"L":C=p[1],x=p[2],b=[];break;case"M":C=p[1],x=p[2],v=C,w=x,b=[];break;case"C":b=i.util.getBoundsOfCurve(C,x,p[1],p[2],p[3],p[4],p[5],p[6]),C=p[5],x=p[6];break;case"Q":b=i.util.getBoundsOfCurve(C,x,p[1],p[2],p[1],p[2],p[3],p[4]),C=p[3],x=p[4];break;case"z":case"Z":C=v,x=w;break}b.forEach(function(se){d.push(se.x),y.push(se.y)}),d.push(C),y.push(x)}var D=h(d)||0,B=h(y)||0,W=g(d)||0,$=g(y)||0,re=W-D,Z=$-B;return{left:D,top:B,width:re,height:Z}}}),i.Path.fromObject=function(d,y){if(typeof d.sourcePath=="string"){var p=d.sourcePath;i.loadSVGFromURL(p,function(v){var w=v[0];w.setOptions(d),d.clipPath?i.util.enlivenObjects([d.clipPath],function(C){w.clipPath=C[0],y&&y(w)}):y&&y(w)})}else i.Object._fromObject("Path",d,y,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(d,y,p){var v=i.parseAttributes(d,i.Path.ATTRIBUTE_NAMES);v.fromSVG=!0,y(new i.Path(v.d,a(v,p)))}}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.util.array.min,g=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(a,u,l){u=u||{},this._objects=[],l&&this.callSuper("initialize",u),this._objects=a||[];for(var d=this._objects.length;d--;)this._objects[d].group=this;if(l)this._updateObjectsACoords();else{var y=u&&u.centerPoint;u.originX!==void 0&&(this.originX=u.originX),u.originY!==void 0&&(this.originY=u.originY),y||this._calcBounds(),this._updateObjectsCoords(y),delete u.centerPoint,this.callSuper("initialize",u)}this.setCoords()},_updateObjectsACoords:function(){for(var a=!0,u=this._objects.length;u--;)this._objects[u].setCoords(a)},_updateObjectsCoords:function(u){for(var u=u||this.getCenterPoint(),l=this._objects.length;l--;)this._updateObjectCoords(this._objects[l],u)},_updateObjectCoords:function(a,u){var l=a.left,d=a.top,y=!0;a.set({left:l-u.x,top:d-u.y}),a.group=this,a.setCoords(y)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(a){var u=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),a&&(u&&i.util.removeTransformFromObject(a,this.group.calcTransformMatrix()),this._objects.push(a),a.group=this,a._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,u?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(a){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(a),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(a){this.dirty=!0,a.group=this,a._set("canvas",this.canvas)},_onObjectRemoved:function(a){this.dirty=!0,delete a.group},_set:function(a,u){var l=this._objects.length;if(this.useSetOnGroup)for(;l--;)this._objects[l].setOnGroup(a,u);if(a==="canvas")for(;l--;)this._objects[l]._set(a,u);i.Object.prototype._set.call(this,a,u)},toObject:function(a){var u=this.includeDefaultValues,l=this._objects.filter(function(y){return!y.excludeFromExport}).map(function(y){var p=y.includeDefaultValues;y.includeDefaultValues=u;var v=y.toObject(a);return y.includeDefaultValues=p,v}),d=i.Object.prototype.toObject.call(this,a);return d.objects=l,d},toDatalessObject:function(a){var u,l=this.sourcePath;if(l)u=l;else{var d=this.includeDefaultValues;u=this._objects.map(function(p){var v=p.includeDefaultValues;p.includeDefaultValues=d;var w=p.toDatalessObject(a);return p.includeDefaultValues=v,w})}var y=i.Object.prototype.toDatalessObject.call(this,a);return y.objects=u,y},render:function(a){this._transformDone=!0,this.callSuper("render",a),this._transformDone=!1},shouldCache:function(){var a=i.Object.prototype.shouldCache.call(this);if(a){for(var u=0,l=this._objects.length;u<l;u++)if(this._objects[u].willDrawShadow())return this.ownCaching=!1,!1}return a},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var a=0,u=this._objects.length;a<u;a++)if(this._objects[a].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(a){for(var u=0,l=this._objects.length;u<l;u++)this._objects[u].render(a);this._drawClipPath(a,this.clipPath)},isCacheDirty:function(a){if(this.callSuper("isCacheDirty",a))return!0;if(!this.statefullCache)return!1;for(var u=0,l=this._objects.length;u<l;u++)if(this._objects[u].isCacheDirty(!0)){if(this._cacheCanvas){var d=this.cacheWidth/this.zoomX,y=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-d/2,-y/2,d,y)}return!0}return!1},_restoreObjectsState:function(){var a=this.calcOwnMatrix();return this._objects.forEach(function(u){i.util.addTransformToObject(u,a),delete u.group,u.setCoords()}),this},destroy:function(){return this._objects.forEach(function(a){a.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(a){a.dispose&&a.dispose()}),this._objects=[]},toActiveSelection:function(){if(!!this.canvas){var a=this._objects,u=this.canvas;this._objects=[];var l=this.toObject();delete l.objects;var d=new i.ActiveSelection([]);return d.set(l),d.type="activeSelection",u.remove(this),a.forEach(function(y){y.group=d,y.dirty=!0,u.add(y)}),d.canvas=u,d._objects=a,u._activeObject=d,d.setCoords(),d}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var a=!0;return this.forEachObject(function(u){u.setCoords(a)}),this},_calcBounds:function(a){for(var u=[],l=[],d,y,p,v=["tr","br","bl","tl"],w=0,C=this._objects.length,x,b=v.length;w<C;++w){for(d=this._objects[w],p=d.calcACoords(),x=0;x<b;x++)y=v[x],u.push(p[y].x),l.push(p[y].y);d.aCoords=p}this._getBounds(u,l,a)},_getBounds:function(a,u,l){var d=new i.Point(h(a),h(u)),y=new i.Point(g(a),g(u)),p=d.y||0,v=d.x||0,w=y.x-d.x||0,C=y.y-d.y||0;this.width=w,this.height=C,l||this.setPositionByOrigin({x:v,y:p},"left","top")},_toSVG:function(a){for(var u=["<g ","COMMON_PARTS",` >
`],l=0,d=this._objects.length;l<d;l++)u.push("		",this._objects[l].toSVG(a));return u.push(`</g>
`),u},getSvgStyles:function(){var a=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",u=this.visible?"":" visibility: hidden;";return[a,this.getSvgFilter(),u].join("")},toClipPathSVG:function(a){for(var u=[],l=0,d=this._objects.length;l<d;l++)u.push("	",this._objects[l].toClipPathSVG(a));return this._createBaseClipPathSVGMarkup(u,{reviver:a})}}),i.Group.fromObject=function(a,u){var l=a.objects,d=i.util.object.clone(a,!0);if(delete d.objects,typeof l=="string"){i.loadSVGFromURL(l,function(y){var p=i.util.groupSVGElements(y,a,l),v=d.clipPath;delete d.clipPath,p.set(d),v?i.util.enlivenObjects([v],function(w){p.clipPath=w[0],u&&u(p)}):u&&u(p)});return}i.util.enlivenObjects(l,function(y){i.util.enlivenObjectEnlivables(a,d,function(){u&&u(new i.Group(y,d,!0))})})})}(t),function(f){var i=f.fabric||(f.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(h,g){g=g||{},this._objects=h||[];for(var a=this._objects.length;a--;)this._objects[a].group=this;g.originX&&(this.originX=g.originX),g.originY&&(this.originY=g.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,g),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var g=i.Object.prototype.toObject.call(this),a=new i.Group([]);if(delete g.type,a.set(g),h.forEach(function(l){l.canvas.remove(l),l.group=a}),a._objects=h,!this.canvas)return a;var u=this.canvas;return u.add(a),u._activeObject=a,a.setCoords(),a},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,g,a){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,g),a=a||{},typeof a.hasControls>"u"&&(a.hasControls=!1),a.forActiveSelection=!0;for(var u=0,l=this._objects.length;u<l;u++)this._objects[u]._renderControls(h,a);h.restore()}}),i.ActiveSelection.fromObject=function(h,g){i.util.enlivenObjects(h.objects,function(a){delete h.objects,g&&g(new i.ActiveSelection(a,h,!0))})})}(t),function(f){var i=e.util.object.extend;if(f.fabric||(f.fabric={}),f.fabric.Image){e.warn("fabric.Image is already defined.");return}e.Image=e.util.createClass(e.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:e.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:e.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,g){g||(g={}),this.filters=[],this.cacheKey="texture"+e.Object.__uid++,this.callSuper("initialize",g),this._initElement(h,g)},getElement:function(){return this._element||{}},setElement:function(h,g){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(g),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var g=e.filterBackend;g&&g.evictCachesForKey&&g.evictCachesForKey(h)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(h){e.util.cleanUpJsdomNode(this[h]),this[h]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var g=this.width/2,a=this.height/2;h.beginPath(),h.moveTo(-g,-a),h.lineTo(g,-a),h.lineTo(g,a),h.lineTo(-g,a),h.lineTo(-g,-a),h.closePath()}},toObject:function(h){var g=[];this.filters.forEach(function(u){u&&g.push(u.toObject())});var a=i(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:g});return this.resizeFilter&&(a.resizeFilter=this.resizeFilter.toObject()),a},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],g=[],a,u=this._element,l=-this.width/2,d=-this.height/2,y="",p="";if(!u)return[];if(this.hasCrop()){var v=e.Object.__uid++;h.push('<clipPath id="imageCrop_'+v+`">
`,'	<rect x="'+l+'" y="'+d+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),y=' clip-path="url(#imageCrop_'+v+')" '}if(this.imageSmoothing||(p='" image-rendering="optimizeSpeed'),g.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',l-this.cropX,'" y="',d-this.cropY,'" width="',u.width||u.naturalWidth,'" height="',u.height||u.height,p,'"',y,`></image>
`),this.stroke||this.strokeDashArray){var w=this.fill;this.fill=null,a=["	<rect ",'x="',l,'" y="',d,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=w}return this.paintFirst!=="fill"?h=h.concat(a,g):h=h.concat(g,a),h},getSrc:function(h){var g=h?this._element:this._originalElement;return g?g.toDataURL?g.toDataURL():this.srcFromAttribute?g.getAttribute("src"):g.src:this.src||""},setSrc:function(h,g,a){return e.util.loadImage(h,function(u,l){this.setElement(u,a),this._setWidthHeight(),g&&g(this,l)},this,a&&a.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,g=this.minimumScaleTrigger,a=this.getTotalObjectScaling(),u=a.scaleX,l=a.scaleY,d=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||u>g&&l>g){this._element=d,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=u,this._lastScaleY=l;return}e.filterBackend||(e.filterBackend=e.initFilterBackend());var y=e.util.createCanvasElement(),p=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,v=d.width,w=d.height;y.width=v,y.height=w,this._element=y,this._lastScaleX=h.scaleX=u,this._lastScaleY=h.scaleY=l,e.filterBackend.applyFilters([h],d,v,w,this._element,p),this._filterScalingX=y.width/this._originalElement.width,this._filterScalingY=y.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(d){return d&&!d.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var g=this._originalElement,a=g.naturalWidth||g.width,u=g.naturalHeight||g.height;if(this._element===this._originalElement){var l=e.util.createCanvasElement();l.width=a,l.height=u,this._element=l,this._filteredEl=l}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,a,u),this._lastScaleX=1,this._lastScaleY=1;return e.filterBackend||(e.filterBackend=e.initFilterBackend()),e.filterBackend.applyFilters(h,this._originalElement,a,u,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){e.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){e.util.setImageSmoothing(h,this.imageSmoothing),e.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var g=this._element;if(!!g){var a=this._filterScalingX,u=this._filterScalingY,l=this.width,d=this.height,y=Math.min,p=Math.max,v=p(this.cropX,0),w=p(this.cropY,0),C=g.naturalWidth||g.width,x=g.naturalHeight||g.height,b=v*a,E=w*u,k=y(l*a,C-b),D=y(d*u,x-E),B=-l/2,W=-d/2,$=y(l,C/a-v),re=y(d,x/u-w);g&&h.drawImage(g,b,E,k,D,B,W,$,re)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,g){this.setElement(e.util.getById(h),g),e.util.addClass(this.getElement(),e.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,g){h&&h.length?e.util.enlivenObjects(h,function(a){g&&g(a)},"fabric.Image.filters"):g&&g()},_setWidthHeight:function(h){h||(h={});var g=this.getElement();this.width=h.width||g.naturalWidth||g.width||0,this.height=h.height||g.naturalHeight||g.height||0},parsePreserveAspectRatioAttribute:function(){var h=e.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),g=this._element.width,a=this._element.height,u=1,l=1,d=0,y=0,p=0,v=0,w,C=this.width,x=this.height,b={width:C,height:x};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(u=l=e.util.findScaleToFit(this._element,b),w=(C-g*u)/2,h.alignX==="Min"&&(d=-w),h.alignX==="Max"&&(d=w),w=(x-a*l)/2,h.alignY==="Min"&&(y=-w),h.alignY==="Max"&&(y=w)),h.meetOrSlice==="slice"&&(u=l=e.util.findScaleToCover(this._element,b),w=g-C/u,h.alignX==="Mid"&&(p=w/2),h.alignX==="Max"&&(p=w),w=a-x/l,h.alignY==="Mid"&&(v=w/2),h.alignY==="Max"&&(v=w),g=C/u,a=x/l)):(u=C/g,l=x/a),{width:g,height:a,scaleX:u,scaleY:l,offsetLeft:d,offsetTop:y,cropX:p,cropY:v}}}),e.Image.CSS_CANVAS="canvas-img",e.Image.prototype.getSvgSrc=e.Image.prototype.getSrc,e.Image.fromObject=function(h,g){var a=e.util.object.clone(h);e.util.loadImage(a.src,function(u,l){if(l){g&&g(null,!0);return}e.Image.prototype._initFilters.call(a,a.filters,function(d){a.filters=d||[],e.Image.prototype._initFilters.call(a,[a.resizeFilter],function(y){a.resizeFilter=y[0],e.util.enlivenObjectEnlivables(a,a,function(){var p=new e.Image(u,a);g(p,!1)})})})},null,a.crossOrigin)},e.Image.fromURL=function(h,g,a){e.util.loadImage(h,function(u,l){g&&g(new e.Image(u,a),l)},null,a&&a.crossOrigin)},e.Image.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),e.Image.fromElement=function(h,g,a){var u=e.parseAttributes(h,e.Image.ATTRIBUTE_NAMES);e.Image.fromURL(u["xlink:href"],g,i(a?e.util.object.clone(a):{},u))}}(t),e.util.object.extend(e.Object.prototype,{_getAngleValueForStraighten:function(){var f=this.angle%360;return f>0?Math.round((f-1)/90)*90:Math.round(f/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(f){f=f||{};var i=function(){},h=f.onComplete||i,g=f.onChange||i,a=this;return e.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(u){a.rotate(u),g()},onComplete:function(){a.setCoords(),h()}})}}),e.util.object.extend(e.StaticCanvas.prototype,{straightenObject:function(f){return f.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(f){return f.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function f(h,g){var a="precision "+g+` float;
void main(){}`,u=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(u,a),h.compileShader(u),!!h.getShaderParameter(u,h.COMPILE_STATUS)}e.isWebglSupported=function(h){if(e.isLikelyNode)return!1;h=h||e.WebglFilterBackend.prototype.tileSize;var g=document.createElement("canvas"),a=g.getContext("webgl")||g.getContext("experimental-webgl"),u=!1;if(a){e.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),u=e.maxTextureSize>=h;for(var l=["highp","mediump","lowp"],d=0;d<3;d++)if(f(a,l[d])){e.webGlPrecision=l[d];break}}return this.isSupported=u,u},e.WebglFilterBackend=i;function i(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(h,g){this.dispose(),this.createWebGLCanvas(h,g),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,g)},chooseFastestCopyGLTo2DMethod:function(h,g){var a=typeof window.performance<"u",u;try{new ImageData(1,1),u=!0}catch{u=!1}var l=typeof ArrayBuffer<"u",d=typeof Uint8ClampedArray<"u";if(!!(a&&u&&l&&d)){var y=e.util.createCanvasElement(),p=new ArrayBuffer(h*g*4);if(e.forceGLPutImageData){this.imageBuffer=p,this.copyGLTo2D=S;return}var v={imageBuffer:p,destinationWidth:h,destinationHeight:g,targetCanvas:y},w,C,x;y.width=h,y.height=g,w=window.performance.now(),c.call(v,this.gl,v),C=window.performance.now()-w,w=window.performance.now(),S.call(v,this.gl,v),x=window.performance.now()-w,C>x?(this.imageBuffer=p,this.copyGLTo2D=S):this.copyGLTo2D=c}},createWebGLCanvas:function(h,g){var a=e.util.createCanvasElement();a.width=h,a.height=g;var u={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},l=a.getContext("webgl",u);l||(l=a.getContext("experimental-webgl",u)),l&&(l.clearColor(0,0,0,0),this.canvas=a,this.gl=l)},applyFilters:function(h,g,a,u,l,d){var y=this.gl,p;d&&(p=this.getCachedTexture(d,g));var v={originalWidth:g.width||g.originalWidth,originalHeight:g.height||g.originalHeight,sourceWidth:a,sourceHeight:u,destinationWidth:a,destinationHeight:u,context:y,sourceTexture:this.createTexture(y,a,u,!p&&g),targetTexture:this.createTexture(y,a,u),originalTexture:p||this.createTexture(y,a,u,!p&&g),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:l},w=y.createFramebuffer();return y.bindFramebuffer(y.FRAMEBUFFER,w),h.forEach(function(C){C&&C.applyTo(v)}),s(v),this.copyGLTo2D(y,v),y.bindTexture(y.TEXTURE_2D,null),y.deleteTexture(v.sourceTexture),y.deleteTexture(v.targetTexture),y.deleteFramebuffer(w),l.getContext("2d").setTransform(1,0,0,1,0,0),v},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,g,a,u,l){var d=h.createTexture();return h.bindTexture(h.TEXTURE_2D,d),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,l||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,l||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),u?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,u):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,g,a,0,h.RGBA,h.UNSIGNED_BYTE,null),d},getCachedTexture:function(h,g){if(this.textureCache[h])return this.textureCache[h];var a=this.createTexture(this.gl,g.width,g.height,g);return this.textureCache[h]=a,a},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:c,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,g={renderer:"",vendor:""};if(!h)return g;var a=h.getExtension("WEBGL_debug_renderer_info");if(a){var u=h.getParameter(a.UNMASKED_RENDERER_WEBGL),l=h.getParameter(a.UNMASKED_VENDOR_WEBGL);u&&(g.renderer=u.toLowerCase()),l&&(g.vendor=l.toLowerCase())}return this.gpuInfo=g,g}}}();function s(f){var i=f.targetCanvas,h=i.width,g=i.height,a=f.destinationWidth,u=f.destinationHeight;(h!==a||g!==u)&&(i.width=a,i.height=u)}function c(f,i){var h=f.canvas,g=i.targetCanvas,a=g.getContext("2d");a.translate(0,g.height),a.scale(1,-1);var u=h.height-g.height;a.drawImage(h,0,u,g.width,g.height,0,0,g.width,g.height)}function S(f,i){var h=i.targetCanvas,g=h.getContext("2d"),a=i.destinationWidth,u=i.destinationHeight,l=a*u*4,d=new Uint8Array(this.imageBuffer,0,l),y=new Uint8ClampedArray(this.imageBuffer,0,l);f.readPixels(0,0,a,u,f.RGBA,f.UNSIGNED_BYTE,d);var p=new ImageData(y,a,u);g.putImageData(p,0,0)}(function(){var f=function(){};e.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:f,dispose:f,clearWebGLCaches:f,resources:{},applyFilters:function(h,g,a,u,l){var d=l.getContext("2d");d.drawImage(g,0,0,a,u);var y=d.getImageData(0,0,a,u),p=d.getImageData(0,0,a,u),v={sourceWidth:a,sourceHeight:u,imageData:y,originalEl:g,originalImageData:p,canvasEl:l,ctx:d,filterBackend:this};return h.forEach(function(w){w.applyTo(v)}),(v.imageData.width!==a||v.imageData.height!==u)&&(l.width=v.imageData.width,l.height=v.imageData.height),d.putImageData(v.imageData,0,0),v}}})(),e.Image=e.Image||{},e.Image.filters=e.Image.filters||{},e.Image.filters.BaseFilter=e.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(f){f&&this.setOptions(f)},setOptions:function(f){for(var i in f)this[i]=f[i]},createProgram:function(f,i,h){i=i||this.fragmentSource,h=h||this.vertexSource,e.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+e.webGlPrecision+" float"));var g=f.createShader(f.VERTEX_SHADER);if(f.shaderSource(g,h),f.compileShader(g),!f.getShaderParameter(g,f.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+f.getShaderInfoLog(g));var a=f.createShader(f.FRAGMENT_SHADER);if(f.shaderSource(a,i),f.compileShader(a),!f.getShaderParameter(a,f.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+f.getShaderInfoLog(a));var u=f.createProgram();if(f.attachShader(u,g),f.attachShader(u,a),f.linkProgram(u),!f.getProgramParameter(u,f.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+f.getProgramInfoLog(u));var l=this.getAttributeLocations(f,u),d=this.getUniformLocations(f,u)||{};return d.uStepW=f.getUniformLocation(u,"uStepW"),d.uStepH=f.getUniformLocation(u,"uStepH"),{program:u,attributeLocations:l,uniformLocations:d}},getAttributeLocations:function(f,i){return{aPosition:f.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(f,i,h){var g=i.aPosition,a=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,a),f.enableVertexAttribArray(g),f.vertexAttribPointer(g,2,f.FLOAT,!1,0,0),f.bufferData(f.ARRAY_BUFFER,h,f.STATIC_DRAW)},_setupFrameBuffer:function(f){var i=f.context,h,g;f.passes>1?(h=f.destinationWidth,g=f.destinationHeight,(f.sourceWidth!==h||f.sourceHeight!==g)&&(i.deleteTexture(f.targetTexture),f.targetTexture=f.filterBackend.createTexture(i,h,g)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,f.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(f){f.passes--,f.pass++;var i=f.targetTexture;f.targetTexture=f.sourceTexture,f.sourceTexture=i},isNeutralState:function(){var f=this.mainParameter,i=e.Image.filters[this.type].prototype;if(f)if(Array.isArray(i[f])){for(var h=i[f].length;h--;)if(this[f][h]!==i[f][h])return!1;return!0}else return i[f]===this[f];else return!1},applyTo:function(f){f.webgl?(this._setupFrameBuffer(f),this.applyToWebGL(f),this._swapTextures(f)):this.applyTo2d(f)},retrieveShader:function(f){return f.programCache.hasOwnProperty(this.type)||(f.programCache[this.type]=this.createProgram(f.context)),f.programCache[this.type]},applyToWebGL:function(f){var i=f.context,h=this.retrieveShader(f);f.pass===0&&f.originalTexture?i.bindTexture(i.TEXTURE_2D,f.originalTexture):i.bindTexture(i.TEXTURE_2D,f.sourceTexture),i.useProgram(h.program),this.sendAttributeData(i,h.attributeLocations,f.aPosition),i.uniform1f(h.uniformLocations.uStepW,1/f.sourceWidth),i.uniform1f(h.uniformLocations.uStepH,1/f.sourceHeight),this.sendUniformData(i,h.uniformLocations),i.viewport(0,0,f.destinationWidth,f.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(f,i,h){f.activeTexture(h),f.bindTexture(f.TEXTURE_2D,i),f.activeTexture(f.TEXTURE0)},unbindAdditionalTexture:function(f,i){f.activeTexture(i),f.bindTexture(f.TEXTURE_2D,null),f.activeTexture(f.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(f){this[this.mainParameter]=f},sendUniformData:function(){},createHelpLayer:function(f){if(!f.helpLayer){var i=document.createElement("canvas");i.width=f.sourceWidth,i.height=f.sourceHeight,f.helpLayer=i}},toObject:function(){var f={type:this.type},i=this.mainParameter;return i&&(f[i]=this[i]),f},toJSON:function(){return this.toObject()}}),e.Image.filters.BaseFilter.fromObject=function(f,i){var h=new e.Image.filters[f.type](f);return i&&i(h),h},function(f){var i=f.fabric||(f.fabric={}),h=i.Image.filters,g=i.util.createClass;h.ColorMatrix=g(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(a){this.callSuper("initialize",a),this.matrix=this.matrix.slice(0)},applyTo2d:function(a){var u=a.imageData,l=u.data,d=l.length,y=this.matrix,p,v,w,C,x,b=this.colorsOnly;for(x=0;x<d;x+=4)p=l[x],v=l[x+1],w=l[x+2],b?(l[x]=p*y[0]+v*y[1]+w*y[2]+y[4]*255,l[x+1]=p*y[5]+v*y[6]+w*y[7]+y[9]*255,l[x+2]=p*y[10]+v*y[11]+w*y[12]+y[14]*255):(C=l[x+3],l[x]=p*y[0]+v*y[1]+w*y[2]+C*y[3]+y[4]*255,l[x+1]=p*y[5]+v*y[6]+w*y[7]+C*y[8]+y[9]*255,l[x+2]=p*y[10]+v*y[11]+w*y[12]+C*y[13]+y[14]*255,l[x+3]=p*y[15]+v*y[16]+w*y[17]+C*y[18]+y[19]*255)},getUniformLocations:function(a,u){return{uColorMatrix:a.getUniformLocation(u,"uColorMatrix"),uConstants:a.getUniformLocation(u,"uConstants")}},sendUniformData:function(a,u){var l=this.matrix,d=[l[0],l[1],l[2],l[3],l[5],l[6],l[7],l[8],l[10],l[11],l[12],l[13],l[15],l[16],l[17],l[18]],y=[l[4],l[9],l[14],l[19]];a.uniformMatrix4fv(u.uColorMatrix,!1,d),a.uniform4fv(u.uConstants,y)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.Image.filters,g=i.util.createClass;h.Brightness=g(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(a){if(this.brightness!==0){var u=a.imageData,l=u.data,d,y=l.length,p=Math.round(this.brightness*255);for(d=0;d<y;d+=4)l[d]=l[d]+p,l[d+1]=l[d+1]+p,l[d+2]=l[d+2]+p}},getUniformLocations:function(a,u){return{uBrightness:a.getUniformLocation(u,"uBrightness")}},sendUniformData:function(a,u){a.uniform1f(u.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.util.object.extend,g=i.Image.filters,a=i.util.createClass;g.Convolute=a(g.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(u){var l=Math.sqrt(this.matrix.length),d=this.type+"_"+l+"_"+(this.opaque?1:0),y=this.fragmentSource[d];return u.programCache.hasOwnProperty(d)||(u.programCache[d]=this.createProgram(u.context,y)),u.programCache[d]},applyTo2d:function(u){var l=u.imageData,d=l.data,y=this.matrix,p=Math.round(Math.sqrt(y.length)),v=Math.floor(p/2),w=l.width,C=l.height,x=u.ctx.createImageData(w,C),b=x.data,E=this.opaque?1:0,k,D,B,W,$,re,Z,se,ue,Ce,be,ee,P;for(be=0;be<C;be++)for(Ce=0;Ce<w;Ce++){for($=(be*w+Ce)*4,k=0,D=0,B=0,W=0,P=0;P<p;P++)for(ee=0;ee<p;ee++)Z=be+P-v,re=Ce+ee-v,!(Z<0||Z>=C||re<0||re>=w)&&(se=(Z*w+re)*4,ue=y[P*p+ee],k+=d[se]*ue,D+=d[se+1]*ue,B+=d[se+2]*ue,E||(W+=d[se+3]*ue));b[$]=k,b[$+1]=D,b[$+2]=B,E?b[$+3]=d[$+3]:b[$+3]=W}u.imageData=x},getUniformLocations:function(u,l){return{uMatrix:u.getUniformLocation(l,"uMatrix"),uOpaque:u.getUniformLocation(l,"uOpaque"),uHalfSize:u.getUniformLocation(l,"uHalfSize"),uSize:u.getUniformLocation(l,"uSize")}},sendUniformData:function(u,l){u.uniform1fv(l.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.Image.filters,g=i.util.createClass;h.Grayscale=g(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(a){var u=a.imageData,l=u.data,d,y=l.length,p,v=this.mode;for(d=0;d<y;d+=4)v==="average"?p=(l[d]+l[d+1]+l[d+2])/3:v==="lightness"?p=(Math.min(l[d],l[d+1],l[d+2])+Math.max(l[d],l[d+1],l[d+2]))/2:v==="luminosity"&&(p=.21*l[d]+.72*l[d+1]+.07*l[d+2]),l[d]=p,l[d+1]=p,l[d+2]=p},retrieveShader:function(a){var u=this.type+"_"+this.mode;if(!a.programCache.hasOwnProperty(u)){var l=this.fragmentSource[this.mode];a.programCache[u]=this.createProgram(a.context,l)}return a.programCache[u]},getUniformLocations:function(a,u){return{uMode:a.getUniformLocation(u,"uMode")}},sendUniformData:function(a,u){var l=1;a.uniform1i(u.uMode,l)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.Image.filters,g=i.util.createClass;h.Invert=g(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(a){var u=a.imageData,l=u.data,d,y=l.length;for(d=0;d<y;d+=4)l[d]=255-l[d],l[d+1]=255-l[d+1],l[d+2]=255-l[d+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(a,u){return{uInvert:a.getUniformLocation(u,"uInvert")}},sendUniformData:function(a,u){a.uniform1i(u.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.util.object.extend,g=i.Image.filters,a=i.util.createClass;g.Noise=a(g.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(u){if(this.noise!==0){var l=u.imageData,d=l.data,y,p=d.length,v=this.noise,w;for(y=0,p=d.length;y<p;y+=4)w=(.5-Math.random())*v,d[y]+=w,d[y+1]+=w,d[y+2]+=w}},getUniformLocations:function(u,l){return{uNoise:u.getUniformLocation(l,"uNoise"),uSeed:u.getUniformLocation(l,"uSeed")}},sendUniformData:function(u,l){u.uniform1f(l.uNoise,this.noise/255),u.uniform1f(l.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.Image.filters,g=i.util.createClass;h.Pixelate=g(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(a){var u=a.imageData,l=u.data,d=u.height,y=u.width,p,v,w,C,x,b,E,k,D,B,W;for(v=0;v<d;v+=this.blocksize)for(w=0;w<y;w+=this.blocksize)for(p=v*4*y+w*4,C=l[p],x=l[p+1],b=l[p+2],E=l[p+3],B=Math.min(v+this.blocksize,d),W=Math.min(w+this.blocksize,y),k=v;k<B;k++)for(D=w;D<W;D++)p=k*4*y+D*4,l[p]=C,l[p+1]=x,l[p+2]=b,l[p+3]=E},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(a,u){return{uBlocksize:a.getUniformLocation(u,"uBlocksize"),uStepW:a.getUniformLocation(u,"uStepW"),uStepH:a.getUniformLocation(u,"uStepH")}},sendUniformData:function(a,u){a.uniform1f(u.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.util.object.extend,g=i.Image.filters,a=i.util.createClass;g.RemoveColor=a(g.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(u){var l=u.imageData,d=l.data,y,p=this.distance*255,v,w,C,x=new i.Color(this.color).getSource(),b=[x[0]-p,x[1]-p,x[2]-p],E=[x[0]+p,x[1]+p,x[2]+p];for(y=0;y<d.length;y+=4)v=d[y],w=d[y+1],C=d[y+2],v>b[0]&&w>b[1]&&C>b[2]&&v<E[0]&&w<E[1]&&C<E[2]&&(d[y+3]=0)},getUniformLocations:function(u,l){return{uLow:u.getUniformLocation(l,"uLow"),uHigh:u.getUniformLocation(l,"uHigh")}},sendUniformData:function(u,l){var d=new i.Color(this.color).getSource(),y=parseFloat(this.distance),p=[0+d[0]/255-y,0+d[1]/255-y,0+d[2]/255-y,1],v=[d[0]/255+y,d[1]/255+y,d[2]/255+y,1];u.uniform4fv(l.uLow,p),u.uniform4fv(l.uHigh,v)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.Image.filters,g=i.util.createClass,a={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var u in a)h[u]=g(h.ColorMatrix,{type:u,matrix:a[u],mainParameter:!1,colorsOnly:!0}),i.Image.filters[u].fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric,h=i.Image.filters,g=i.util.createClass;h.BlendColor=g(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(a){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[a]+`}
}`},retrieveShader:function(a){var u=this.type+"_"+this.mode,l;return a.programCache.hasOwnProperty(u)||(l=this.buildSource(this.mode),a.programCache[u]=this.createProgram(a.context,l)),a.programCache[u]},applyTo2d:function(a){var u=a.imageData,l=u.data,d=l.length,y,p,v,w,C,x,b,E=1-this.alpha;b=new i.Color(this.color).getSource(),y=b[0]*this.alpha,p=b[1]*this.alpha,v=b[2]*this.alpha;for(var k=0;k<d;k+=4)switch(w=l[k],C=l[k+1],x=l[k+2],this.mode){case"multiply":l[k]=w*y/255,l[k+1]=C*p/255,l[k+2]=x*v/255;break;case"screen":l[k]=255-(255-w)*(255-y)/255,l[k+1]=255-(255-C)*(255-p)/255,l[k+2]=255-(255-x)*(255-v)/255;break;case"add":l[k]=w+y,l[k+1]=C+p,l[k+2]=x+v;break;case"diff":case"difference":l[k]=Math.abs(w-y),l[k+1]=Math.abs(C-p),l[k+2]=Math.abs(x-v);break;case"subtract":l[k]=w-y,l[k+1]=C-p,l[k+2]=x-v;break;case"darken":l[k]=Math.min(w,y),l[k+1]=Math.min(C,p),l[k+2]=Math.min(x,v);break;case"lighten":l[k]=Math.max(w,y),l[k+1]=Math.max(C,p),l[k+2]=Math.max(x,v);break;case"overlay":l[k]=y<128?2*w*y/255:255-2*(255-w)*(255-y)/255,l[k+1]=p<128?2*C*p/255:255-2*(255-C)*(255-p)/255,l[k+2]=v<128?2*x*v/255:255-2*(255-x)*(255-v)/255;break;case"exclusion":l[k]=y+w-2*y*w/255,l[k+1]=p+C-2*p*C/255,l[k+2]=v+x-2*v*x/255;break;case"tint":l[k]=y+w*E,l[k+1]=p+C*E,l[k+2]=v+x*E}},getUniformLocations:function(a,u){return{uColor:a.getUniformLocation(u,"uColor")}},sendUniformData:function(a,u){var l=new i.Color(this.color).getSource();l[0]=this.alpha*l[0]/255,l[1]=this.alpha*l[1]/255,l[2]=this.alpha*l[2]/255,l[3]=this.alpha,a.uniform4fv(u.uColor,l)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric,h=i.Image.filters,g=i.util.createClass;h.BlendImage=g(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(a){var u=this.type+"_"+this.mode,l=this.fragmentSource[this.mode];return a.programCache.hasOwnProperty(u)||(a.programCache[u]=this.createProgram(a.context,l)),a.programCache[u]},applyToWebGL:function(a){var u=a.context,l=this.createTexture(a.filterBackend,this.image);this.bindAdditionalTexture(u,l,u.TEXTURE1),this.callSuper("applyToWebGL",a),this.unbindAdditionalTexture(u,u.TEXTURE1)},createTexture:function(a,u){return a.getCachedTexture(u.cacheKey,u._element)},calculateMatrix:function(){var a=this.image,u=a._element.width,l=a._element.height;return[1/a.scaleX,0,0,0,1/a.scaleY,0,-a.left/u,-a.top/l,1]},applyTo2d:function(a){var u=a.imageData,l=a.filterBackend.resources,d=u.data,y=d.length,p=u.width,v=u.height,w,C,x,b,E,k,D,B,W,$,re=this.image,Z;l.blendImage||(l.blendImage=i.util.createCanvasElement()),W=l.blendImage,$=W.getContext("2d"),W.width!==p||W.height!==v?(W.width=p,W.height=v):$.clearRect(0,0,p,v),$.setTransform(re.scaleX,0,0,re.scaleY,re.left,re.top),$.drawImage(re._element,0,0,p,v),Z=$.getImageData(0,0,p,v).data;for(var se=0;se<y;se+=4)switch(E=d[se],k=d[se+1],D=d[se+2],B=d[se+3],w=Z[se],C=Z[se+1],x=Z[se+2],b=Z[se+3],this.mode){case"multiply":d[se]=E*w/255,d[se+1]=k*C/255,d[se+2]=D*x/255,d[se+3]=B*b/255;break;case"mask":d[se+3]=b;break}},getUniformLocations:function(a,u){return{uTransformMatrix:a.getUniformLocation(u,"uTransformMatrix"),uImage:a.getUniformLocation(u,"uImage")}},sendUniformData:function(a,u){var l=this.calculateMatrix();a.uniform1i(u.uImage,1),a.uniformMatrix3fv(u.uTransformMatrix,!1,l)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(a,u){i.Image.fromObject(a.image,function(l){var d=i.util.object.clone(a);d.image=l,u(new i.Image.filters.BlendImage(d))})}}(t),function(f){var i=f.fabric||(f.fabric={}),h=Math.pow,g=Math.floor,a=Math.sqrt,u=Math.abs,l=Math.round,d=Math.sin,y=Math.ceil,p=i.Image.filters,v=i.util.createClass;p.Resize=v(p.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(w,C){return{uDelta:w.getUniformLocation(C,"uDelta"),uTaps:w.getUniformLocation(C,"uTaps")}},sendUniformData:function(w,C){w.uniform2fv(C.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),w.uniform1fv(C.uTaps,this.taps)},retrieveShader:function(w){var C=this.getFilterWindow(),x=this.type+"_"+C;if(!w.programCache.hasOwnProperty(x)){var b=this.generateShader(C);w.programCache[x]=this.createProgram(w.context,b)}return w.programCache[x]},getFilterWindow:function(){var w=this.tempScale;return Math.ceil(this.lanczosLobes/w)},getTaps:function(){for(var w=this.lanczosCreate(this.lanczosLobes),C=this.tempScale,x=this.getFilterWindow(),b=new Array(x),E=1;E<=x;E++)b[E-1]=w(E*C);return b},generateShader:function(b){for(var C=new Array(b),x=this.fragmentSourceTOP,b,E=1;E<=b;E++)C[E-1]=E+".0 * uDelta";return x+="uniform float uTaps["+b+`];
`,x+=`void main() {
`,x+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,x+=`  float sum = 1.0;
`,C.forEach(function(k,D){x+="  color += texture2D(uTexture, vTexCoord + "+k+") * uTaps["+D+`];
`,x+="  color += texture2D(uTexture, vTexCoord - "+k+") * uTaps["+D+`];
`,x+="  sum += 2.0 * uTaps["+D+`];
`}),x+=`  gl_FragColor = color / sum;
`,x+="}",x},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(w){w.webgl?(w.passes++,this.width=w.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=w.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),w.destinationWidth=this.dW,this._setupFrameBuffer(w),this.applyToWebGL(w),this._swapTextures(w),w.sourceWidth=w.destinationWidth,this.height=w.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),w.destinationHeight=this.dH,this._setupFrameBuffer(w),this.applyToWebGL(w),this._swapTextures(w),w.sourceHeight=w.destinationHeight):this.applyTo2d(w)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(w){return function(C){if(C>=w||C<=-w)return 0;if(C<11920929e-14&&C>-11920929e-14)return 1;C*=Math.PI;var x=C/w;return d(C)/C*d(x)/x}},applyTo2d:function(w){var C=w.imageData,x=this.scaleX,b=this.scaleY;this.rcpScaleX=1/x,this.rcpScaleY=1/b;var E=C.width,k=C.height,D=l(E*x),B=l(k*b),W;this.resizeType==="sliceHack"?W=this.sliceByTwo(w,E,k,D,B):this.resizeType==="hermite"?W=this.hermiteFastResize(w,E,k,D,B):this.resizeType==="bilinear"?W=this.bilinearFiltering(w,E,k,D,B):this.resizeType==="lanczos"&&(W=this.lanczosResize(w,E,k,D,B)),w.imageData=W},sliceByTwo:function(w,C,x,b,E){var k=w.imageData,D=.5,B=!1,W=!1,$=C*D,re=x*D,Z=i.filterBackend.resources,se,ue,Ce=0,be=0,ee=C,P=0;for(Z.sliceByTwo||(Z.sliceByTwo=document.createElement("canvas")),se=Z.sliceByTwo,(se.width<C*1.5||se.height<x)&&(se.width=C*1.5,se.height=x),ue=se.getContext("2d"),ue.clearRect(0,0,C*1.5,x),ue.putImageData(k,0,0),b=g(b),E=g(E);!B||!W;)C=$,x=re,b<g($*D)?$=g($*D):($=b,B=!0),E<g(re*D)?re=g(re*D):(re=E,W=!0),ue.drawImage(se,Ce,be,C,x,ee,P,$,re),Ce=ee,be=P,P+=re;return ue.getImageData(Ce,be,b,E)},lanczosResize:function(w,C,x,b,E){function k(I){var N,Q,F,M,V,q,ae,J,fe,ye,_e;for(P.x=(I+.5)*re,R.x=g(P.x),N=0;N<E;N++){for(P.y=(N+.5)*Z,R.y=g(P.y),V=0,q=0,ae=0,J=0,fe=0,Q=R.x-Ce;Q<=R.x+Ce;Q++)if(!(Q<0||Q>=C)){ye=g(1e3*u(Q-P.x)),ee[ye]||(ee[ye]={});for(var ie=R.y-be;ie<=R.y+be;ie++)ie<0||ie>=x||(_e=g(1e3*u(ie-P.y)),ee[ye][_e]||(ee[ye][_e]=$(a(h(ye*se,2)+h(_e*ue,2))/1e3)),F=ee[ye][_e],F>0&&(M=(ie*C+Q)*4,V+=F,q+=F*D[M],ae+=F*D[M+1],J+=F*D[M+2],fe+=F*D[M+3]))}M=(N*b+I)*4,W[M]=q/V,W[M+1]=ae/V,W[M+2]=J/V,W[M+3]=fe/V}return++I<b?k(I):B}var D=w.imageData.data,B=w.ctx.createImageData(b,E),W=B.data,$=this.lanczosCreate(this.lanczosLobes),re=this.rcpScaleX,Z=this.rcpScaleY,se=2/this.rcpScaleX,ue=2/this.rcpScaleY,Ce=y(re*this.lanczosLobes/2),be=y(Z*this.lanczosLobes/2),ee={},P={},R={};return k(0)},bilinearFiltering:function(w,C,x,b,E){var k,D,B,W,$,re,Z,se,ue,Ce,be,ee,P=0,R,I=this.rcpScaleX,N=this.rcpScaleY,Q=4*(C-1),F=w.imageData,M=F.data,V=w.ctx.createImageData(b,E),q=V.data;for(Z=0;Z<E;Z++)for(se=0;se<b;se++)for($=g(I*se),re=g(N*Z),ue=I*se-$,Ce=N*Z-re,R=4*(re*C+$),be=0;be<4;be++)k=M[R+be],D=M[R+4+be],B=M[R+Q+be],W=M[R+Q+4+be],ee=k*(1-ue)*(1-Ce)+D*ue*(1-Ce)+B*Ce*(1-ue)+W*ue*Ce,q[P++]=ee;return V},hermiteFastResize:function(w,C,x,b,E){for(var k=this.rcpScaleX,D=this.rcpScaleY,B=y(k/2),W=y(D/2),$=w.imageData,re=$.data,Z=w.ctx.createImageData(b,E),se=Z.data,ue=0;ue<E;ue++)for(var Ce=0;Ce<b;Ce++){for(var be=(Ce+ue*b)*4,ee=0,P=0,R=0,I=0,N=0,Q=0,F=0,M=(ue+.5)*D,V=g(ue*D);V<(ue+1)*D;V++)for(var q=u(M-(V+.5))/W,ae=(Ce+.5)*k,J=q*q,fe=g(Ce*k);fe<(Ce+1)*k;fe++){var ye=u(ae-(fe+.5))/B,_e=a(J+ye*ye);_e>1&&_e<-1||(ee=2*_e*_e*_e-3*_e*_e+1,ee>0&&(ye=4*(fe+V*C),F+=ee*re[ye+3],R+=ee,re[ye+3]<255&&(ee=ee*re[ye+3]/250),I+=ee*re[ye],N+=ee*re[ye+1],Q+=ee*re[ye+2],P+=ee))}se[be]=I/P,se[be+1]=N/P,se[be+2]=Q/P,se[be+3]=F/R}return Z},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.Image.filters,g=i.util.createClass;h.Contrast=g(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(a){if(this.contrast!==0){var u=a.imageData,l,y,d=u.data,y=d.length,p=Math.floor(this.contrast*255),v=259*(p+255)/(255*(259-p));for(l=0;l<y;l+=4)d[l]=v*(d[l]-128)+128,d[l+1]=v*(d[l+1]-128)+128,d[l+2]=v*(d[l+2]-128)+128}},getUniformLocations:function(a,u){return{uContrast:a.getUniformLocation(u,"uContrast")}},sendUniformData:function(a,u){a.uniform1f(u.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.Image.filters,g=i.util.createClass;h.Saturation=g(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(a){if(this.saturation!==0){var u=a.imageData,l=u.data,d=l.length,y=-this.saturation,p,v;for(p=0;p<d;p+=4)v=Math.max(l[p],l[p+1],l[p+2]),l[p]+=v!==l[p]?(v-l[p])*y:0,l[p+1]+=v!==l[p+1]?(v-l[p+1])*y:0,l[p+2]+=v!==l[p+2]?(v-l[p+2])*y:0}},getUniformLocations:function(a,u){return{uSaturation:a.getUniformLocation(u,"uSaturation")}},sendUniformData:function(a,u){a.uniform1f(u.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.Image.filters,g=i.util.createClass;h.Vibrance=g(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(a){if(this.vibrance!==0){var u=a.imageData,l=u.data,d=l.length,y=-this.vibrance,p,v,w,C;for(p=0;p<d;p+=4)v=Math.max(l[p],l[p+1],l[p+2]),w=(l[p]+l[p+1]+l[p+2])/3,C=Math.abs(v-w)*2/255*y,l[p]+=v!==l[p]?(v-l[p])*C:0,l[p+1]+=v!==l[p+1]?(v-l[p+1])*C:0,l[p+2]+=v!==l[p+2]?(v-l[p+2])*C:0}},getUniformLocations:function(a,u){return{uVibrance:a.getUniformLocation(u,"uVibrance")}},sendUniformData:function(a,u){a.uniform1f(u.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.Image.filters,g=i.util.createClass;h.Blur=g(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(a){a.webgl?(this.aspectRatio=a.sourceWidth/a.sourceHeight,a.passes++,this._setupFrameBuffer(a),this.horizontal=!0,this.applyToWebGL(a),this._swapTextures(a),this._setupFrameBuffer(a),this.horizontal=!1,this.applyToWebGL(a),this._swapTextures(a)):this.applyTo2d(a)},applyTo2d:function(a){a.imageData=this.simpleBlur(a)},simpleBlur:function(a){var u=a.filterBackend.resources,l,d,y=a.imageData.width,p=a.imageData.height;u.blurLayer1||(u.blurLayer1=i.util.createCanvasElement(),u.blurLayer2=i.util.createCanvasElement()),l=u.blurLayer1,d=u.blurLayer2,(l.width!==y||l.height!==p)&&(d.width=l.width=y,d.height=l.height=p);var v=l.getContext("2d"),w=d.getContext("2d"),C=15,x,b,E,k,D=this.blur*.06*.5;for(v.putImageData(a.imageData,0,0),w.clearRect(0,0,y,p),k=-C;k<=C;k++)x=(Math.random()-.5)/4,b=k/C,E=D*b*y+x,w.globalAlpha=1-Math.abs(b),w.drawImage(l,E,x),v.drawImage(d,0,0),w.globalAlpha=1,w.clearRect(0,0,d.width,d.height);for(k=-C;k<=C;k++)x=(Math.random()-.5)/4,b=k/C,E=D*b*p+x,w.globalAlpha=1-Math.abs(b),w.drawImage(l,x,E),v.drawImage(d,0,0),w.globalAlpha=1,w.clearRect(0,0,d.width,d.height);a.ctx.drawImage(l,0,0);var B=a.ctx.getImageData(0,0,l.width,l.height);return v.globalAlpha=1,v.clearRect(0,0,l.width,l.height),B},getUniformLocations:function(a,u){return{delta:a.getUniformLocation(u,"uDelta")}},sendUniformData:function(a,u){var l=this.chooseRightDelta();a.uniform2fv(u.delta,l)},chooseRightDelta:function(){var a=1,u=[0,0],l;return this.horizontal?this.aspectRatio>1&&(a=1/this.aspectRatio):this.aspectRatio<1&&(a=this.aspectRatio),l=a*this.blur*.12,this.horizontal?u[0]=l:u[1]=l,u}}),h.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.Image.filters,g=i.util.createClass;h.Gamma=g(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(a){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,a)},applyTo2d:function(a){var u=a.imageData,l=u.data,d=this.gamma,y=l.length,p=1/d[0],v=1/d[1],w=1/d[2],C;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),C=0,y=256;C<y;C++)this.rVals[C]=Math.pow(C/255,p)*255,this.gVals[C]=Math.pow(C/255,v)*255,this.bVals[C]=Math.pow(C/255,w)*255;for(C=0,y=l.length;C<y;C+=4)l[C]=this.rVals[l[C]],l[C+1]=this.gVals[l[C+1]],l[C+2]=this.bVals[l[C+2]]},getUniformLocations:function(a,u){return{uGamma:a.getUniformLocation(u,"uGamma")}},sendUniformData:function(a,u){a.uniform3fv(u.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.Image.filters,g=i.util.createClass;h.Composed=g(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(a){this.callSuper("initialize",a),this.subFilters=this.subFilters.slice(0)},applyTo:function(a){a.passes+=this.subFilters.length-1,this.subFilters.forEach(function(u){u.applyTo(a)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(a){return a.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(a){return!a.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(a,u){var l=a.subFilters||[],d=l.map(function(p){return new i.Image.filters[p.type](p)}),y=new i.Image.filters.Composed({subFilters:d});return u&&u(y),y}}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.Image.filters,g=i.util.createClass;h.HueRotation=g(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var a=this.rotation*Math.PI,u=i.util.cos(a),l=i.util.sin(a),d=1/3,y=Math.sqrt(d)*l,p=1-u;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=u+p/3,this.matrix[1]=d*p-y,this.matrix[2]=d*p+y,this.matrix[5]=d*p+y,this.matrix[6]=u+d*p,this.matrix[7]=d*p-y,this.matrix[10]=d*p-y,this.matrix[11]=d*p+y,this.matrix[12]=u+d*p},isNeutralState:function(a){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,a)},applyTo:function(a){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,a)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(f){var i=f.fabric||(f.fabric={}),h=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var g="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(g),cacheProperties:i.Object.prototype.cacheProperties.concat(g),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(a,u){this.styles=u?u.styles||{}:{},this.text=a,this.__skipDimension=!0,this.callSuper("initialize",u),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var a=this.path;a&&(a.segmentsInfo=i.util.getPathSegmentsInfo(a.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var a=this._splitTextIntoLines(this.text);return this.textLines=a.lines,this._textLines=a.graphemeLines,this._unwrappedTextLines=a._unwrappedLines,this._text=a.graphemeText,a},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var a,u,l,d,y,p,v,w=0,C=this._textLines.length;w<C;w++)if(!(this.textAlign!=="justify"&&(w===C-1||this.isEndOfWrapping(w)))&&(d=0,y=this._textLines[w],u=this.getLineWidth(w),u<this.width&&(v=this.textLines[w].match(this._reSpacesAndTabs)))){l=v.length,a=(this.width-u)/l;for(var x=0,b=y.length;x<=b;x++)p=this.__charBounds[w][x],this._reSpaceAndTab.test(y[x])?(p.width+=a,p.kernedWidth+=a,p.left+=d,d+=a):p.left+=d}},isEndOfWrapping:function(a){return a===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var a=this.callSuper("_getCacheCanvasDimensions"),u=this.fontSize;return a.width+=u*a.zoomX,a.height+=u*a.zoomY,a},_render:function(a){var u=this.path;u&&!u.isNotVisible()&&u._render(a),this._setTextStyles(a),this._renderTextLinesBackground(a),this._renderTextDecoration(a,"underline"),this._renderText(a),this._renderTextDecoration(a,"overline"),this._renderTextDecoration(a,"linethrough")},_renderText:function(a){this.paintFirst==="stroke"?(this._renderTextStroke(a),this._renderTextFill(a)):(this._renderTextFill(a),this._renderTextStroke(a))},_setTextStyles:function(a,u,l){if(a.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":a.textBaseline="middle";break;case"ascender":a.textBaseline="top";break;case"descender":a.textBaseline="bottom";break}a.font=this._getFontDeclaration(u,l)},calcTextWidth:function(){for(var a=this.getLineWidth(0),u=1,l=this._textLines.length;u<l;u++){var d=this.getLineWidth(u);d>a&&(a=d)}return a},_renderTextLine:function(a,u,l,d,y,p){this._renderChars(a,u,l,d,y,p)},_renderTextLinesBackground:function(a){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var u,l,d=a.fillStyle,y,p,v=this._getLeftOffset(),w=this._getTopOffset(),C=0,x=0,b,E,k=this.path,D,B=0,W=this._textLines.length;B<W;B++){if(u=this.getHeightOfLine(B),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",B)){w+=u;continue}y=this._textLines[B],l=this._getLineLeftOffset(B),x=0,C=0,p=this.getValueOfPropertyAt(B,0,"textBackgroundColor");for(var $=0,re=y.length;$<re;$++)b=this.__charBounds[B][$],E=this.getValueOfPropertyAt(B,$,"textBackgroundColor"),k?(a.save(),a.translate(b.renderLeft,b.renderTop),a.rotate(b.angle),a.fillStyle=E,E&&a.fillRect(-b.width/2,-u/this.lineHeight*(1-this._fontSizeFraction),b.width,u/this.lineHeight),a.restore()):E!==p?(D=v+l+C,this.direction==="rtl"&&(D=this.width-D-x),a.fillStyle=p,p&&a.fillRect(D,w,x,u/this.lineHeight),C=b.left,x=b.width,p=E):x+=b.kernedWidth;E&&!k&&(D=v+l+C,this.direction==="rtl"&&(D=this.width-D-x),a.fillStyle=E,a.fillRect(D,w,x,u/this.lineHeight)),w+=u}a.fillStyle=d,this._removeShadow(a)}},getFontCache:function(a){var u=a.fontFamily.toLowerCase();i.charWidthsCache[u]||(i.charWidthsCache[u]={});var l=i.charWidthsCache[u],d=a.fontStyle.toLowerCase()+"_"+(a.fontWeight+"").toLowerCase();return l[d]||(l[d]={}),l[d]},_measureChar:function(a,u,l,d){var y=this.getFontCache(u),p=this._getFontDeclaration(u),v=this._getFontDeclaration(d),w=l+a,C=p===v,x,b,E,k=u.fontSize/this.CACHE_FONT_SIZE,D;if(l&&y[l]!==void 0&&(E=y[l]),y[a]!==void 0&&(D=x=y[a]),C&&y[w]!==void 0&&(b=y[w],D=b-E),x===void 0||E===void 0||b===void 0){var B=this.getMeasuringContext();this._setTextStyles(B,u,!0)}return x===void 0&&(D=x=B.measureText(a).width,y[a]=x),E===void 0&&C&&l&&(E=B.measureText(l).width,y[l]=E),C&&b===void 0&&(b=B.measureText(w).width,y[w]=b,D=b-E),{width:x*k,kernedWidth:D*k}},getHeightOfChar:function(a,u){return this.getValueOfPropertyAt(a,u,"fontSize")},measureLine:function(a){var u=this._measureLine(a);return this.charSpacing!==0&&(u.width-=this._getWidthOfCharSpacing()),u.width<0&&(u.width=0),u},_measureLine:function(a){var u=0,l,d,y=this._textLines[a],p,v,w=0,C=new Array(y.length),x=0,b,E,k=this.path,D=this.pathSide==="right";for(this.__charBounds[a]=C,l=0;l<y.length;l++)d=y[l],v=this._getGraphemeBox(d,a,l,p),C[l]=v,u+=v.kernedWidth,p=d;if(C[l]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},k){switch(E=k.segmentsInfo[k.segmentsInfo.length-1].length,b=i.util.getPointOnPath(k.path,0,k.segmentsInfo),b.x+=k.pathOffset.x,b.y+=k.pathOffset.y,this.textAlign){case"left":x=D?E-u:0;break;case"center":x=(E-u)/2;break;case"right":x=D?0:E-u;break}for(x+=this.pathStartOffset*(D?-1:1),l=D?y.length-1:0;D?l>=0:l<y.length;D?l--:l++)v=C[l],x>E?x%=E:x<0&&(x+=E),this._setGraphemeOnPath(x,v,b),x+=v.kernedWidth}return{width:u,numOfSpaces:w}},_setGraphemeOnPath:function(a,u,l){var d=a+u.kernedWidth/2,y=this.path,p=i.util.getPointOnPath(y.path,d,y.segmentsInfo);u.renderLeft=p.x-l.x,u.renderTop=p.y-l.y,u.angle=p.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(a,u,l,d,y){var p=this.getCompleteStyleDeclaration(u,l),v=d?this.getCompleteStyleDeclaration(u,l-1):{},w=this._measureChar(a,p,d,v),C=w.kernedWidth,x=w.width,b;this.charSpacing!==0&&(b=this._getWidthOfCharSpacing(),x+=b,C+=b);var E={width:x,left:0,height:p.fontSize,kernedWidth:C,deltaY:p.deltaY};if(l>0&&!y){var k=this.__charBounds[u][l-1];E.left=k.left+k.width+w.kernedWidth-w.width}return E},getHeightOfLine:function(a){if(this.__lineHeights[a])return this.__lineHeights[a];for(var u=this._textLines[a],l=this.getHeightOfChar(a,0),d=1,y=u.length;d<y;d++)l=Math.max(this.getHeightOfChar(a,d),l);return this.__lineHeights[a]=l*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var a,u=0,l=0,d=this._textLines.length;l<d;l++)a=this.getHeightOfLine(l),u+=l===d-1?a/this.lineHeight:a;return u},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(a,u){a.save();for(var l=0,d=this._getLeftOffset(),y=this._getTopOffset(),p=0,v=this._textLines.length;p<v;p++){var w=this.getHeightOfLine(p),C=w/this.lineHeight,x=this._getLineLeftOffset(p);this._renderTextLine(u,a,this._textLines[p],d+x,y+l+C,p),l+=w}a.restore()},_renderTextFill:function(a){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(a,"fillText")},_renderTextStroke:function(a){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(a),a.save(),this._setLineDash(a,this.strokeDashArray),a.beginPath(),this._renderTextCommon(a,"strokeText"),a.closePath(),a.restore())},_renderChars:function(a,u,l,d,y,p){var v=this.getHeightOfLine(p),w=this.textAlign.indexOf("justify")!==-1,C,x,b="",E,k=0,D,B=this.path,W=!w&&this.charSpacing===0&&this.isEmptyStyles(p)&&!B,$=this.direction==="ltr",re=this.direction==="ltr"?1:-1,Z,se=u.canvas.getAttribute("dir");if(u.save(),se!==this.direction&&(u.canvas.setAttribute("dir",$?"ltr":"rtl"),u.direction=$?"ltr":"rtl",u.textAlign=$?"left":"right"),y-=v*this._fontSizeFraction/this.lineHeight,W){this._renderChar(a,u,p,0,l.join(""),d,y,v),u.restore();return}for(var ue=0,Ce=l.length-1;ue<=Ce;ue++)D=ue===Ce||this.charSpacing||B,b+=l[ue],E=this.__charBounds[p][ue],k===0?(d+=re*(E.kernedWidth-E.width),k+=E.width):k+=E.kernedWidth,w&&!D&&this._reSpaceAndTab.test(l[ue])&&(D=!0),D||(C=C||this.getCompleteStyleDeclaration(p,ue),x=this.getCompleteStyleDeclaration(p,ue+1),D=i.util.hasStyleChanged(C,x,!1)),D&&(B?(u.save(),u.translate(E.renderLeft,E.renderTop),u.rotate(E.angle),this._renderChar(a,u,p,ue,b,-k/2,0,v),u.restore()):(Z=d,this._renderChar(a,u,p,ue,b,Z,y,v)),b="",C=x,d+=re*k,k=0);u.restore()},_applyPatternGradientTransformText:function(a){var u=i.util.createCanvasElement(),l,d=this.width+this.strokeWidth,y=this.height+this.strokeWidth;return u.width=d,u.height=y,l=u.getContext("2d"),l.beginPath(),l.moveTo(0,0),l.lineTo(d,0),l.lineTo(d,y),l.lineTo(0,y),l.closePath(),l.translate(d/2,y/2),l.fillStyle=a.toLive(l),this._applyPatternGradientTransform(l,a),l.fill(),l.createPattern(u,"no-repeat")},handleFiller:function(a,u,l){var d,y;return l.toLive?l.gradientUnits==="percentage"||l.gradientTransform||l.patternTransform?(d=-this.width/2,y=-this.height/2,a.translate(d,y),a[u]=this._applyPatternGradientTransformText(l),{offsetX:d,offsetY:y}):(a[u]=l.toLive(a,this),this._applyPatternGradientTransform(a,l)):(a[u]=l,{offsetX:0,offsetY:0})},_setStrokeStyles:function(a,u){return a.lineWidth=u.strokeWidth,a.lineCap=this.strokeLineCap,a.lineDashOffset=this.strokeDashOffset,a.lineJoin=this.strokeLineJoin,a.miterLimit=this.strokeMiterLimit,this.handleFiller(a,"strokeStyle",u.stroke)},_setFillStyles:function(a,u){return this.handleFiller(a,"fillStyle",u.fill)},_renderChar:function(a,u,l,d,y,p,v){var w=this._getStyleDeclaration(l,d),C=this.getCompleteStyleDeclaration(l,d),x=a==="fillText"&&C.fill,b=a==="strokeText"&&C.stroke&&C.strokeWidth,E,k;!b&&!x||(u.save(),x&&(E=this._setFillStyles(u,C)),b&&(k=this._setStrokeStyles(u,C)),u.font=this._getFontDeclaration(C),w&&w.textBackgroundColor&&this._removeShadow(u),w&&w.deltaY&&(v+=w.deltaY),x&&u.fillText(y,p-E.offsetX,v-E.offsetY),b&&u.strokeText(y,p-k.offsetX,v-k.offsetY),u.restore())},setSuperscript:function(a,u){return this._setScript(a,u,this.superscript)},setSubscript:function(a,u){return this._setScript(a,u,this.subscript)},_setScript:function(a,u,l){var d=this.get2DCursorLocation(a,!0),y=this.getValueOfPropertyAt(d.lineIndex,d.charIndex,"fontSize"),p=this.getValueOfPropertyAt(d.lineIndex,d.charIndex,"deltaY"),v={fontSize:y*l.size,deltaY:p+y*l.baseline};return this.setSelectionStyles(v,a,u),this},_getLineLeftOffset:function(a){var u=this.getLineWidth(a),l=this.width-u,d=this.textAlign,y=this.direction,v,p=0,v=this.isEndOfWrapping(a);return d==="justify"||d==="justify-center"&&!v||d==="justify-right"&&!v||d==="justify-left"&&!v?0:(d==="center"&&(p=l/2),d==="right"&&(p=l),d==="justify-center"&&(p=l/2),d==="justify-right"&&(p=l),y==="rtl"&&(p-=l),p)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var a=this._forceClearCache;return a||(a=this.hasStateChanged("_dimensionAffectingProps")),a&&(this.dirty=!0,this._forceClearCache=!1),a},getLineWidth:function(a){if(this.__lineWidths[a]!==void 0)return this.__lineWidths[a];var u=this.measureLine(a),l=u.width;return this.__lineWidths[a]=l,l},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(a,u,l){var d=this._getStyleDeclaration(a,u);return d&&typeof d[l]<"u"?d[l]:this[l]},_renderTextDecoration:function(a,u){if(!(!this[u]&&!this.styleHas(u))){for(var l,d,y,p,v,w,C,x,b=this._getLeftOffset(),E=this._getTopOffset(),k,D,B,W,$,re,Z,se,ue=this.path,Ce=this._getWidthOfCharSpacing(),be=this.offsets[u],ee=0,P=this._textLines.length;ee<P;ee++){if(l=this.getHeightOfLine(ee),!this[u]&&!this.styleHas(u,ee)){E+=l;continue}C=this._textLines[ee],re=l/this.lineHeight,p=this._getLineLeftOffset(ee),D=0,B=0,x=this.getValueOfPropertyAt(ee,0,u),se=this.getValueOfPropertyAt(ee,0,"fill"),k=E+re*(1-this._fontSizeFraction),d=this.getHeightOfChar(ee,0),v=this.getValueOfPropertyAt(ee,0,"deltaY");for(var R=0,I=C.length;R<I;R++)if(W=this.__charBounds[ee][R],$=this.getValueOfPropertyAt(ee,R,u),Z=this.getValueOfPropertyAt(ee,R,"fill"),y=this.getHeightOfChar(ee,R),w=this.getValueOfPropertyAt(ee,R,"deltaY"),ue&&$&&Z)a.save(),a.fillStyle=se,a.translate(W.renderLeft,W.renderTop),a.rotate(W.angle),a.fillRect(-W.kernedWidth/2,be*y+w,W.kernedWidth,this.fontSize/15),a.restore();else if(($!==x||Z!==se||y!==d||w!==v)&&B>0){var N=b+p+D;this.direction==="rtl"&&(N=this.width-N-B),x&&se&&(a.fillStyle=se,a.fillRect(N,k+be*d+v,B,this.fontSize/15)),D=W.left,B=W.width,x=$,se=Z,d=y,v=w}else B+=W.kernedWidth;var N=b+p+D;this.direction==="rtl"&&(N=this.width-N-B),a.fillStyle=Z,$&&Z&&a.fillRect(N,k+be*d+v,B-Ce,this.fontSize/15),E+=l}this._removeShadow(a)}},_getFontDeclaration:function(a,u){var l=a||this,d=this.fontFamily,y=i.Text.genericFonts.indexOf(d.toLowerCase())>-1,p=d===void 0||d.indexOf("'")>-1||d.indexOf(",")>-1||d.indexOf('"')>-1||y?l.fontFamily:'"'+l.fontFamily+'"';return[i.isLikelyNode?l.fontWeight:l.fontStyle,i.isLikelyNode?l.fontStyle:l.fontWeight,u?this.CACHE_FONT_SIZE+"px":l.fontSize+"px",p].join(" ")},render:function(a){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",a))},_splitTextIntoLines:function(a){for(var u=a.split(this._reNewline),l=new Array(u.length),d=[`
`],y=[],p=0;p<u.length;p++)l[p]=i.util.string.graphemeSplit(u[p]),y=y.concat(l[p],d);return y.pop(),{_unwrappedLines:l,lines:u,graphemeText:y,graphemeLines:l}},toObject:function(a){var u=g.concat(a),l=this.callSuper("toObject",u);return l.styles=i.util.stylesToArray(this.styles,this.text),l.path&&(l.path=this.path.toObject()),l},set:function(a,u){this.callSuper("set",a,u);var l=!1,d=!1;if(typeof a=="object")for(var y in a)y==="path"&&this.setPathInfo(),l=l||this._dimensionAffectingProps.indexOf(y)!==-1,d=d||y==="path";else l=this._dimensionAffectingProps.indexOf(a)!==-1,d=a==="path";return d&&this.setPathInfo(),l&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(a,u,l){if(!a)return u(null);var d=i.parseAttributes(a,i.Text.ATTRIBUTE_NAMES),y=d.textAnchor||"left";if(l=i.util.object.extend(l?h(l):{},d),l.top=l.top||0,l.left=l.left||0,d.textDecoration){var p=d.textDecoration;p.indexOf("underline")!==-1&&(l.underline=!0),p.indexOf("overline")!==-1&&(l.overline=!0),p.indexOf("line-through")!==-1&&(l.linethrough=!0),delete l.textDecoration}"dx"in d&&(l.left+=d.dx),"dy"in d&&(l.top+=d.dy),"fontSize"in l||(l.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var v="";"textContent"in a?v=a.textContent:"firstChild"in a&&a.firstChild!==null&&"data"in a.firstChild&&a.firstChild.data!==null&&(v=a.firstChild.data),v=v.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var w=l.strokeWidth;l.strokeWidth=0;var C=new i.Text(v,l),x=C.getScaledHeight()/C.height,b=(C.height+C.strokeWidth)*C.lineHeight-C.height,E=b*x,k=C.getScaledHeight()+E,D=0;y==="center"&&(D=C.getScaledWidth()/2),y==="right"&&(D=C.getScaledWidth()),C.set({left:C.left-D,top:C.top-(k-C.fontSize*(.07+C._fontSizeFraction))/C.lineHeight,strokeWidth:typeof w<"u"?w:1}),u(C)},i.Text.fromObject=function(a,u){var l=h(a),d=a.path;return delete l.path,i.Object._fromObject("Text",l,function(y){y.styles=i.util.stylesFromArray(a.styles,a.text),d?i.Object._fromObject("Path",d,function(p){y.set("path",p),u(y)},"path"):u(y)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(t),function(){e.util.object.extend(e.Text.prototype,{isEmptyStyles:function(f){if(!this.styles||typeof f<"u"&&!this.styles[f])return!0;var i=typeof f>"u"?this.styles:{line:this.styles[f]};for(var h in i)for(var g in i[h])for(var a in i[h][g])return!1;return!0},styleHas:function(f,i){if(!this.styles||!f||f===""||typeof i<"u"&&!this.styles[i])return!1;var h=typeof i>"u"?this.styles:{0:this.styles[i]};for(var g in h)for(var a in h[g])if(typeof h[g][a][f]<"u")return!0;return!1},cleanStyle:function(f){if(!this.styles||!f||f==="")return!1;var i=this.styles,h=0,g,a,u=!0,l=0,d;for(var y in i){g=0;for(var p in i[y]){var d=i[y][p],v=d.hasOwnProperty(f);h++,v?(a?d[f]!==a&&(u=!1):a=d[f],d[f]===this[f]&&delete d[f]):u=!1,Object.keys(d).length!==0?g++:delete i[y][p]}g===0&&delete i[y]}for(var w=0;w<this._textLines.length;w++)l+=this._textLines[w].length;u&&h===l&&(this[f]=a,this.removeStyle(f))},removeStyle:function(f){if(!(!this.styles||!f||f==="")){var i=this.styles,h,g,a;for(g in i){h=i[g];for(a in h)delete h[a][f],Object.keys(h[a]).length===0&&delete h[a];Object.keys(h).length===0&&delete i[g]}}},_extendStyles:function(f,i){var h=this.get2DCursorLocation(f);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),e.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),i)},get2DCursorLocation:function(f,i){typeof f>"u"&&(f=this.selectionStart);for(var h=i?this._unwrappedTextLines:this._textLines,g=h.length,a=0;a<g;a++){if(f<=h[a].length)return{lineIndex:a,charIndex:f};f-=h[a].length+this.missingNewlineOffset(a)}return{lineIndex:a-1,charIndex:h[a-1].length<f?h[a-1].length:f}},getSelectionStyles:function(f,i,h){typeof f>"u"&&(f=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||f);for(var g=[],a=f;a<i;a++)g.push(this.getStyleAtPosition(a,h));return g},getStyleAtPosition:function(f,i){var h=this.get2DCursorLocation(f),g=i?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return g||{}},setSelectionStyles:function(f,i,h){typeof i>"u"&&(i=this.selectionStart||0),typeof h>"u"&&(h=this.selectionEnd||i);for(var g=i;g<h;g++)this._extendStyles(g,f);return this._forceClearCache=!0,this},_getStyleDeclaration:function(f,i){var h=this.styles&&this.styles[f];return h?h[i]:null},getCompleteStyleDeclaration:function(f,i){for(var h=this._getStyleDeclaration(f,i)||{},g={},a,u=0;u<this._styleProperties.length;u++)a=this._styleProperties[u],g[a]=typeof h[a]>"u"?this[a]:h[a];return g},_setStyleDeclaration:function(f,i,h){this.styles[f][i]=h},_deleteStyleDeclaration:function(f,i){delete this.styles[f][i]},_getLineStyle:function(f){return!!this.styles[f]},_setLineStyle:function(f){this.styles[f]={}},_deleteLineStyle:function(f){delete this.styles[f]}})}(),function(){function f(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}e.IText=e.util.createClass(e.Text,e.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,h){this.callSuper("initialize",i,h),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,h){this[i]!==h&&(this._fireSelectionChanged(),this[i]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,g=this.canvas.viewportTransform;h.save(),h.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this.transform(h),this._clearTextArea(h),i||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,h):this.renderSelection(i,h),h.restore()}},_clearTextArea:function(i){var h=this.width+4,g=this.height+4;i.clearRect(-h/2,-g/2,h,g)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var h=this._getLeftOffset(),g=this._getTopOffset(),a=this._getCursorBoundariesOffsets(i);return{left:h,top:g,leftOffset:a.left,topOffset:a.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,g,a,u=0,l=0,d,y=this.get2DCursorLocation(i);a=y.charIndex,g=y.lineIndex;for(var p=0;p<g;p++)u+=this.getHeightOfLine(p);h=this._getLineLeftOffset(g);var v=this.__charBounds[g][a];return v&&(l=v.left),this.charSpacing!==0&&a===this._textLines[g].length&&(l-=this._getWidthOfCharSpacing()),d={top:u,left:h+(l>0?l:0)},this.direction==="rtl"&&(d.left*=-1),this.cursorOffsetCache=d,this.cursorOffsetCache},renderCursor:function(i,h){var g=this.get2DCursorLocation(),a=g.lineIndex,u=g.charIndex>0?g.charIndex-1:0,l=this.getValueOfPropertyAt(a,u,"fontSize"),d=this.scaleX*this.canvas.getZoom(),y=this.cursorWidth/d,p=i.topOffset,v=this.getValueOfPropertyAt(a,u,"deltaY");p+=(1-this._fontSizeFraction)*this.getHeightOfLine(a)/this.lineHeight-l*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(a,u,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(i.left+i.leftOffset-y/2,p+i.top+v,y,l)},renderSelection:function(i,h){for(var g=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,a=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,u=this.textAlign.indexOf("justify")!==-1,l=this.get2DCursorLocation(g),d=this.get2DCursorLocation(a),y=l.lineIndex,p=d.lineIndex,v=l.charIndex<0?0:l.charIndex,w=d.charIndex<0?0:d.charIndex,C=y;C<=p;C++){var x=this._getLineLeftOffset(C)||0,b=this.getHeightOfLine(C),E=0,k=0,D=0;if(C===y&&(k=this.__charBounds[y][v].left),C>=y&&C<p)D=u&&!this.isEndOfWrapping(C)?this.width:this.getLineWidth(C)||5;else if(C===p)if(w===0)D=this.__charBounds[p][w].left;else{var B=this._getWidthOfCharSpacing();D=this.__charBounds[p][w-1].left+this.__charBounds[p][w-1].width-B}E=b,(this.lineHeight<1||C===p&&this.lineHeight>1)&&(b/=this.lineHeight);var W=i.left+x+k,$=D-k,re=b,Z=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",re=1,Z=b):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(W=this.width-W-$),h.fillRect(W,i.top+i.topOffset+Z,$,re),i.topOffset+=E}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),h=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:h}}}),e.IText.fromObject=function(i,h){var g=e.util.stylesFromArray(i.styles,i.text),a=Object.assign({},i,{styles:g});if(f(a),a.styles)for(var u in a.styles)for(var l in a.styles[u])f(a.styles[u][l]);e.Object._fromObject("IText",a,h,"text")}}(),function(){var f=e.util.object.clone;e.util.object.extend(e.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var h=i.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,i._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var h=i.canvas;h&&(h._iTextInstances=h._iTextInstances||[],e.util.removeFromArray(h._iTextInstances,i),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,i._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,h,g,a){var u;return u={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",h,{duration:g,onComplete:function(){u.isAborted||i[a]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return u.isAborted}}),u},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var h=this,g=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},g)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var h=0,g=i-1;if(this._reSpace.test(this._text[g]))for(;this._reSpace.test(this._text[g]);)h++,g--;for(;/\S/.test(this._text[g])&&g>-1;)h++,g--;return i-h},findWordBoundaryRight:function(i){var h=0,g=i;if(this._reSpace.test(this._text[g]))for(;this._reSpace.test(this._text[g]);)h++,g++;for(;/\S/.test(this._text[g])&&g<this._text.length;)h++,g++;return i+h},findLineBoundaryLeft:function(i){for(var h=0,g=i-1;!/\n/.test(this._text[g])&&g>-1;)h++,g--;return i-h},findLineBoundaryRight:function(i){for(var h=0,g=i;!/\n/.test(this._text[g])&&g<this._text.length;)h++,g++;return i+h},searchWordBoundary:function(i,h){for(var g=this._text,a=this._reSpace.test(g[i])?i-1:i,u=g[a],l=e.reNonWord;!l.test(u)&&a>0&&a<g.length;)a+=h,u=g[a];return l.test(u)&&(a+=h===1?0:1),a},selectWord:function(i){i=i||this.selectionStart;var h=this.searchWordBoundary(i,-1),g=this.searchWordBoundary(i,1);this.selectionStart=h,this.selectionEnd=g,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var h=this.findLineBoundaryLeft(i),g=this.findLineBoundaryRight(i);return this.selectionStart=h,this.selectionEnd=g,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var h=this.getSelectionStartFromPointer(i.e),g=this.selectionStart,a=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||g===a)&&(g===h||a===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==g||this.selectionEnd!==a)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,h,g){var a=g.slice(0,i),u=e.util.string.graphemeSplit(a).length;if(i===h)return{selectionStart:u,selectionEnd:u};var l=g.slice(i,h),d=e.util.string.graphemeSplit(l).length;return{selectionStart:u,selectionEnd:u+d}},fromGraphemeToStringSelection:function(i,h,g){var a=g.slice(0,i),u=a.join("").length;if(i===h)return{selectionStart:u,selectionEnd:u};var l=g.slice(i,h),d=l.join("").length;return{selectionStart:u,selectionEnd:u+d}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(i),g=this.get2DCursorLocation(i),a=g.lineIndex,u=g.charIndex,l=this.getValueOfPropertyAt(a,u,"fontSize")*this.lineHeight,d=h.leftOffset,y=this.calcTransformMatrix(),p={x:h.left+d,y:h.top+h.topOffset+l},v=this.canvas.getRetinaScaling(),w=this.canvas.upperCanvasEl,C=w.width/v,x=w.height/v,b=C-l,E=x-l,k=w.clientWidth/C,D=w.clientHeight/x;return p=e.util.transformPoint(p,y),p=e.util.transformPoint(p,this.canvas.viewportTransform),p.x*=k,p.y*=D,p.x<0&&(p.x=0),p.x>b&&(p.x=b),p.y<0&&(p.y=0),p.y>E&&(p.y=E),p.x+=this.canvas._offset.left,p.y+=this.canvas._offset.top,{left:p.x+"px",top:p.y+"px",fontSize:l+"px",charHeight:l}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,h){var g=this.get2DCursorLocation(i,!0),a=this.get2DCursorLocation(h,!0),u=g.lineIndex,l=g.charIndex,d=a.lineIndex,y=a.charIndex,p,v;if(u!==d){if(this.styles[u])for(p=l;p<this._unwrappedTextLines[u].length;p++)delete this.styles[u][p];if(this.styles[d])for(p=y;p<this._unwrappedTextLines[d].length;p++)v=this.styles[d][p],v&&(this.styles[u]||(this.styles[u]={}),this.styles[u][l+p-y]=v);for(p=u+1;p<=d;p++)delete this.styles[p];this.shiftLineStyles(d,u-d)}else if(this.styles[u]){v=this.styles[u];var w=y-l,C,x;for(p=l;p<y;p++)delete v[p];for(x in this.styles[u])C=parseInt(x,10),C>=y&&(v[C-w]=v[x],delete v[x])}},shiftLineStyles:function(i,h){var g=f(this.styles);for(var a in this.styles){var u=parseInt(a,10);u>i&&(this.styles[u+h]=g[u],g[u-h]||delete this.styles[u])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,h,g,a){var u,l={},d=!1,y=this._unwrappedTextLines[i].length===h;g||(g=1),this.shiftLineStyles(i,g),this.styles[i]&&(u=this.styles[i][h===0?h:h-1]);for(var p in this.styles[i]){var v=parseInt(p,10);v>=h&&(d=!0,l[v-h]=this.styles[i][p],y&&h===0||delete this.styles[i][p])}var w=!1;for(d&&!y&&(this.styles[i+g]=l,w=!0),w&&g--;g>0;)a&&a[g-1]?this.styles[i+g]={0:f(a[g-1])}:u?this.styles[i+g]={0:f(u)}:delete this.styles[i+g],g--;this._forceClearCache=!0},insertCharStyleObject:function(i,h,g,a){this.styles||(this.styles={});var u=this.styles[i],l=u?f(u):{};g||(g=1);for(var d in l){var y=parseInt(d,10);y>=h&&(u[y+g]=l[y],l[y-g]||delete u[y])}if(this._forceClearCache=!0,a){for(;g--;)!Object.keys(a[g]).length||(this.styles[i]||(this.styles[i]={}),this.styles[i][h+g]=f(a[g]));return}if(!!u)for(var p=u[h?h-1:1];p&&g--;)this.styles[i][h+g]=f(p)},insertNewStyleBlock:function(i,h,g){for(var a=this.get2DCursorLocation(h,!0),u=[0],l=0,d=0;d<i.length;d++)i[d]===`
`?(l++,u[l]=0):u[l]++;u[0]>0&&(this.insertCharStyleObject(a.lineIndex,a.charIndex,u[0],g),g=g&&g.slice(u[0]+1)),l&&this.insertNewlineStyleObject(a.lineIndex,a.charIndex+u[0],l);for(var d=1;d<l;d++)u[d]>0?this.insertCharStyleObject(a.lineIndex+d,0,u[d],g):g&&this.styles[a.lineIndex+d]&&g[0]&&(this.styles[a.lineIndex+d][0]=g[0]),g=g&&g.slice(u[d]+1);u[d]>0&&this.insertCharStyleObject(a.lineIndex+d,0,u[d],g)},setSelectionStartEndWithShift:function(i,h,g){g<=i?(h===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=g):g>i&&g<h?this._selectionDirection==="right"?this.selectionEnd=g:this.selectionStart=g:(h===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=g)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),e.util.object.extend(e.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(f){if(!!this.canvas){this.__newClickTime=+new Date;var i=f.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",f),this._stopEvent(f.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(f){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===f.x&&this.__lastPointer.y===f.y},_stopEvent:function(f){f.preventDefault&&f.preventDefault(),f.stopPropagation&&f.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(f){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(f.e))},tripleClickHandler:function(f){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(f.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(f){!this.canvas||!this.editable||f.e.button&&f.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(f.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(f){!this.canvas||!this.editable||f.e.button&&f.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(f){if(this.__isMousedown=!1,!(!this.editable||this.group||f.transform&&f.transform.actionPerformed||f.e.button&&f.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(f.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(f){var i=this.getSelectionStartFromPointer(f),h=this.selectionStart,g=this.selectionEnd;f.shiftKey?this.setSelectionStartEndWithShift(h,g,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(f){for(var i=this.getLocalPointer(f),h=0,g=0,a=0,u=0,l=0,d,y,p=0,v=this._textLines.length;p<v&&a<=i.y;p++)a+=this.getHeightOfLine(p)*this.scaleY,l=p,p>0&&(u+=this._textLines[p-1].length+this.missingNewlineOffset(p-1));d=this._getLineLeftOffset(l),g=d*this.scaleX,y=this._textLines[l],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+g);for(var w=0,C=y.length;w<C&&(h=g,g+=this.__charBounds[l][w].kernedWidth*this.scaleX,g<=i.x);w++)u++;return this._getNewSelectionStartFromOffset(i,h,g,u,C)},_getNewSelectionStartFromOffset:function(f,i,h,g,a){var u=f.x-i,l=h-f.x,d=l>u||l<0?0:1,y=g+d;return this.flipX&&(y=a-y),y>this._text.length&&(y=this._text.length),y}}),e.util.object.extend(e.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=e.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var f=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+f.top+"; left: "+f.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+f.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):e.document.body.appendChild(this.hiddenTextarea),e.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),e.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),e.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),e.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(e.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(f){if(!!this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(f.keyCode in i)this[i[f.keyCode]](f);else if(f.keyCode in this.ctrlKeysMapDown&&(f.ctrlKey||f.metaKey))this[this.ctrlKeysMapDown[f.keyCode]](f);else return;f.stopImmediatePropagation(),f.preventDefault(),f.keyCode>=33&&f.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(f){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(f.keyCode in this.ctrlKeysMapUp&&(f.ctrlKey||f.metaKey))this[this.ctrlKeysMapUp[f.keyCode]](f);else return;f.stopImmediatePropagation(),f.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(f){var i=this.fromPaste;if(this.fromPaste=!1,f&&f.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,g=this._text.length,a=h.length,u,l,d=a-g,y=this.selectionStart,p=this.selectionEnd,v=y!==p,w,C,x;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var b=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),E=y>b.selectionStart;v?(u=this._text.slice(y,p),d+=p-y):a<g&&(E?u=this._text.slice(p+d,p):u=this._text.slice(y,y-d)),l=h.slice(b.selectionEnd-d,b.selectionEnd),u&&u.length&&(l.length&&(w=this.getSelectionStyles(y,y+1,!1),w=l.map(function(){return w[0]})),v?(C=y,x=p):E?(C=p-u.length,x=p):(C=p,x=p+u.length),this.removeStyleFromTo(C,x)),l.length&&(i&&l.join("")===e.copiedText&&!e.disableStyleCopyPaste&&(w=e.copiedTextStyle),this.insertNewStyleBlock(l,y,w)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(f){this.compositionStart=f.target.selectionStart,this.compositionEnd=f.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(e.copiedText=this.getSelectedText(),e.disableStyleCopyPaste?e.copiedTextStyle=null:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(f){return f&&f.clipboardData||e.window.clipboardData},_getWidthBeforeCursor:function(f,i){var h=this._getLineLeftOffset(f),g;return i>0&&(g=this.__charBounds[f][i-1],h+=g.left+g.width),h},getDownCursorOffset:function(f,i){var h=this._getSelectionForOffset(f,i),g=this.get2DCursorLocation(h),a=g.lineIndex;if(a===this._textLines.length-1||f.metaKey||f.keyCode===34)return this._text.length-h;var u=g.charIndex,l=this._getWidthBeforeCursor(a,u),d=this._getIndexOnLine(a+1,l),y=this._textLines[a].slice(u);return y.length+d+1+this.missingNewlineOffset(a)},_getSelectionForOffset:function(f,i){return f.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(f,i){var h=this._getSelectionForOffset(f,i),g=this.get2DCursorLocation(h),a=g.lineIndex;if(a===0||f.metaKey||f.keyCode===33)return-h;var u=g.charIndex,l=this._getWidthBeforeCursor(a,u),d=this._getIndexOnLine(a-1,l),y=this._textLines[a].slice(0,u),p=this.missingNewlineOffset(a-1);return-this._textLines[a-1].length+d-y.length+(1-p)},_getIndexOnLine:function(f,i){for(var h=this._textLines[f],g=this._getLineLeftOffset(f),a=g,u=0,l,d,y=0,p=h.length;y<p;y++)if(l=this.__charBounds[f][y].width,a+=l,a>i){d=!0;var v=a-l,w=a,C=Math.abs(v-i),x=Math.abs(w-i);u=x<C?y:y-1;break}return d||(u=h.length-1),u},moveCursorDown:function(f){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",f)},moveCursorUp:function(f){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",f)},_moveCursorUpOrDown:function(f,i){var h="get"+f+"CursorOffset",g=this[h](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(g):this.moveCursorWithoutShift(g),g!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(f){var i=this._selectionDirection==="left"?this.selectionStart+f:this.selectionEnd+f;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),f!==0},moveCursorWithoutShift:function(f){return f<0?(this.selectionStart+=f,this.selectionEnd=this.selectionStart):(this.selectionEnd+=f,this.selectionStart=this.selectionEnd),f!==0},moveCursorLeft:function(f){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",f)},_move:function(f,i,h){var g;if(f.altKey)g=this["findWordBoundary"+h](this[i]);else if(f.metaKey||f.keyCode===35||f.keyCode===36)g=this["findLineBoundary"+h](this[i]);else return this[i]+=h==="Left"?-1:1,!0;if(typeof g<"u"&&this[i]!==g)return this[i]=g,!0},_moveLeft:function(f,i){return this._move(f,i,"Left")},_moveRight:function(f,i){return this._move(f,i,"Right")},moveCursorLeftWithoutShift:function(f){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(f,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(f){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(f,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(f,"selectionStart")},moveCursorRight:function(f){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",f)},_moveCursorLeftOrRight:function(f,i){var h="moveCursor"+f+"With";this._currentCursorOpacity=1,i.shiftKey?h+="Shift":h+="outShift",this[h](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(f){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(f,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(f,"selectionEnd")},moveCursorRightWithoutShift:function(f){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(f,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(f,i){typeof i>"u"&&(i=f+1),this.removeStyleFromTo(f,i),this._text.splice(f,i-f),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(f,i,h,g){typeof g>"u"&&(g=h),g>h&&this.removeStyleFromTo(h,g);var a=e.util.string.graphemeSplit(f);this.insertNewStyleBlock(a,h,i),this._text=[].concat(this._text.slice(0,h),a,this._text.slice(g)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var f=e.util.toFixed,i=/  +/g;e.util.object.extend(e.Text.prototype,{_toSVG:function(){var h=this._getSVGLeftTopOffsets(),g=this._getSVGTextAndBg(h.textTop,h.textLeft);return this._wrapSVGTextAndBg(g)},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(h){var g=!0,a=this.getSvgTextDecoration(this);return[h.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",a?'text-decoration="'+a+'" ':"",'style="',this.getSvgStyles(g),'"',this.addPaintOrder()," >",h.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(h,g){var a=[],u=[],l=h,d;this._setSVGBg(u);for(var y=0,p=this._textLines.length;y<p;y++)d=this._getLineLeftOffset(y),(this.textBackgroundColor||this.styleHas("textBackgroundColor",y))&&this._setSVGTextLineBg(u,y,g+d,l),this._setSVGTextLineText(a,y,g+d,l),l+=this.getHeightOfLine(y);return{textSpans:a,textBgRects:u}},_createTextCharSpan:function(h,g,a,u){var l=h!==h.trim()||h.match(i),d=this.getSvgSpanStyles(g,l),y=d?'style="'+d+'"':"",p=g.deltaY,v="",w=e.Object.NUM_FRACTION_DIGITS;return p&&(v=' dy="'+f(p,w)+'" '),['<tspan x="',f(a,w),'" y="',f(u,w),'" ',v,y,">",e.util.string.escapeXml(h),"</tspan>"].join("")},_setSVGTextLineText:function(h,g,a,u){var l=this.getHeightOfLine(g),d=this.textAlign.indexOf("justify")!==-1,y,p,v="",w,C,x=0,b=this._textLines[g],E;u+=l*(1-this._fontSizeFraction)/this.lineHeight;for(var k=0,D=b.length-1;k<=D;k++)E=k===D||this.charSpacing,v+=b[k],w=this.__charBounds[g][k],x===0?(a+=w.kernedWidth-w.width,x+=w.width):x+=w.kernedWidth,d&&!E&&this._reSpaceAndTab.test(b[k])&&(E=!0),E||(y=y||this.getCompleteStyleDeclaration(g,k),p=this.getCompleteStyleDeclaration(g,k+1),E=e.util.hasStyleChanged(y,p,!0)),E&&(C=this._getStyleDeclaration(g,k)||{},h.push(this._createTextCharSpan(v,C,a,u)),v="",y=p,a+=x,x=0)},_pushTextBgRect:function(h,g,a,u,l,d){var y=e.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(g),' x="',f(a,y),'" y="',f(u,y),'" width="',f(l,y),'" height="',f(d,y),`"></rect>
`)},_setSVGTextLineBg:function(h,g,a,u){for(var l=this._textLines[g],d=this.getHeightOfLine(g)/this.lineHeight,y=0,p=0,v,w,C=this.getValueOfPropertyAt(g,0,"textBackgroundColor"),x=0,b=l.length;x<b;x++)v=this.__charBounds[g][x],w=this.getValueOfPropertyAt(g,x,"textBackgroundColor"),w!==C?(C&&this._pushTextBgRect(h,C,a+p,u,y,d),p=v.left,y=v.width,C=w):y+=v.kernedWidth;w&&this._pushTextBgRect(h,w,a+p,u,y,d)},_getFillAttributes:function(h){var g=h&&typeof h=="string"?new e.Color(h):"";return!g||!g.getSource()||g.getAlpha()===1?'fill="'+h+'"':'opacity="'+g.getAlpha()+'" fill="'+g.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(h){for(var g=0,a=0,u=0;u<h;u++)g+=this.getHeightOfLine(u);return a=this.getHeightOfLine(u),{lineTop:g,offset:(this._fontSizeMult-this._fontSizeFraction)*a/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(h){var g=e.Object.prototype.getSvgStyles.call(this,h);return g+" white-space: pre;"}})}(),function(f){var i=f.fabric||(f.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var g=0,a=0,u=0,l={},d=0;d<h.graphemeLines.length;d++)h.graphemeText[u]===`
`&&d>0?(a=0,u++,g++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[u])&&d>0&&(a++,u++),l[d]={line:g,offset:a},u+=h.graphemeLines[d].length,a+=h.graphemeLines[d].length;return l},styleHas:function(h,g){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[g];a&&(g=a.line)}return i.Text.prototype.styleHas.call(this,h,g)},isEmptyStyles:function(h){if(!this.styles)return!0;var g=0,a=h+1,u,l,d=!1,y=this._styleMap[h],p=this._styleMap[h+1];y&&(h=y.line,g=y.offset),p&&(a=p.line,d=a===h,u=p.offset),l=typeof h>"u"?this.styles:{line:this.styles[h]};for(var v in l)for(var w in l[v])if(w>=g&&(!d||w<u))for(var C in l[v][w])return!1;return!0},_getStyleDeclaration:function(h,g){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[h];if(!a)return null;h=a.line,g=a.offset+g}return this.callSuper("_getStyleDeclaration",h,g)},_setStyleDeclaration:function(h,g,a){var u=this._styleMap[h];h=u.line,g=u.offset+g,this.styles[h][g]=a},_deleteStyleDeclaration:function(h,g){var a=this._styleMap[h];h=a.line,g=a.offset+g,delete this.styles[h][g]},_getLineStyle:function(h){var g=this._styleMap[h];return!!this.styles[g.line]},_setLineStyle:function(h){var g=this._styleMap[h];this.styles[g.line]={}},_wrapText:function(h,g){var a=[],u;for(this.isWrapping=!0,u=0;u<h.length;u++)a=a.concat(this._wrapLine(h[u],u,g));return this.isWrapping=!1,a},_measureWord:function(h,g,a){var u=0,l,d=!0;a=a||0;for(var y=0,p=h.length;y<p;y++){var v=this._getGraphemeBox(h[y],g,y+a,l,d);u+=v.kernedWidth,l=h[y]}return u},_wrapLine:function(h,g,a,W){var l=0,d=this.splitByGrapheme,y=[],p=[],v=d?i.util.string.graphemeSplit(h):h.split(this._wordJoiners),w="",C=0,x=d?"":" ",b=0,E=0,k=0,D=!0,B=this._getWidthOfCharSpacing(),W=W||0;v.length===0&&v.push([]),a-=W;for(var $=0;$<v.length;$++)w=d?v[$]:i.util.string.graphemeSplit(v[$]),b=this._measureWord(w,g,C),C+=w.length,l+=E+b-B,l>a&&!D?(y.push(p),p=[],l=b,D=!0):l+=B,!D&&!d&&p.push(x),p=p.concat(w),E=d?0:this._measureWord([x],g,C),C++,D=!1,b>k&&(k=b);return $&&y.push(p),k+W>this.dynamicMinWidth&&(this.dynamicMinWidth=k-B+W),y},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h){return this.splitByGrapheme?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var g=i.Text.prototype._splitTextIntoLines.call(this,h),a=this._wrapText(g.lines,this.width),u=new Array(a.length),l=0;l<a.length;l++)u[l]=a[l].join("");return g.lines=u,g.graphemeLines=a,g},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var g in this._styleMap)this._textLines[g]&&(h[this._styleMap[g].line]=1);for(var g in this.styles)h[g]||delete this.styles[g]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),i.Textbox.fromObject=function(h,g){var a=i.util.stylesFromArray(h.styles,h.text),u=Object.assign({},h,{styles:a});return i.Object._fromObject("Textbox",u,g,"text")}}(t),function(){var f=e.controlsUtils,i=f.scaleSkewCursorStyleHandler,h=f.scaleCursorStyleHandler,g=f.scalingEqually,a=f.scalingYOrSkewingX,u=f.scalingXOrSkewingY,l=f.scaleOrSkewActionName,d=e.Object.prototype.controls;if(d.ml=new e.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:u,getActionName:l}),d.mr=new e.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:u,getActionName:l}),d.mb=new e.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:a,getActionName:l}),d.mt=new e.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:a,getActionName:l}),d.tl=new e.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:g}),d.tr=new e.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:g}),d.bl=new e.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:g}),d.br=new e.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:g}),d.mtr=new e.Control({x:0,y:-.5,actionHandler:f.rotationWithSnapping,cursorStyleHandler:f.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),e.Textbox){var y=e.Textbox.prototype.controls={};y.mtr=d.mtr,y.tr=d.tr,y.br=d.br,y.tl=d.tl,y.bl=d.bl,y.mt=d.mt,y.mb=d.mb,y.mr=new e.Control({x:.5,y:0,actionHandler:f.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),y.ml=new e.Control({x:-.5,y:0,actionHandler:f.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(ve);(function(){fabric.Object.ENLIVEN_PROPS.push("eraser");var t=fabric.Object.prototype._drawClipPath,e=fabric.Object.prototype.needsItsOwnCache,n=fabric.Object.prototype.toObject,r=fabric.Object.prototype.getSvgCommons,s=fabric.Object.prototype._createBaseClipPathSVGMarkup,c=fabric.Object.prototype._createBaseSVGMarkup;fabric.Object.prototype.cacheProperties.push("eraser"),fabric.Object.prototype.stateProperties.push("eraser"),fabric.util.object.extend(fabric.Object.prototype,{erasable:!0,eraser:void 0,needsItsOwnCache:function(){return e.call(this)||!!this.eraser},_drawClipPath:function(i,h){if(t.call(this,i,h),this.eraser){var g=this._getNonTransformedDimensions();this.eraser.isType("eraser")&&this.eraser.set({width:g.x,height:g.y}),t.call(this,i,this.eraser)}},toObject:function(i){var h=n.call(this,["erasable"].concat(i));return this.eraser&&!this.eraser.excludeFromExport&&(h.eraser=this.eraser.toObject(i)),h},getSvgCommons:function(){return r.call(this)+(this.eraser?'mask="url(#'+this.eraser.clipPathId+')" ':"")},_createEraserSVGMarkup:function(i){return this.eraser?(this.eraser.clipPathId="MASK_"+fabric.Object.__uid++,['<mask id="',this.eraser.clipPathId,'" >',this.eraser.toSVG(i),"</mask>",`
`].join("")):""},_createBaseClipPathSVGMarkup:function(i,h){return[this._createEraserSVGMarkup(h&&h.reviver),s.call(this,i,h)].join("")},_createBaseSVGMarkup:function(i,h){return[this._createEraserSVGMarkup(h&&h.reviver),c.call(this,i,h)].join("")}});var S=fabric.Group.prototype._restoreObjectsState;fabric.util.object.extend(fabric.Group.prototype,{_addEraserPathToObjects:function(i){this._objects.forEach(function(h){fabric.EraserBrush.prototype._addPathToObjectEraser.call(fabric.EraserBrush.prototype,h,i)})},applyEraserToObjects:function(){var i=this,h=this.eraser;if(h){delete this.eraser;var g=i.calcTransformMatrix();h.clone(function(a){var u=i.clipPath;a.getObjects("path").forEach(function(l){var d=fabric.util.multiplyTransformMatrices(g,l.calcTransformMatrix());fabric.util.applyTransformToObject(l,d),u?u.clone(function(y){var p=fabric.EraserBrush.prototype.applyClipPathToPath.call(fabric.EraserBrush.prototype,l,y,g);i._addEraserPathToObjects(p)},["absolutePositioned","inverted"]):i._addEraserPathToObjects(l)})})}},_restoreObjectsState:function(){return this.erasable===!0&&this.applyEraserToObjects(),S.call(this)}}),fabric.Eraser=fabric.util.createClass(fabric.Group,{type:"eraser",originX:"center",originY:"center",drawObject:function(i){i.save(),i.fillStyle="black",i.fillRect(-this.width/2,-this.height/2,this.width,this.height),i.restore(),this.callSuper("drawObject",i)},_getBounds:function(){},_toSVG:function(i){var h=["<g ","COMMON_PARTS",` >
`],g=-this.width/2,a=-this.height/2,u=["<rect ",'fill="white" ','x="',g,'" y="',a,'" width="',this.width,'" height="',this.height,`" />
`].join("");h.push("		",u);for(var l=0,d=this._objects.length;l<d;l++)h.push("		",this._objects[l].toSVG(i));return h.push(`</g>
`),h}}),fabric.Eraser.fromObject=function(i,h){var g=i.objects;fabric.util.enlivenObjects(g,function(a){var u=fabric.util.object.clone(i,!0);delete u.objects,fabric.util.enlivenObjectEnlivables(i,u,function(){h&&h(new fabric.Eraser(a,u,!0))})})};var f=fabric.Canvas.prototype._renderOverlay;fabric.util.object.extend(fabric.Canvas.prototype,{isErasing:function(){return this.isDrawingMode&&this.freeDrawingBrush&&this.freeDrawingBrush.type==="eraser"&&this.freeDrawingBrush._isErasing},_renderOverlay:function(i){f.call(this,i),this.isErasing()&&!this.freeDrawingBrush.inverted&&this.freeDrawingBrush._render()}}),fabric.EraserBrush=fabric.util.createClass(fabric.PencilBrush,{type:"eraser",inverted:!1,_isErasing:!1,_isErasable:function(i){return i.erasable!==!1},_prepareCollectionTraversal:function(i,h,g){i.forEachObject(function(a){a.forEachObject&&a.erasable==="deep"?this._prepareCollectionTraversal(a,h,g):!this.inverted&&a.erasable&&a.visible?(a.visible=!1,i.dirty=!0,g.visibility.push(a),g.collection.push(i)):this.inverted&&a.visible&&(a.erasable&&a.eraser?(a.eraser.inverted=!0,a.dirty=!0,i.dirty=!0,g.eraser.push(a),g.collection.push(i)):(a.visible=!1,i.dirty=!0,g.visibility.push(a),g.collection.push(i)))},this)},preparePattern:function(){this._patternCanvas||(this._patternCanvas=fabric.util.createCanvasElement());var i=this._patternCanvas;i.width=this.canvas.width,i.height=this.canvas.height;var h=i.getContext("2d");if(this.canvas._isRetinaScaling()){var g=this.canvas.getRetinaScaling();this.canvas.__initRetinaScaling(g,i,h)}var a=this.canvas.backgroundImage,u=a&&this._isErasable(a),l=this.canvas.overlayImage,d=l&&this._isErasable(l);if(!this.inverted&&(a&&!u||!!this.canvas.backgroundColor))u&&(this.canvas.backgroundImage=void 0),this.canvas._renderBackground(h),u&&(this.canvas.backgroundImage=a);else if(this.inverted&&a&&u){var y=this.canvas.backgroundColor;this.canvas.backgroundColor=void 0,this.canvas._renderBackground(h),this.canvas.backgroundColor=y}h.save(),h.transform.apply(h,this.canvas.viewportTransform);var p={visibility:[],eraser:[],collection:[]};if(this._prepareCollectionTraversal(this.canvas,h,p),this.canvas._renderObjects(h,this.canvas._objects),p.visibility.forEach(function(v){v.visible=!0}),p.eraser.forEach(function(v){v.eraser.inverted=!1,v.dirty=!0}),p.collection.forEach(function(v){v.dirty=!0}),h.restore(),!this.inverted&&(l&&!d||!!this.canvas.overlayColor))d&&(this.canvas.overlayImage=void 0),f.call(this.canvas,h),d&&(this.canvas.overlayImage=l);else if(this.inverted&&l&&d){var y=this.canvas.overlayColor;this.canvas.overlayColor=void 0,f.call(this.canvas,h),this.canvas.overlayColor=y}},_setBrushStyles:function(i){this.callSuper("_setBrushStyles",i),i.strokeStyle="black"},_saveAndTransform:function(i){this.callSuper("_saveAndTransform",i),this._setBrushStyles(i),i.globalCompositeOperation=i===this.canvas.getContext()?"destination-out":"source-over"},needsFullRender:function(){return!0},onMouseDown:function(i,h){!this.canvas._isMainEvent(h.e)||(this._prepareForDrawing(i),this._captureDrawingPath(i),this.preparePattern(),this._isErasing=!0,this.canvas.fire("erasing:start"),this._render())},_render:function(){var i;this.inverted||(i=this.canvas.getContext(),this.callSuper("_render",i)),i=this.canvas.contextTop,this.canvas.clearContext(i),this.callSuper("_render",i),i.save();var h=this.canvas.getRetinaScaling(),g=1/h;i.scale(g,g),i.globalCompositeOperation="source-in",i.drawImage(this._patternCanvas,0,0),i.restore()},createPath:function(i){var h=this.callSuper("createPath",i);return h.globalCompositeOperation=this.inverted?"source-over":"destination-out",h.stroke=this.inverted?"white":"black",h},applyClipPathToPath:function(i,h,g){var a=fabric.util.invertTransform(i.calcTransformMatrix()),u=h.calcTransformMatrix(),l=h.absolutePositioned?a:fabric.util.multiplyTransformMatrices(a,g);return h.absolutePositioned=!1,fabric.util.applyTransformToObject(h,fabric.util.multiplyTransformMatrices(l,u)),i.clipPath=i.clipPath?fabric.util.mergeClipPaths(h,i.clipPath):h,i},clonePathWithClipPath:function(i,h,g){var a=h.calcTransformMatrix(),u=h.clipPath,l=this;i.clone(function(d){u.clone(function(y){g(l.applyClipPathToPath(d,y,a))},["absolutePositioned","inverted"])})},_addPathToObjectEraser:function(i,h){var g=this;if(i.forEachObject&&i.erasable==="deep"){var a=i._objects.filter(function(l){return l.erasable});a.length>0&&i.clipPath?this.clonePathWithClipPath(h,i,function(l){a.forEach(function(d){g._addPathToObjectEraser(d,l)})}):a.length>0&&a.forEach(function(l){g._addPathToObjectEraser(l,h)});return}var u=i.eraser;u||(u=new fabric.Eraser,i.eraser=u),h.clone(function(l){var d=fabric.util.multiplyTransformMatrices(fabric.util.invertTransform(i.calcTransformMatrix()),l.calcTransformMatrix());fabric.util.applyTransformToObject(l,d),u.addWithUpdate(l),i.set("dirty",!0),i.fire("erasing:end",{path:l}),i.group&&Array.isArray(g.__subTargets)&&g.__subTargets.push(i)})},applyEraserToCanvas:function(i){var h=this.canvas,g={};return["backgroundImage","overlayImage"].forEach(function(a){var u=h[a];u&&u.erasable&&(this._addPathToObjectEraser(u,i),g[a]=u)},this),g},_finalizeAndAddPath:function(){var i=this.canvas.contextTop,h=this.canvas;i.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate)),h.clearContext(h.contextTop),this._isErasing=!1;var g=this._points&&this._points.length>1?this.convertPointsToSVGPath(this._points):null;if(!g||this._isEmptySVGPath(g)){h.fire("erasing:end"),h.requestRenderAll();return}var a=this.createPath(g);a.setCoords(),h.fire("before:path:created",{path:a});var u=this.applyEraserToCanvas(a),l=this;this.__subTargets=[];var d=[];h.forEachObject(function(y){y.erasable&&y.intersectsWithObject(a,!0,!0)&&(l._addPathToObjectEraser(y,a),d.push(y))}),h.fire("erasing:end",{path:a,targets:d,subTargets:this.__subTargets,drawables:u}),delete this.__subTargets,h.requestRenderAll(),this._resetShadow(),h.fire("path:created",{path:a})}})})();fabric.Object.prototype.toObject_original=fabric.Object.prototype.toObject;fabric.Object.prototype.toObject=function(t){return t=(t||[]).concat(["id","_customType","perPixelTargetFind"]),this.toObject_original(t)};const Un=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,Ss=t=>t&&typeof t=="string"?`/${t}`:"",up=(t,e)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),vw=()=>/phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone|Mobi|Android|iPhone|iPad/i.test(navigator.userAgent);let Xf=!1,Ll=vw();class bE{constructor(){Oe(this,"canvas",null)}initCanvas(e){this.canvas=e,this._initBrushMouse()}_initBrushMouse(){ve.fabric.util.object.extend(this.canvas,{_onMouseDownInDrawingMode:function(){},_onMouseMoveInDrawingMode:function(e){Ll||(Xf?ve.fabric.Canvas.prototype._onMouseMoveInDrawingMode.call(this,e):(Xf=!0,ve.fabric.Canvas.prototype._onMouseDownInDrawingMode.call(this,e)))},_onMouseUpInDrawingMode:function(e){Ll||(Xf=!1,ve.fabric.Canvas.prototype._onMouseUpInDrawingMode.call(this,e))}})}updateIsDisableDraw(e){Ll=e}}const yw=new bE,a0=t=>{let e;const n=new Set,r=(i,h)=>{const g=typeof i=="function"?i(e):i;if(!Object.is(g,e)){const a=e;e=(h!=null?h:typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(u=>u(e,a))}},s=()=>e,f={setState:r,getState:s,subscribe:i=>(n.add(i),()=>n.delete(i)),destroy:()=>{n.clear()}};return e=t(r,s,f),f},TE=t=>t?a0(t):a0;var ww={exports:{}},Sw={},Cw={exports:{}},_w={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $s=z.exports;function EE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var OE=typeof Object.is=="function"?Object.is:EE,PE=$s.useState,kE=$s.useEffect,LE=$s.useLayoutEffect,ME=$s.useDebugValue;function AE(t,e){var n=e(),r=PE({inst:{value:n,getSnapshot:e}}),s=r[0].inst,c=r[1];return LE(function(){s.value=n,s.getSnapshot=e,Yf(s)&&c({inst:s})},[t,n,e]),kE(function(){return Yf(s)&&c({inst:s}),t(function(){Yf(s)&&c({inst:s})})},[t]),ME(n),n}function Yf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!OE(t,n)}catch{return!0}}function DE(t,e){return e()}var RE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DE:AE;_w.useSyncExternalStore=$s.useSyncExternalStore!==void 0?$s.useSyncExternalStore:RE;(function(t){t.exports=_w})(Cw);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku=z.exports,IE=Cw.exports;function FE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var NE=typeof Object.is=="function"?Object.is:FE,BE=IE.useSyncExternalStore,jE=Ku.useRef,zE=Ku.useEffect,WE=Ku.useMemo,HE=Ku.useDebugValue;Sw.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var c=jE(null);if(c.current===null){var S={hasValue:!1,value:null};c.current=S}else S=c.current;c=WE(function(){function i(l){if(!h){if(h=!0,g=l,l=r(l),s!==void 0&&S.hasValue){var d=S.value;if(s(d,l))return a=d}return a=l}if(d=a,NE(g,l))return d;var y=r(l);return s!==void 0&&s(d,y)?d:(g=l,a=y)}var h=!1,g,a,u=n===void 0?null:n;return[function(){return i(e())},u===null?void 0:function(){return i(u())}]},[e,n,r,s]);var f=BE(t,c[0],c[1]);return zE(function(){S.hasValue=!0,S.value=f},[f]),HE(f),f};(function(t){t.exports=Sw})(ww);const VE=o1(ww.exports),{useDebugValue:UE}=ea,{useSyncExternalStoreWithSelector:GE}=VE;function XE(t,e=t.getState,n){const r=GE(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return UE(r),r}const o0=t=>{const e=typeof t=="function"?TE(t):t,n=(r,s)=>XE(e,r,s);return Object.assign(n,e),n},cp=t=>t?o0(t):o0;function xw(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var c;const S=i=>i===null?null:JSON.parse(i,e==null?void 0:e.reviver),f=(c=n.getItem(s))!=null?c:null;return f instanceof Promise?f.then(S):S(f)},setItem:(s,c)=>n.setItem(s,JSON.stringify(c,e==null?void 0:e.replacer)),removeItem:s=>n.removeItem(s)}}const ho=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return ho(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ho(r)(n)}}}},YE=(t,e)=>(n,r,s)=>{let c={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:p=>p,version:0,merge:(p,v)=>({...v,...p}),...e},S=!1;const f=new Set,i=new Set;let h;try{h=c.getStorage()}catch{}if(!h)return t((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),n(...p)},r,s);const g=ho(c.serialize),a=()=>{const p=c.partialize({...r()});let v;const w=g({state:p,version:c.version}).then(C=>h.setItem(c.name,C)).catch(C=>{v=C});if(v)throw v;return w},u=s.setState;s.setState=(p,v)=>{u(p,v),a()};const l=t((...p)=>{n(...p),a()},r,s);let d;const y=()=>{var p;if(!h)return;S=!1,f.forEach(w=>w(r()));const v=((p=c.onRehydrateStorage)==null?void 0:p.call(c,r()))||void 0;return ho(h.getItem.bind(h))(c.name).then(w=>{if(w)return c.deserialize(w)}).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==c.version){if(c.migrate)return c.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var C;return d=c.merge(w,(C=r())!=null?C:l),n(d,!0),a()}).then(()=>{v==null||v(d,void 0),S=!0,i.forEach(w=>w(d))}).catch(w=>{v==null||v(void 0,w)})};return s.persist={setOptions:p=>{c={...c,...p},p.getStorage&&(h=p.getStorage())},clearStorage:()=>{h==null||h.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>y(),hasHydrated:()=>S,onHydrate:p=>(f.add(p),()=>{f.delete(p)}),onFinishHydration:p=>(i.add(p),()=>{i.delete(p)})},y(),d||l},$E=(t,e)=>(n,r,s)=>{let c={storage:xw(()=>localStorage),partialize:y=>y,version:0,merge:(y,p)=>({...p,...y}),...e},S=!1;const f=new Set,i=new Set;let h=c.storage;if(!h)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),n(...y)},r,s);const g=()=>{const y=c.partialize({...r()});return h.setItem(c.name,{state:y,version:c.version})},a=s.setState;s.setState=(y,p)=>{a(y,p),g()};const u=t((...y)=>{n(...y),g()},r,s);let l;const d=()=>{var y,p;if(!h)return;S=!1,f.forEach(w=>{var C;return w((C=r())!=null?C:u)});const v=((p=c.onRehydrateStorage)==null?void 0:p.call(c,(y=r())!=null?y:u))||void 0;return ho(h.getItem.bind(h))(c.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==c.version){if(c.migrate)return c.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var C;return l=c.merge(w,(C=r())!=null?C:u),n(l,!0),g()}).then(()=>{v==null||v(l,void 0),l=r(),S=!0,i.forEach(w=>w(l))}).catch(w=>{v==null||v(void 0,w)})};return s.persist={setOptions:y=>{c={...c,...y},y.storage&&(h=y.storage)},clearStorage:()=>{h==null||h.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>d(),hasHydrated:()=>S,onHydrate:y=>(f.add(y),()=>{f.delete(y)}),onFinishHydration:y=>(i.add(y),()=>{i.delete(y)})},c.skipHydration||d(),l||u},KE=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?YE(t,e):$E(t,e),fp=KE;function qu(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function qE(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=qu(n);return(s,c)=>r.then(S=>c(S.transaction(e,s).objectStore(e)))}let $f;function hp(){return $f||($f=qE("keyval-store","keyval")),$f}function ZE(t,e=hp()){return e("readonly",n=>qu(n.get(t)))}function QE(t,e,n=hp()){return n("readwrite",r=>(r.put(e,t),qu(r.transaction)))}function JE(t,e=hp()){return e("readwrite",n=>(n.delete(t),qu(n.transaction)))}let Ml;const eO=new Uint8Array(16);function tO(){if(!Ml&&(Ml=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ml))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ml(eO)}const Ft=[];for(let t=0;t<256;++t)Ft.push((t+256).toString(16).slice(1));function nO(t,e=0){return Ft[t[e+0]]+Ft[t[e+1]]+Ft[t[e+2]]+Ft[t[e+3]]+"-"+Ft[t[e+4]]+Ft[t[e+5]]+"-"+Ft[t[e+6]]+Ft[t[e+7]]+"-"+Ft[t[e+8]]+Ft[t[e+9]]+"-"+Ft[t[e+10]]+Ft[t[e+11]]+Ft[t[e+12]]+Ft[t[e+13]]+Ft[t[e+14]]+Ft[t[e+15]]}const rO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),l0={randomUUID:rO};function Ks(t,e,n){if(l0.randomUUID&&!e&&!t)return l0.randomUUID();t=t||{};const r=t.random||(t.rng||tO)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let s=0;s<16;++s)e[n+s]=r[s];return e}return nO(r)}var iO=Object.defineProperty,u0=Object.getOwnPropertySymbols,sO=Object.prototype.hasOwnProperty,aO=Object.prototype.propertyIsEnumerable,c0=(t,e,n)=>e in t?iO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oO=(t,e)=>{for(var n in e||(e={}))sO.call(e,n)&&c0(t,n,e[n]);if(u0)for(var n of u0(e))aO.call(e,n)&&c0(t,n,e[n]);return t},bw=Symbol.for("immer-nothing"),f0=Symbol.for("immer-draftable"),bn=Symbol.for("immer-state");function tr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var qs=Object.getPrototypeOf;function Zs(t){return!!t&&!!t[bn]}function qi(t){var e;return t?Tw(t)||Array.isArray(t)||!!t[f0]||!!((e=t.constructor)!=null&&e[f0])||Qu(t)||Ju(t):!1}var lO=Object.prototype.constructor.toString();function Tw(t){if(!t||typeof t!="object")return!1;const e=qs(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===lO}function po(t,e){Zu(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function Zu(t){const e=t[bn];return e?e.type_:Array.isArray(t)?1:Qu(t)?2:Ju(t)?3:0}function ed(t,e){return Zu(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Ew(t,e,n){const r=Zu(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function uO(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Qu(t){return t instanceof Map}function Ju(t){return t instanceof Set}function Bi(t){return t.copy_||t.base_}function td(t,e){if(Qu(t))return new Map(t);if(Ju(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&Tw(t))return qs(t)?oO({},t):Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[bn];let r=Reflect.ownKeys(n);for(let s=0;s<r.length;s++){const c=r[s],S=n[c];S.writable===!1&&(S.writable=!0,S.configurable=!0),(S.get||S.set)&&(n[c]={configurable:!0,writable:!0,enumerable:S.enumerable,value:t[c]})}return Object.create(qs(t),n)}function dp(t,e=!1){return ec(t)||Zs(t)||!qi(t)||(Zu(t)>1&&(t.set=t.add=t.clear=t.delete=cO),Object.freeze(t),e&&po(t,(n,r)=>dp(r,!0))),t}function cO(){tr(2)}function ec(t){return Object.isFrozen(t)}var fO={};function Zi(t){const e=fO[t];return e||tr(0,t),e}var go;function Ow(){return go}function hO(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function h0(t,e){e&&(Zi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function nd(t){rd(t),t.drafts_.forEach(dO),t.drafts_=null}function rd(t){t===go&&(go=t.parent_)}function d0(t){return go=hO(go,t)}function dO(t){const e=t[bn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function p0(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[bn].modified_&&(nd(e),tr(4)),qi(t)&&(t=bu(e,t),e.parent_||Tu(e,t)),e.patches_&&Zi("Patches").generateReplacementPatches_(n[bn].base_,t,e.patches_,e.inversePatches_)):t=bu(e,n,[]),nd(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==bw?t:void 0}function bu(t,e,n){if(ec(e))return e;const r=e[bn];if(!r)return po(e,(s,c)=>g0(t,r,e,s,c,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Tu(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let c=s,S=!1;r.type_===3&&(c=new Set(s),s.clear(),S=!0),po(c,(f,i)=>g0(t,r,s,f,i,n,S)),Tu(t,s,!1),n&&t.patches_&&Zi("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function g0(t,e,n,r,s,c,S){if(Zs(s)){const f=c&&e&&e.type_!==3&&!ed(e.assigned_,r)?c.concat(r):void 0,i=bu(t,s,f);if(Ew(n,r,i),Zs(i))t.canAutoFreeze_=!1;else return}else S&&n.add(s);if(qi(s)&&!ec(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;bu(t,s),(!e||!e.scope_.parent_)&&Tu(t,s)}}function Tu(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&dp(e,n)}function pO(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Ow(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,c=pp;n&&(s=[r],c=mo);const{revoke:S,proxy:f}=Proxy.revocable(s,c);return r.draft_=f,r.revoke_=S,f}var pp={get(t,e){if(e===bn)return t;const n=Bi(t);if(!ed(n,e))return gO(t,n,e);const r=n[e];return t.finalized_||!qi(r)?r:r===Kf(t.base_,e)?(qf(t),t.copy_[e]=sd(r,t)):r},has(t,e){return e in Bi(t)},ownKeys(t){return Reflect.ownKeys(Bi(t))},set(t,e,n){const r=Pw(Bi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=Kf(Bi(t),e),c=s==null?void 0:s[bn];if(c&&c.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(uO(n,s)&&(n!==void 0||ed(t.base_,e)))return!0;qf(t),id(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Kf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,qf(t),id(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Bi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){tr(11)},getPrototypeOf(t){return qs(t.base_)},setPrototypeOf(){tr(12)}},mo={};po(pp,(t,e)=>{mo[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});mo.deleteProperty=function(t,e){return mo.set.call(this,t,e,void 0)};mo.set=function(t,e,n){return pp.set.call(this,t[0],e,n,t[0])};function Kf(t,e){const n=t[bn];return(n?Bi(n):t)[e]}function gO(t,e,n){var r;const s=Pw(e,n);return s?"value"in s?s.value:(r=s.get)==null?void 0:r.call(t.draft_):void 0}function Pw(t,e){if(!(e in t))return;let n=qs(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=qs(n)}}function id(t){t.modified_||(t.modified_=!0,t.parent_&&id(t.parent_))}function qf(t){t.copy_||(t.copy_=td(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var mO=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const c=n;n=e;const S=this;return function(i=c,...h){return S.produce(i,g=>n.call(this,g,...h))}}typeof n!="function"&&tr(6),r!==void 0&&typeof r!="function"&&tr(7);let s;if(qi(e)){const c=d0(this),S=sd(e,void 0);let f=!0;try{s=n(S),f=!1}finally{f?nd(c):rd(c)}return h0(c,r),p0(s,c)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===bw&&(s=void 0),this.autoFreeze_&&dp(s,!0),r){const c=[],S=[];Zi("Patches").generateReplacementPatches_(e,s,c,S),r(c,S)}return s}else tr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(S,...f)=>this.produceWithPatches(S,i=>e(i,...f));let r,s;return[this.produce(e,n,(S,f)=>{r=S,s=f}),r,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){qi(t)||tr(8),Zs(t)&&(t=vO(t));const e=d0(this),n=sd(t,void 0);return n[bn].isManual_=!0,rd(e),n}finishDraft(t,e){const n=t&&t[bn];(!n||!n.isManual_)&&tr(9);const{scope_:r}=n;return h0(r,e),p0(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=Zi("Patches").applyPatches_;return Zs(t)?r(t,e):this.produce(t,s=>r(s,e))}};function sd(t,e){const n=Qu(t)?Zi("MapSet").proxyMap_(t,e):Ju(t)?Zi("MapSet").proxySet_(t,e):pO(t,e);return(e?e.scope_:Ow()).drafts_.push(n),n}function vO(t){return Zs(t)||tr(10,t),kw(t)}function kw(t){if(!qi(t)||ec(t))return t;const e=t[bn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=td(t,e.scope_.immer_.useStrictShallowCopy_)}else n=td(t,!0);return po(n,(r,s)=>{Ew(n,r,kw(s))}),e&&(e.finalized_=!1),n}var Tn=new mO,Ii=Tn.produce;Tn.produceWithPatches.bind(Tn);Tn.setAutoFreeze.bind(Tn);Tn.setUseStrictShallowCopy.bind(Tn);Tn.applyPatches.bind(Tn);Tn.createDraft.bind(Tn);Tn.finishDraft.bind(Tn);const yO={getItem:async t=>await ZE(t)||null,setItem:async(t,e)=>{await QE(t,e)},removeItem:async t=>{await JE(t)}},m0=Ks(),Al="1.1.0",vr=cp()(fp((t,e)=>({currentId:m0,files:[{id:m0,title:"paint-board",boardVersion:Al,boardData:{},zoom:1}],updateCurrentFile(n){const r=e().currentId;n!==r&&t({currentId:n})},updateTitle(n,r){var S;const s=e().files,c=s==null?void 0:s.findIndex(f=>f.id===r);((S=s==null?void 0:s[c])==null?void 0:S.title)!==n&&t(Ii(f=>{f.files[c].title=n}))},updateBoardData(n){const r=e().files,s=r==null?void 0:r.findIndex(c=>c.id===e().currentId);t(Ii(c=>{c.files[s].boardVersion=Al,c.files[s].boardData=n}))},updateZoom(n){const r=e().files,s=r==null?void 0:r.findIndex(c=>c.id===e().currentId);s>-1&&t(Ii(c=>{c.files[s].zoom=n}))},updateTransform(n){const r=e().files,s=r==null?void 0:r.findIndex(c=>c.id===e().currentId);s>-1&&t(Ii(c=>{c.files[s].viewportTransform=n}))},addFile(){const n=Ks();t(Ii(r=>{r.files.unshift({id:n,title:"empty title",boardVersion:Al,boardData:{},zoom:1})}))},deleteFile(){const n=e().files;if(n.length>1){const r=n==null?void 0:n.findIndex(s=>s.id===e().currentId);t(Ii(s=>{s.files.splice(r,1),s.currentId=s.files[0].id}))}},saveJSON(){var r;const n=(r=e().files)==null?void 0:r.find(s=>s.id===e().currentId);if(n){const s=JSON.stringify(n),c=new Blob([s],{type:"application/json"}),S=document.createElement("a");S.href=URL.createObjectURL(c),S.download="paint-board.json",S.click(),URL.revokeObjectURL(S.href)}},uploadFile(n){return new Promise(r=>{if(n){const s=new FileReader;s.onload=c=>{var i;const S=(i=c.target)==null?void 0:i.result;let f=!1;if(S){const h=JSON.parse(S);if((h==null?void 0:h.boardData)&&(h==null?void 0:h.title)){const g=Ks();t(Ii(a=>{a.files.unshift({id:g,title:h==null?void 0:h.title,boardVersion:(h==null?void 0:h.boardVersion)||Al,boardData:h==null?void 0:h.boardData}),a.currentId=a.files[0].id})),f=!0}}r(f)},s.onerror=c=>{console.log("reader fail",c),r(!1)},s.readAsText(n)}else r(!1)})}}),{name:"PAINT-BOARD-FILES",storage:xw(()=>yO)}));class wO{constructor(e){this.selfOptions=e||{},this.pipes={}}options(e){return e&&(this.selfOptions=e),this.selfOptions}pipe(e,n){let r=n;if(typeof e=="string"){if(typeof r>"u")return this.pipes[e];this.pipes[e]=r}if(e&&e.name){if(r=e,r.processor===this)return r;this.pipes[r.name]=r}return r.processor=this,r}process(e,n){let r=e;r.options=this.options();let s=n||e.pipe||"default",c;for(;s;)typeof r.nextAfterChildren<"u"&&(r.next=r.nextAfterChildren,r.nextAfterChildren=null),typeof s=="string"&&(s=this.pipe(s)),s.process(r),c=s,s=null,r&&r.next&&(r=r.next,s=r.pipe||c);return r.hasResult?r.result:void 0}}const SO=wO;class CO{constructor(e){this.name=e,this.filters=[]}process(e){if(!this.processor)throw new Error("add this pipe to a processor before using it");const n=this.debug,r=this.filters.length,s=e;for(let c=0;c<r;c++){const S=this.filters[c];if(n&&this.log(`filter: ${S.filterName}`),S(s),typeof s=="object"&&s.exiting){s.exiting=!1;break}}!s.next&&this.resultCheck&&this.resultCheck(s)}log(e){console.log(`[jsondiffpatch] ${this.name} pipe, ${e}`)}append(...e){return this.filters.push(...e),this}prepend(...e){return this.filters.unshift(...e),this}indexOf(e){if(!e)throw new Error("a filter name is required");for(let n=0;n<this.filters.length;n++)if(this.filters[n].filterName===e)return n;throw new Error(`filter not found: ${e}`)}list(){return this.filters.map(e=>e.filterName)}after(e,...n){const r=this.indexOf(e);return this.filters.splice(r+1,0,...n),this}before(e,...n){const r=this.indexOf(e);return this.filters.splice(r,0,...n),this}replace(e,...n){const r=this.indexOf(e);return this.filters.splice(r,1,...n),this}remove(e){const n=this.indexOf(e);return this.filters.splice(n,1),this}clear(){return this.filters.length=0,this}shouldHaveResult(e){if(e===!1){this.resultCheck=null;return}if(!this.resultCheck)return this.resultCheck=n=>{if(!n.hasResult){console.log(n);const r=new Error(`${this.name} failed`);throw r.noResult=!0,r}},this}}const Zf=CO;class gp{setResult(e){return this.result=e,this.hasResult=!0,this}exit(){return this.exiting=!0,this}push(e,n){return e.parent=this,typeof n<"u"&&(e.childName=n),e.root=this.root||this,e.options=e.options||this.options,this.children?(this.children[this.children.length-1].next=e,this.children.push(e)):(this.children=[e],this.nextAfterChildren=this.next||null,this.next=e),e.next=this,this}}function _O(t){const e=/^\/(.*)\/([gimyu]*)$/.exec(t.toString());return new RegExp(e[1],e[2])}function Eu(t){if(typeof t!="object")return t;if(t===null)return null;if(Array.isArray(t))return t.map(Eu);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return _O(t);const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Eu(t[n]));return e}class xO extends gp{constructor(e,n){super(),this.left=e,this.right=n,this.pipe="diff"}setResult(e){if(this.options.cloneDiffValues&&typeof e=="object"){const n=typeof this.options.cloneDiffValues=="function"?this.options.cloneDiffValues:Eu;typeof e[0]=="object"&&(e[0]=n(e[0])),typeof e[1]=="object"&&(e[1]=n(e[1]))}return super.setResult(e)}}const Hi=xO;class bO extends gp{constructor(e,n){super(),this.left=e,this.delta=n,this.pipe="patch"}}const mp=bO;class TO extends gp{constructor(e){super(),this.delta=e,this.pipe="reverse"}}const vp=TO,Lw=function(e){if(e.left===e.right){e.setResult(void 0).exit();return}if(typeof e.left>"u"){if(typeof e.right=="function")throw new Error("functions are not supported");e.setResult([e.right]).exit();return}if(typeof e.right>"u"){e.setResult([e.left,0,0]).exit();return}if(typeof e.left=="function"||typeof e.right=="function")throw new Error("functions are not supported");if(e.leftType=e.left===null?"null":typeof e.left,e.rightType=e.right===null?"null":typeof e.right,e.leftType!==e.rightType){e.setResult([e.left,e.right]).exit();return}if(e.leftType==="boolean"||e.leftType==="number"){e.setResult([e.left,e.right]).exit();return}if(e.leftType==="object"&&(e.leftIsArray=Array.isArray(e.left)),e.rightType==="object"&&(e.rightIsArray=Array.isArray(e.right)),e.leftIsArray!==e.rightIsArray){e.setResult([e.left,e.right]).exit();return}e.left instanceof RegExp&&(e.right instanceof RegExp?e.setResult([e.left.toString(),e.right.toString()]).exit():e.setResult([e.left,e.right]).exit())};Lw.filterName="trivial";const Mw=function(e){if(typeof e.delta>"u"){e.setResult(e.left).exit();return}if(e.nested=!Array.isArray(e.delta),e.nested)return;const n=e.delta;if(n.length===1){e.setResult(n[0]).exit();return}if(n.length===2){if(e.left instanceof RegExp){const r=/^\/(.*)\/([gimyu]+)$/.exec(n[1]);if(r){e.setResult(new RegExp(r[1],r[2])).exit();return}}e.setResult(n[1]).exit();return}n.length===3&&n[2]===0&&e.setResult(void 0).exit()};Mw.filterName="trivial";const Aw=function(e){if(typeof e.delta>"u"){e.setResult(e.delta).exit();return}if(e.nested=!Array.isArray(e.delta),e.nested)return;const n=e.delta;if(n.length===1){e.setResult([n[0],0,0]).exit();return}if(n.length===2){e.setResult([n[1],n[0]]).exit();return}n.length===3&&n[2]===0&&e.setResult([n[0]]).exit()};Aw.filterName="trivial";const Dw=t=>{if(!t||!t.children)return;const e=t.children.length;let n,r=t.result;for(let s=0;s<e;s++)n=t.children[s],!(typeof n.result>"u")&&(r=r||{},r[n.childName]=n.result);r&&t.leftIsArray&&(r._t="a"),t.setResult(r).exit()};Dw.filterName="collectChildren";const Rw=t=>{if(t.leftIsArray||t.leftType!=="object")return;const e=t.left,n=t.right;let r,s;const c=t.options.propertyFilter;for(r in e)!Object.prototype.hasOwnProperty.call(e,r)||c&&!c(r,t)||(s=new Hi(e[r],n[r]),t.push(s,r));for(r in n)!Object.prototype.hasOwnProperty.call(n,r)||c&&!c(r,t)||typeof e[r]>"u"&&(s=new Hi(void 0,n[r]),t.push(s,r));if(!t.children||t.children.length===0){t.setResult(void 0).exit();return}t.exit()};Rw.filterName="objects";const Iw=function(e){if(!e.nested)return;const n=e.delta;if(n._t)return;const r=n;let s,c;for(s in r)c=new mp(e.left[s],r[s]),e.push(c,s);e.exit()};Iw.filterName="objects";const Fw=function(e){if(!e||!e.children||e.delta._t)return;const r=e.left,s=e.children.length;let c;for(let S=0;S<s;S++){c=e.children[S];const f=c.childName;Object.prototype.hasOwnProperty.call(e.left,f)&&c.result===void 0?delete r[f]:r[f]!==c.result&&(r[f]=c.result)}e.setResult(r).exit()};Fw.filterName="collectChildren";const Nw=function(e){if(!e.nested||e.delta._t)return;const r=e.delta;let s,c;for(s in r)c=new vp(r[s]),e.push(c,s);e.exit()};Nw.filterName="objects";const Bw=t=>{if(!t||!t.children||t.delta._t)return;const n=t.children.length;let r;const s={};for(let c=0;c<n;c++){r=t.children[c];const S=r.childName;s[S]!==r.result&&(s[S]=r.result)}t.setResult(s).exit()};Bw.filterName="collectChildren";const EO=function(t,e,n,r){return t[n]===e[r]},OO=function(t,e,n,r){const s=t.length,c=e.length;let S,f;const i=new Array(s+1);for(S=0;S<s+1;S++)for(i[S]=new Array(c+1),f=0;f<c+1;f++)i[S][f]=0;for(i.match=n,S=1;S<s+1;S++)for(f=1;f<c+1;f++)n(t,e,S-1,f-1,r)?i[S][f]=i[S-1][f-1]+1:i[S][f]=Math.max(i[S-1][f],i[S][f-1]);return i},PO=function(t,e,n,r){let s=e.length,c=n.length;const S={sequence:[],indices1:[],indices2:[]};for(;s!==0&&c!==0;)if(t.match(e,n,s-1,c-1,r))S.sequence.unshift(e[s-1]),S.indices1.unshift(s-1),S.indices2.unshift(c-1),--s,--c;else{const i=t[s][c-1],h=t[s-1][c];i>h?--c:--s}return S},kO=function(t,e,n,r){const s=r||{},c=OO(t,e,n||EO,s);return PO(c,t,e,s)},LO={get:kO},Qs=3;function MO(t,e,n,r){for(let s=0;s<n;s++){const c=t[s];for(let S=0;S<r;S++){const f=e[S];if(s!==S&&c===f)return!0}}}function Dl(t,e,n,r,s){const c=t[n],S=e[r];if(c===S)return!0;if(typeof c!="object"||typeof S!="object")return!1;const f=s.objectHash;if(!f)return s.matchByPosition&&n===r;s.hashCache1=s.hashCache1||[];let i=s.hashCache1[n];if(typeof i>"u"&&(s.hashCache1[n]=i=f(c,n)),typeof i>"u")return!1;s.hashCache2=s.hashCache2||[];let h=s.hashCache2[r];return typeof h>"u"&&(s.hashCache2[r]=h=f(S,r)),typeof h>"u"?!1:i===h}const jw=function(e){if(!e.leftIsArray)return;const n={objectHash:e.options&&e.options.objectHash,matchByPosition:e.options&&e.options.matchByPosition};let r=0,s=0,c,S,f;const i=e.left,h=e.right,g=i.length,a=h.length;let u;for(g>0&&a>0&&!n.objectHash&&typeof n.matchByPosition!="boolean"&&(n.matchByPosition=!MO(i,h,g,a));r<g&&r<a&&Dl(i,h,r,r,n);)c=r,u=new Hi(i[c],h[c]),e.push(u,c),r++;for(;s+r<g&&s+r<a&&Dl(i,h,g-1-s,a-1-s,n);)S=g-1-s,f=a-1-s,u=new Hi(i[S],h[f]),e.push(u,f),s++;let l;if(r+s===g){if(g===a){e.setResult(void 0).exit();return}for(l=l||{_t:"a"},c=r;c<a-s;c++)l[c]=[h[c]];e.setResult(l).exit();return}if(r+s===a){for(l=l||{_t:"a"},c=r;c<g-s;c++)l[`_${c}`]=[i[c],0,0];e.setResult(l).exit();return}delete n.hashCache1,delete n.hashCache2;const d=i.slice(r,g-s),y=h.slice(r,a-s),p=LO.get(d,y,Dl,n),v=[];for(l=l||{_t:"a"},c=r;c<g-s;c++)p.indices1.indexOf(c-r)<0&&(l[`_${c}`]=[i[c],0,0],v.push(c));let w=!0;e.options&&e.options.arrays&&e.options.arrays.detectMove===!1&&(w=!1);let C=!1;e.options&&e.options.arrays&&e.options.arrays.includeValueOnMove&&(C=!0);const x=v.length;for(c=r;c<a-s;c++){const b=p.indices2.indexOf(c-r);if(b<0){let E=!1;if(w&&x>0){for(let k=0;k<x;k++)if(S=v[k],Dl(d,y,S-r,c-r,n)){l[`_${S}`].splice(1,2,c,Qs),C||(l[`_${S}`][0]=""),f=c,u=new Hi(i[S],h[f]),e.push(u,f),v.splice(k,1),E=!0;break}}E||(l[c]=[h[c]])}else S=p.indices1[b]+r,f=p.indices2[b]+r,u=new Hi(i[S],h[f]),e.push(u,f)}e.setResult(l).exit()};jw.filterName="arrays";const v0={numerically(t,e){return t-e},numericallyBy(t){return(e,n)=>e[t]-n[t]}},zw=function(e){if(!e.nested)return;const n=e.delta;if(n._t!=="a")return;let r,s;const c=n,S=e.left;let f=[],i=[];const h=[];for(r in c)if(r!=="_t")if(r[0]==="_"){const l=r;if(c[l][2]===0||c[l][2]===Qs)f.push(parseInt(r.slice(1),10));else throw new Error(`only removal or move can be applied at original array indices, invalid diff type: ${c[l][2]}`)}else{const l=r;c[l].length===1?i.push({index:parseInt(l,10),value:c[l][0]}):h.push({index:parseInt(l,10),delta:c[l]})}for(f=f.sort(v0.numerically),r=f.length-1;r>=0;r--){s=f[r];const l=c[`_${s}`],d=S.splice(s,1)[0];l[2]===Qs&&i.push({index:l[1],value:d})}i=i.sort(v0.numericallyBy("index"));const g=i.length;for(r=0;r<g;r++){const l=i[r];S.splice(l.index,0,l.value)}const a=h.length;let u;if(a>0)for(r=0;r<a;r++){const l=h[r];u=new mp(S[l.index],l.delta),e.push(u,l.index)}if(!e.children){e.setResult(S).exit();return}e.exit()};zw.filterName="arrays";const Ww=function(e){if(!e||!e.children||e.delta._t!=="a")return;const r=e.left,s=e.children.length;let c;for(let S=0;S<s;S++){c=e.children[S];const f=c.childName;r[f]=c.result}e.setResult(r).exit()};Ww.filterName="arraysCollectChildren";const Hw=function(e){if(!e.nested){const S=e.delta;if(S[2]===Qs){const f=S;e.newName=`_${f[1]}`,e.setResult([f[0],parseInt(e.childName.substring(1),10),Qs]).exit()}return}const n=e.delta;if(n._t!=="a")return;const r=n;let s,c;for(s in r)s!=="_t"&&(c=new vp(r[s]),e.push(c,s));e.exit()};Hw.filterName="arrays";const AO=(t,e,n)=>{if(typeof e=="string"&&e[0]==="_")return parseInt(e.substring(1),10);if(Array.isArray(n)&&n[2]===0)return`_${e}`;let r=+e;for(const s in t){const c=t[s];if(Array.isArray(c))if(c[2]===Qs){const S=parseInt(s.substring(1),10),f=c[1];if(f===+e)return S;S<=r&&f>r?r++:S>=r&&f<r&&r--}else c[2]===0?parseInt(s.substring(1),10)<=r&&r++:c.length===1&&parseInt(s,10)<=r&&r--}return r},Vw=t=>{if(!t||!t.children)return;const e=t.delta;if(e._t!=="a")return;const n=e,r=t.children.length;let s;const c={_t:"a"};for(let S=0;S<r;S++){s=t.children[S];let f=s.newName;typeof f>"u"&&(f=AO(n,s.childName,s.result)),c[f]!==s.result&&(c[f]=s.result)}t.setResult(c).exit()};Vw.filterName="arraysCollectChildren";const Uw=function(e){e.left instanceof Date?(e.right instanceof Date?e.left.getTime()!==e.right.getTime()?e.setResult([e.left,e.right]):e.setResult(void 0):e.setResult([e.left,e.right]),e.exit()):e.right instanceof Date&&e.setResult([e.left,e.right]).exit()};Uw.filterName="dates";const Ou=2,DO=60;let Qf=null;function Gw(t,e){var n;if(!Qf){let r;if(!((n=t==null?void 0:t.textDiff)===null||n===void 0)&&n.diffMatchPatch)r=new t.textDiff.diffMatchPatch;else{if(!e)return null;const s=new Error("The diff-match-patch library was not provided. Pass the library in through the options or use the `jsondiffpatch/with-text-diffs` entry-point.");throw s.diff_match_patch_not_found=!0,s}Qf={diff:function(s,c){return r.patch_toText(r.patch_make(s,c))},patch:function(s,c){const S=r.patch_apply(r.patch_fromText(c),s);for(let f=0;f<S[1].length;f++)if(!S[1][f]){const i=new Error("text patch failed");i.textPatchFailed=!0}return S[0]}}}return Qf}const Xw=function(e){if(e.leftType!=="string")return;const n=e.left,r=e.right,s=e.options&&e.options.textDiff&&e.options.textDiff.minLength||DO;if(n.length<s||r.length<s){e.setResult([n,r]).exit();return}const c=Gw(e.options);if(!c){e.setResult([n,r]).exit();return}const S=c.diff;e.setResult([S(n,r),0,Ou]).exit()};Xw.filterName="texts";const Yw=function(e){if(e.nested)return;const n=e.delta;if(n[2]!==Ou)return;const r=n,s=Gw(e.options,!0).patch;e.setResult(s(e.left,r[0])).exit()};Yw.filterName="texts";const RO=function(t){let e,n,r,s,c=null;const S=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;let f;const i=t.split(`
`);for(e=0,n=i.length;e<n;e++){r=i[e];const h=r.slice(0,1);h==="@"?(c=S.exec(r),f=e,i[f]="@@ -"+c[3]+","+c[4]+" +"+c[1]+","+c[2]+" @@"):h==="+"?(i[e]="-"+i[e].slice(1),i[e-1].slice(0,1)==="+"&&(s=i[e],i[e]=i[e-1],i[e-1]=s)):h==="-"&&(i[e]="+"+i[e].slice(1))}return i.join(`
`)},$w=function(e){if(e.nested)return;const n=e.delta;if(n[2]!==Ou)return;const r=n;e.setResult([RO(r[0]),0,Ou]).exit()};$w.filterName="texts";class IO{constructor(e){this.processor=new SO(e),this.processor.pipe(new Zf("diff").append(Dw,Lw,Uw,Xw,Rw,jw).shouldHaveResult()),this.processor.pipe(new Zf("patch").append(Fw,Ww,Mw,Yw,Iw,zw).shouldHaveResult()),this.processor.pipe(new Zf("reverse").append(Bw,Vw,Aw,$w,Nw,Hw).shouldHaveResult())}options(e){return this.processor.options(e)}diff(e,n){return this.processor.process(new Hi(e,n))}patch(e,n){return this.processor.process(new mp(e,n))}reverse(e){return this.processor.process(new vp(e))}unpatch(e,n){return this.patch(e,this.reverse(n))}clone(e){return Eu(e)}}const yp=IO;let Wr;function FO(t,e){return Wr||(Wr=new yp),Wr.diff(t,e)}function NO(t,e){return Wr||(Wr=new yp),Wr.patch(t,e)}function BO(t,e){return Wr||(Wr=new yp),Wr.unpatch(t,e)}var on={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",s=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",S="Expected a function",f="Invalid `variable` option passed into `_.template`",i="__lodash_hash_undefined__",h=500,g="__lodash_placeholder__",a=1,u=2,l=4,d=1,y=2,p=1,v=2,w=4,C=8,x=16,b=32,E=64,k=128,D=256,B=512,W=30,$="...",re=800,Z=16,se=1,ue=2,Ce=3,be=1/0,ee=9007199254740991,P=17976931348623157e292,R=0/0,I=4294967295,N=I-1,Q=I>>>1,F=[["ary",k],["bind",p],["bindKey",v],["curry",C],["curryRight",x],["flip",B],["partial",b],["partialRight",E],["rearg",D]],M="[object Arguments]",V="[object Array]",q="[object AsyncFunction]",ae="[object Boolean]",J="[object Date]",fe="[object DOMException]",ye="[object Error]",_e="[object Function]",ie="[object GeneratorFunction]",X="[object Map]",ce="[object Number]",he="[object Null]",te="[object Object]",me="[object Promise]",xe="[object Proxy]",Ie="[object RegExp]",Ee="[object Set]",oe="[object String]",Me="[object Symbol]",Be="[object Undefined]",He="[object WeakMap]",nt="[object WeakSet]",$e="[object ArrayBuffer]",mt="[object DataView]",ut="[object Float32Array]",Gn="[object Float64Array]",Er="[object Int8Array]",tn="[object Int16Array]",ia="[object Int32Array]",ts="[object Uint8Array]",sa="[object Uint8ClampedArray]",aa="[object Uint16Array]",sc="[object Uint32Array]",x2=/\b__p \+= '';/g,b2=/\b(__p \+=) '' \+/g,T2=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_p=/&(?:amp|lt|gt|quot|#39);/g,xp=/[&<>"']/g,E2=RegExp(_p.source),O2=RegExp(xp.source),P2=/<%-([\s\S]+?)%>/g,k2=/<%([\s\S]+?)%>/g,bp=/<%=([\s\S]+?)%>/g,L2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M2=/^\w*$/,A2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ac=/[\\^$.*+?()[\]{}|]/g,D2=RegExp(ac.source),oc=/^\s+/,R2=/\s/,I2=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,F2=/\{\n\/\* \[wrapped with (.+)\] \*/,N2=/,? & /,B2=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,j2=/[()=,{}\[\]\/\s]/,z2=/\\(\\)?/g,W2=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tp=/\w*$/,H2=/^[-+]0x[0-9a-f]+$/i,V2=/^0b[01]+$/i,U2=/^\[object .+?Constructor\]$/,G2=/^0o[0-7]+$/i,X2=/^(?:0|[1-9]\d*)$/,Y2=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,To=/($^)/,$2=/['\n\r\u2028\u2029\\]/g,Eo="\\ud800-\\udfff",K2="\\u0300-\\u036f",q2="\\ufe20-\\ufe2f",Z2="\\u20d0-\\u20ff",Ep=K2+q2+Z2,Op="\\u2700-\\u27bf",Pp="a-z\\xdf-\\xf6\\xf8-\\xff",Q2="\\xac\\xb1\\xd7\\xf7",J2="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",eS="\\u2000-\\u206f",tS=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kp="A-Z\\xc0-\\xd6\\xd8-\\xde",Lp="\\ufe0e\\ufe0f",Mp=Q2+J2+eS+tS,lc="['\u2019]",nS="["+Eo+"]",Ap="["+Mp+"]",Oo="["+Ep+"]",Dp="\\d+",rS="["+Op+"]",Rp="["+Pp+"]",Ip="[^"+Eo+Mp+Dp+Op+Pp+kp+"]",uc="\\ud83c[\\udffb-\\udfff]",iS="(?:"+Oo+"|"+uc+")",Fp="[^"+Eo+"]",cc="(?:\\ud83c[\\udde6-\\uddff]){2}",fc="[\\ud800-\\udbff][\\udc00-\\udfff]",ns="["+kp+"]",Np="\\u200d",Bp="(?:"+Rp+"|"+Ip+")",sS="(?:"+ns+"|"+Ip+")",jp="(?:"+lc+"(?:d|ll|m|re|s|t|ve))?",zp="(?:"+lc+"(?:D|LL|M|RE|S|T|VE))?",Wp=iS+"?",Hp="["+Lp+"]?",aS="(?:"+Np+"(?:"+[Fp,cc,fc].join("|")+")"+Hp+Wp+")*",oS="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",lS="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vp=Hp+Wp+aS,uS="(?:"+[rS,cc,fc].join("|")+")"+Vp,cS="(?:"+[Fp+Oo+"?",Oo,cc,fc,nS].join("|")+")",fS=RegExp(lc,"g"),hS=RegExp(Oo,"g"),hc=RegExp(uc+"(?="+uc+")|"+cS+Vp,"g"),dS=RegExp([ns+"?"+Rp+"+"+jp+"(?="+[Ap,ns,"$"].join("|")+")",sS+"+"+zp+"(?="+[Ap,ns+Bp,"$"].join("|")+")",ns+"?"+Bp+"+"+jp,ns+"+"+zp,lS,oS,Dp,uS].join("|"),"g"),pS=RegExp("["+Np+Eo+Ep+Lp+"]"),gS=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mS=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vS=-1,st={};st[ut]=st[Gn]=st[Er]=st[tn]=st[ia]=st[ts]=st[sa]=st[aa]=st[sc]=!0,st[M]=st[V]=st[$e]=st[ae]=st[mt]=st[J]=st[ye]=st[_e]=st[X]=st[ce]=st[te]=st[Ie]=st[Ee]=st[oe]=st[He]=!1;var rt={};rt[M]=rt[V]=rt[$e]=rt[mt]=rt[ae]=rt[J]=rt[ut]=rt[Gn]=rt[Er]=rt[tn]=rt[ia]=rt[X]=rt[ce]=rt[te]=rt[Ie]=rt[Ee]=rt[oe]=rt[Me]=rt[ts]=rt[sa]=rt[aa]=rt[sc]=!0,rt[ye]=rt[_e]=rt[He]=!1;var yS={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},wS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},SS={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},CS={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_S=parseFloat,xS=parseInt,Up=typeof _a=="object"&&_a&&_a.Object===Object&&_a,bS=typeof self=="object"&&self&&self.Object===Object&&self,Rt=Up||bS||Function("return this")(),dc=e&&!e.nodeType&&e,Ei=dc&&!0&&t&&!t.nodeType&&t,Gp=Ei&&Ei.exports===dc,pc=Gp&&Up.process,kn=function(){try{var U=Ei&&Ei.require&&Ei.require("util").types;return U||pc&&pc.binding&&pc.binding("util")}catch{}}(),Xp=kn&&kn.isArrayBuffer,Yp=kn&&kn.isDate,$p=kn&&kn.isMap,Kp=kn&&kn.isRegExp,qp=kn&&kn.isSet,Zp=kn&&kn.isTypedArray;function dn(U,le,ne){switch(ne.length){case 0:return U.call(le);case 1:return U.call(le,ne[0]);case 2:return U.call(le,ne[0],ne[1]);case 3:return U.call(le,ne[0],ne[1],ne[2])}return U.apply(le,ne)}function TS(U,le,ne,Pe){for(var je=-1,Ze=U==null?0:U.length;++je<Ze;){var Et=U[je];le(Pe,Et,ne(Et),U)}return Pe}function Ln(U,le){for(var ne=-1,Pe=U==null?0:U.length;++ne<Pe&&le(U[ne],ne,U)!==!1;);return U}function ES(U,le){for(var ne=U==null?0:U.length;ne--&&le(U[ne],ne,U)!==!1;);return U}function Qp(U,le){for(var ne=-1,Pe=U==null?0:U.length;++ne<Pe;)if(!le(U[ne],ne,U))return!1;return!0}function Yr(U,le){for(var ne=-1,Pe=U==null?0:U.length,je=0,Ze=[];++ne<Pe;){var Et=U[ne];le(Et,ne,U)&&(Ze[je++]=Et)}return Ze}function Po(U,le){var ne=U==null?0:U.length;return!!ne&&rs(U,le,0)>-1}function gc(U,le,ne){for(var Pe=-1,je=U==null?0:U.length;++Pe<je;)if(ne(le,U[Pe]))return!0;return!1}function ct(U,le){for(var ne=-1,Pe=U==null?0:U.length,je=Array(Pe);++ne<Pe;)je[ne]=le(U[ne],ne,U);return je}function $r(U,le){for(var ne=-1,Pe=le.length,je=U.length;++ne<Pe;)U[je+ne]=le[ne];return U}function mc(U,le,ne,Pe){var je=-1,Ze=U==null?0:U.length;for(Pe&&Ze&&(ne=U[++je]);++je<Ze;)ne=le(ne,U[je],je,U);return ne}function OS(U,le,ne,Pe){var je=U==null?0:U.length;for(Pe&&je&&(ne=U[--je]);je--;)ne=le(ne,U[je],je,U);return ne}function vc(U,le){for(var ne=-1,Pe=U==null?0:U.length;++ne<Pe;)if(le(U[ne],ne,U))return!0;return!1}var PS=yc("length");function kS(U){return U.split("")}function LS(U){return U.match(B2)||[]}function Jp(U,le,ne){var Pe;return ne(U,function(je,Ze,Et){if(le(je,Ze,Et))return Pe=Ze,!1}),Pe}function ko(U,le,ne,Pe){for(var je=U.length,Ze=ne+(Pe?1:-1);Pe?Ze--:++Ze<je;)if(le(U[Ze],Ze,U))return Ze;return-1}function rs(U,le,ne){return le===le?HS(U,le,ne):ko(U,eg,ne)}function MS(U,le,ne,Pe){for(var je=ne-1,Ze=U.length;++je<Ze;)if(Pe(U[je],le))return je;return-1}function eg(U){return U!==U}function tg(U,le){var ne=U==null?0:U.length;return ne?Sc(U,le)/ne:R}function yc(U){return function(le){return le==null?n:le[U]}}function wc(U){return function(le){return U==null?n:U[le]}}function ng(U,le,ne,Pe,je){return je(U,function(Ze,Et,tt){ne=Pe?(Pe=!1,Ze):le(ne,Ze,Et,tt)}),ne}function AS(U,le){var ne=U.length;for(U.sort(le);ne--;)U[ne]=U[ne].value;return U}function Sc(U,le){for(var ne,Pe=-1,je=U.length;++Pe<je;){var Ze=le(U[Pe]);Ze!==n&&(ne=ne===n?Ze:ne+Ze)}return ne}function Cc(U,le){for(var ne=-1,Pe=Array(U);++ne<U;)Pe[ne]=le(ne);return Pe}function DS(U,le){return ct(le,function(ne){return[ne,U[ne]]})}function rg(U){return U&&U.slice(0,og(U)+1).replace(oc,"")}function pn(U){return function(le){return U(le)}}function _c(U,le){return ct(le,function(ne){return U[ne]})}function oa(U,le){return U.has(le)}function ig(U,le){for(var ne=-1,Pe=U.length;++ne<Pe&&rs(le,U[ne],0)>-1;);return ne}function sg(U,le){for(var ne=U.length;ne--&&rs(le,U[ne],0)>-1;);return ne}function RS(U,le){for(var ne=U.length,Pe=0;ne--;)U[ne]===le&&++Pe;return Pe}var IS=wc(yS),FS=wc(wS);function NS(U){return"\\"+CS[U]}function BS(U,le){return U==null?n:U[le]}function is(U){return pS.test(U)}function jS(U){return gS.test(U)}function zS(U){for(var le,ne=[];!(le=U.next()).done;)ne.push(le.value);return ne}function xc(U){var le=-1,ne=Array(U.size);return U.forEach(function(Pe,je){ne[++le]=[je,Pe]}),ne}function ag(U,le){return function(ne){return U(le(ne))}}function Kr(U,le){for(var ne=-1,Pe=U.length,je=0,Ze=[];++ne<Pe;){var Et=U[ne];(Et===le||Et===g)&&(U[ne]=g,Ze[je++]=ne)}return Ze}function Lo(U){var le=-1,ne=Array(U.size);return U.forEach(function(Pe){ne[++le]=Pe}),ne}function WS(U){var le=-1,ne=Array(U.size);return U.forEach(function(Pe){ne[++le]=[Pe,Pe]}),ne}function HS(U,le,ne){for(var Pe=ne-1,je=U.length;++Pe<je;)if(U[Pe]===le)return Pe;return-1}function VS(U,le,ne){for(var Pe=ne+1;Pe--;)if(U[Pe]===le)return Pe;return Pe}function ss(U){return is(U)?GS(U):PS(U)}function Xn(U){return is(U)?XS(U):kS(U)}function og(U){for(var le=U.length;le--&&R2.test(U.charAt(le)););return le}var US=wc(SS);function GS(U){for(var le=hc.lastIndex=0;hc.test(U);)++le;return le}function XS(U){return U.match(hc)||[]}function YS(U){return U.match(dS)||[]}var $S=function U(le){le=le==null?Rt:as.defaults(Rt.Object(),le,as.pick(Rt,mS));var ne=le.Array,Pe=le.Date,je=le.Error,Ze=le.Function,Et=le.Math,tt=le.Object,bc=le.RegExp,KS=le.String,Mn=le.TypeError,Mo=ne.prototype,qS=Ze.prototype,os=tt.prototype,Ao=le["__core-js_shared__"],Do=qS.toString,Je=os.hasOwnProperty,ZS=0,lg=function(){var o=/[^.]+$/.exec(Ao&&Ao.keys&&Ao.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Ro=os.toString,QS=Do.call(tt),JS=Rt._,eC=bc("^"+Do.call(Je).replace(ac,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Io=Gp?le.Buffer:n,qr=le.Symbol,Fo=le.Uint8Array,ug=Io?Io.allocUnsafe:n,No=ag(tt.getPrototypeOf,tt),cg=tt.create,fg=os.propertyIsEnumerable,Bo=Mo.splice,hg=qr?qr.isConcatSpreadable:n,la=qr?qr.iterator:n,Oi=qr?qr.toStringTag:n,jo=function(){try{var o=Ai(tt,"defineProperty");return o({},"",{}),o}catch{}}(),tC=le.clearTimeout!==Rt.clearTimeout&&le.clearTimeout,nC=Pe&&Pe.now!==Rt.Date.now&&Pe.now,rC=le.setTimeout!==Rt.setTimeout&&le.setTimeout,zo=Et.ceil,Wo=Et.floor,Tc=tt.getOwnPropertySymbols,iC=Io?Io.isBuffer:n,dg=le.isFinite,sC=Mo.join,aC=ag(tt.keys,tt),Ot=Et.max,zt=Et.min,oC=Pe.now,lC=le.parseInt,pg=Et.random,uC=Mo.reverse,Ec=Ai(le,"DataView"),ua=Ai(le,"Map"),Oc=Ai(le,"Promise"),ls=Ai(le,"Set"),ca=Ai(le,"WeakMap"),fa=Ai(tt,"create"),Ho=ca&&new ca,us={},cC=Di(Ec),fC=Di(ua),hC=Di(Oc),dC=Di(ls),pC=Di(ca),Vo=qr?qr.prototype:n,ha=Vo?Vo.valueOf:n,gg=Vo?Vo.toString:n;function L(o){if(vt(o)&&!ze(o)&&!(o instanceof Xe)){if(o instanceof An)return o;if(Je.call(o,"__wrapped__"))return mm(o)}return new An(o)}var cs=function(){function o(){}return function(m){if(!ht(m))return{};if(cg)return cg(m);o.prototype=m;var _=new o;return o.prototype=n,_}}();function Uo(){}function An(o,m){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!m,this.__index__=0,this.__values__=n}L.templateSettings={escape:P2,evaluate:k2,interpolate:bp,variable:"",imports:{_:L}},L.prototype=Uo.prototype,L.prototype.constructor=L,An.prototype=cs(Uo.prototype),An.prototype.constructor=An;function Xe(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=I,this.__views__=[]}function gC(){var o=new Xe(this.__wrapped__);return o.__actions__=nn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=nn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=nn(this.__views__),o}function mC(){if(this.__filtered__){var o=new Xe(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function vC(){var o=this.__wrapped__.value(),m=this.__dir__,_=ze(o),T=m<0,O=_?o.length:0,A=k_(0,O,this.__views__),j=A.start,H=A.end,K=H-j,de=T?H:j-1,pe=this.__iteratees__,we=pe.length,Te=0,Ae=zt(K,this.__takeCount__);if(!_||!T&&O==K&&Ae==K)return jg(o,this.__actions__);var Fe=[];e:for(;K--&&Te<Ae;){de+=m;for(var Ve=-1,Ne=o[de];++Ve<we;){var Ge=pe[Ve],Ke=Ge.iteratee,vn=Ge.type,Kt=Ke(Ne);if(vn==ue)Ne=Kt;else if(!Kt){if(vn==se)continue e;break e}}Fe[Te++]=Ne}return Fe}Xe.prototype=cs(Uo.prototype),Xe.prototype.constructor=Xe;function Pi(o){var m=-1,_=o==null?0:o.length;for(this.clear();++m<_;){var T=o[m];this.set(T[0],T[1])}}function yC(){this.__data__=fa?fa(null):{},this.size=0}function wC(o){var m=this.has(o)&&delete this.__data__[o];return this.size-=m?1:0,m}function SC(o){var m=this.__data__;if(fa){var _=m[o];return _===i?n:_}return Je.call(m,o)?m[o]:n}function CC(o){var m=this.__data__;return fa?m[o]!==n:Je.call(m,o)}function _C(o,m){var _=this.__data__;return this.size+=this.has(o)?0:1,_[o]=fa&&m===n?i:m,this}Pi.prototype.clear=yC,Pi.prototype.delete=wC,Pi.prototype.get=SC,Pi.prototype.has=CC,Pi.prototype.set=_C;function Or(o){var m=-1,_=o==null?0:o.length;for(this.clear();++m<_;){var T=o[m];this.set(T[0],T[1])}}function xC(){this.__data__=[],this.size=0}function bC(o){var m=this.__data__,_=Go(m,o);if(_<0)return!1;var T=m.length-1;return _==T?m.pop():Bo.call(m,_,1),--this.size,!0}function TC(o){var m=this.__data__,_=Go(m,o);return _<0?n:m[_][1]}function EC(o){return Go(this.__data__,o)>-1}function OC(o,m){var _=this.__data__,T=Go(_,o);return T<0?(++this.size,_.push([o,m])):_[T][1]=m,this}Or.prototype.clear=xC,Or.prototype.delete=bC,Or.prototype.get=TC,Or.prototype.has=EC,Or.prototype.set=OC;function Pr(o){var m=-1,_=o==null?0:o.length;for(this.clear();++m<_;){var T=o[m];this.set(T[0],T[1])}}function PC(){this.size=0,this.__data__={hash:new Pi,map:new(ua||Or),string:new Pi}}function kC(o){var m=rl(this,o).delete(o);return this.size-=m?1:0,m}function LC(o){return rl(this,o).get(o)}function MC(o){return rl(this,o).has(o)}function AC(o,m){var _=rl(this,o),T=_.size;return _.set(o,m),this.size+=_.size==T?0:1,this}Pr.prototype.clear=PC,Pr.prototype.delete=kC,Pr.prototype.get=LC,Pr.prototype.has=MC,Pr.prototype.set=AC;function ki(o){var m=-1,_=o==null?0:o.length;for(this.__data__=new Pr;++m<_;)this.add(o[m])}function DC(o){return this.__data__.set(o,i),this}function RC(o){return this.__data__.has(o)}ki.prototype.add=ki.prototype.push=DC,ki.prototype.has=RC;function Yn(o){var m=this.__data__=new Or(o);this.size=m.size}function IC(){this.__data__=new Or,this.size=0}function FC(o){var m=this.__data__,_=m.delete(o);return this.size=m.size,_}function NC(o){return this.__data__.get(o)}function BC(o){return this.__data__.has(o)}function jC(o,m){var _=this.__data__;if(_ instanceof Or){var T=_.__data__;if(!ua||T.length<s-1)return T.push([o,m]),this.size=++_.size,this;_=this.__data__=new Pr(T)}return _.set(o,m),this.size=_.size,this}Yn.prototype.clear=IC,Yn.prototype.delete=FC,Yn.prototype.get=NC,Yn.prototype.has=BC,Yn.prototype.set=jC;function mg(o,m){var _=ze(o),T=!_&&Ri(o),O=!_&&!T&&ti(o),A=!_&&!T&&!O&&ps(o),j=_||T||O||A,H=j?Cc(o.length,KS):[],K=H.length;for(var de in o)(m||Je.call(o,de))&&!(j&&(de=="length"||O&&(de=="offset"||de=="parent")||A&&(de=="buffer"||de=="byteLength"||de=="byteOffset")||Ar(de,K)))&&H.push(de);return H}function vg(o){var m=o.length;return m?o[Bc(0,m-1)]:n}function zC(o,m){return il(nn(o),Li(m,0,o.length))}function WC(o){return il(nn(o))}function Pc(o,m,_){(_!==n&&!$n(o[m],_)||_===n&&!(m in o))&&kr(o,m,_)}function da(o,m,_){var T=o[m];(!(Je.call(o,m)&&$n(T,_))||_===n&&!(m in o))&&kr(o,m,_)}function Go(o,m){for(var _=o.length;_--;)if($n(o[_][0],m))return _;return-1}function HC(o,m,_,T){return Zr(o,function(O,A,j){m(T,O,_(O),j)}),T}function yg(o,m){return o&&fr(m,Lt(m),o)}function VC(o,m){return o&&fr(m,sn(m),o)}function kr(o,m,_){m=="__proto__"&&jo?jo(o,m,{configurable:!0,enumerable:!0,value:_,writable:!0}):o[m]=_}function kc(o,m){for(var _=-1,T=m.length,O=ne(T),A=o==null;++_<T;)O[_]=A?n:cf(o,m[_]);return O}function Li(o,m,_){return o===o&&(_!==n&&(o=o<=_?o:_),m!==n&&(o=o>=m?o:m)),o}function Dn(o,m,_,T,O,A){var j,H=m&a,K=m&u,de=m&l;if(_&&(j=O?_(o,T,O,A):_(o)),j!==n)return j;if(!ht(o))return o;var pe=ze(o);if(pe){if(j=M_(o),!H)return nn(o,j)}else{var we=Wt(o),Te=we==_e||we==ie;if(ti(o))return Hg(o,H);if(we==te||we==M||Te&&!O){if(j=K||Te?{}:om(o),!H)return K?S_(o,VC(j,o)):w_(o,yg(j,o))}else{if(!rt[we])return O?o:{};j=A_(o,we,H)}}A||(A=new Yn);var Ae=A.get(o);if(Ae)return Ae;A.set(o,j),Fm(o)?o.forEach(function(Ne){j.add(Dn(Ne,m,_,Ne,o,A))}):Rm(o)&&o.forEach(function(Ne,Ge){j.set(Ge,Dn(Ne,m,_,Ge,o,A))});var Fe=de?K?Kc:$c:K?sn:Lt,Ve=pe?n:Fe(o);return Ln(Ve||o,function(Ne,Ge){Ve&&(Ge=Ne,Ne=o[Ge]),da(j,Ge,Dn(Ne,m,_,Ge,o,A))}),j}function UC(o){var m=Lt(o);return function(_){return wg(_,o,m)}}function wg(o,m,_){var T=_.length;if(o==null)return!T;for(o=tt(o);T--;){var O=_[T],A=m[O],j=o[O];if(j===n&&!(O in o)||!A(j))return!1}return!0}function Sg(o,m,_){if(typeof o!="function")throw new Mn(S);return Sa(function(){o.apply(n,_)},m)}function pa(o,m,_,T){var O=-1,A=Po,j=!0,H=o.length,K=[],de=m.length;if(!H)return K;_&&(m=ct(m,pn(_))),T?(A=gc,j=!1):m.length>=s&&(A=oa,j=!1,m=new ki(m));e:for(;++O<H;){var pe=o[O],we=_==null?pe:_(pe);if(pe=T||pe!==0?pe:0,j&&we===we){for(var Te=de;Te--;)if(m[Te]===we)continue e;K.push(pe)}else A(m,we,T)||K.push(pe)}return K}var Zr=Yg(cr),Cg=Yg(Mc,!0);function GC(o,m){var _=!0;return Zr(o,function(T,O,A){return _=!!m(T,O,A),_}),_}function Xo(o,m,_){for(var T=-1,O=o.length;++T<O;){var A=o[T],j=m(A);if(j!=null&&(H===n?j===j&&!mn(j):_(j,H)))var H=j,K=A}return K}function XC(o,m,_,T){var O=o.length;for(_=We(_),_<0&&(_=-_>O?0:O+_),T=T===n||T>O?O:We(T),T<0&&(T+=O),T=_>T?0:Bm(T);_<T;)o[_++]=m;return o}function _g(o,m){var _=[];return Zr(o,function(T,O,A){m(T,O,A)&&_.push(T)}),_}function It(o,m,_,T,O){var A=-1,j=o.length;for(_||(_=R_),O||(O=[]);++A<j;){var H=o[A];m>0&&_(H)?m>1?It(H,m-1,_,T,O):$r(O,H):T||(O[O.length]=H)}return O}var Lc=$g(),xg=$g(!0);function cr(o,m){return o&&Lc(o,m,Lt)}function Mc(o,m){return o&&xg(o,m,Lt)}function Yo(o,m){return Yr(m,function(_){return Dr(o[_])})}function Mi(o,m){m=Jr(m,o);for(var _=0,T=m.length;o!=null&&_<T;)o=o[hr(m[_++])];return _&&_==T?o:n}function bg(o,m,_){var T=m(o);return ze(o)?T:$r(T,_(o))}function Yt(o){return o==null?o===n?Be:he:Oi&&Oi in tt(o)?P_(o):W_(o)}function Ac(o,m){return o>m}function YC(o,m){return o!=null&&Je.call(o,m)}function $C(o,m){return o!=null&&m in tt(o)}function KC(o,m,_){return o>=zt(m,_)&&o<Ot(m,_)}function Dc(o,m,_){for(var T=_?gc:Po,O=o[0].length,A=o.length,j=A,H=ne(A),K=1/0,de=[];j--;){var pe=o[j];j&&m&&(pe=ct(pe,pn(m))),K=zt(pe.length,K),H[j]=!_&&(m||O>=120&&pe.length>=120)?new ki(j&&pe):n}pe=o[0];var we=-1,Te=H[0];e:for(;++we<O&&de.length<K;){var Ae=pe[we],Fe=m?m(Ae):Ae;if(Ae=_||Ae!==0?Ae:0,!(Te?oa(Te,Fe):T(de,Fe,_))){for(j=A;--j;){var Ve=H[j];if(!(Ve?oa(Ve,Fe):T(o[j],Fe,_)))continue e}Te&&Te.push(Fe),de.push(Ae)}}return de}function qC(o,m,_,T){return cr(o,function(O,A,j){m(T,_(O),A,j)}),T}function ga(o,m,_){m=Jr(m,o),o=fm(o,m);var T=o==null?o:o[hr(In(m))];return T==null?n:dn(T,o,_)}function Tg(o){return vt(o)&&Yt(o)==M}function ZC(o){return vt(o)&&Yt(o)==$e}function QC(o){return vt(o)&&Yt(o)==J}function ma(o,m,_,T,O){return o===m?!0:o==null||m==null||!vt(o)&&!vt(m)?o!==o&&m!==m:JC(o,m,_,T,ma,O)}function JC(o,m,_,T,O,A){var j=ze(o),H=ze(m),K=j?V:Wt(o),de=H?V:Wt(m);K=K==M?te:K,de=de==M?te:de;var pe=K==te,we=de==te,Te=K==de;if(Te&&ti(o)){if(!ti(m))return!1;j=!0,pe=!1}if(Te&&!pe)return A||(A=new Yn),j||ps(o)?im(o,m,_,T,O,A):E_(o,m,K,_,T,O,A);if(!(_&d)){var Ae=pe&&Je.call(o,"__wrapped__"),Fe=we&&Je.call(m,"__wrapped__");if(Ae||Fe){var Ve=Ae?o.value():o,Ne=Fe?m.value():m;return A||(A=new Yn),O(Ve,Ne,_,T,A)}}return Te?(A||(A=new Yn),O_(o,m,_,T,O,A)):!1}function e_(o){return vt(o)&&Wt(o)==X}function Rc(o,m,_,T){var O=_.length,A=O,j=!T;if(o==null)return!A;for(o=tt(o);O--;){var H=_[O];if(j&&H[2]?H[1]!==o[H[0]]:!(H[0]in o))return!1}for(;++O<A;){H=_[O];var K=H[0],de=o[K],pe=H[1];if(j&&H[2]){if(de===n&&!(K in o))return!1}else{var we=new Yn;if(T)var Te=T(de,pe,K,o,m,we);if(!(Te===n?ma(pe,de,d|y,T,we):Te))return!1}}return!0}function Eg(o){if(!ht(o)||F_(o))return!1;var m=Dr(o)?eC:U2;return m.test(Di(o))}function t_(o){return vt(o)&&Yt(o)==Ie}function n_(o){return vt(o)&&Wt(o)==Ee}function r_(o){return vt(o)&&cl(o.length)&&!!st[Yt(o)]}function Og(o){return typeof o=="function"?o:o==null?an:typeof o=="object"?ze(o)?Lg(o[0],o[1]):kg(o):Km(o)}function Ic(o){if(!wa(o))return aC(o);var m=[];for(var _ in tt(o))Je.call(o,_)&&_!="constructor"&&m.push(_);return m}function i_(o){if(!ht(o))return z_(o);var m=wa(o),_=[];for(var T in o)T=="constructor"&&(m||!Je.call(o,T))||_.push(T);return _}function Fc(o,m){return o<m}function Pg(o,m){var _=-1,T=rn(o)?ne(o.length):[];return Zr(o,function(O,A,j){T[++_]=m(O,A,j)}),T}function kg(o){var m=Zc(o);return m.length==1&&m[0][2]?um(m[0][0],m[0][1]):function(_){return _===o||Rc(_,o,m)}}function Lg(o,m){return Jc(o)&&lm(m)?um(hr(o),m):function(_){var T=cf(_,o);return T===n&&T===m?ff(_,o):ma(m,T,d|y)}}function $o(o,m,_,T,O){o!==m&&Lc(m,function(A,j){if(O||(O=new Yn),ht(A))s_(o,m,j,_,$o,T,O);else{var H=T?T(tf(o,j),A,j+"",o,m,O):n;H===n&&(H=A),Pc(o,j,H)}},sn)}function s_(o,m,_,T,O,A,j){var H=tf(o,_),K=tf(m,_),de=j.get(K);if(de){Pc(o,_,de);return}var pe=A?A(H,K,_+"",o,m,j):n,we=pe===n;if(we){var Te=ze(K),Ae=!Te&&ti(K),Fe=!Te&&!Ae&&ps(K);pe=K,Te||Ae||Fe?ze(H)?pe=H:St(H)?pe=nn(H):Ae?(we=!1,pe=Hg(K,!0)):Fe?(we=!1,pe=Vg(K,!0)):pe=[]:Ca(K)||Ri(K)?(pe=H,Ri(H)?pe=jm(H):(!ht(H)||Dr(H))&&(pe=om(K))):we=!1}we&&(j.set(K,pe),O(pe,K,T,A,j),j.delete(K)),Pc(o,_,pe)}function Mg(o,m){var _=o.length;if(!!_)return m+=m<0?_:0,Ar(m,_)?o[m]:n}function Ag(o,m,_){m.length?m=ct(m,function(A){return ze(A)?function(j){return Mi(j,A.length===1?A[0]:A)}:A}):m=[an];var T=-1;m=ct(m,pn(Re()));var O=Pg(o,function(A,j,H){var K=ct(m,function(de){return de(A)});return{criteria:K,index:++T,value:A}});return AS(O,function(A,j){return y_(A,j,_)})}function a_(o,m){return Dg(o,m,function(_,T){return ff(o,T)})}function Dg(o,m,_){for(var T=-1,O=m.length,A={};++T<O;){var j=m[T],H=Mi(o,j);_(H,j)&&va(A,Jr(j,o),H)}return A}function o_(o){return function(m){return Mi(m,o)}}function Nc(o,m,_,T){var O=T?MS:rs,A=-1,j=m.length,H=o;for(o===m&&(m=nn(m)),_&&(H=ct(o,pn(_)));++A<j;)for(var K=0,de=m[A],pe=_?_(de):de;(K=O(H,pe,K,T))>-1;)H!==o&&Bo.call(H,K,1),Bo.call(o,K,1);return o}function Rg(o,m){for(var _=o?m.length:0,T=_-1;_--;){var O=m[_];if(_==T||O!==A){var A=O;Ar(O)?Bo.call(o,O,1):Wc(o,O)}}return o}function Bc(o,m){return o+Wo(pg()*(m-o+1))}function l_(o,m,_,T){for(var O=-1,A=Ot(zo((m-o)/(_||1)),0),j=ne(A);A--;)j[T?A:++O]=o,o+=_;return j}function jc(o,m){var _="";if(!o||m<1||m>ee)return _;do m%2&&(_+=o),m=Wo(m/2),m&&(o+=o);while(m);return _}function Ue(o,m){return nf(cm(o,m,an),o+"")}function u_(o){return vg(gs(o))}function c_(o,m){var _=gs(o);return il(_,Li(m,0,_.length))}function va(o,m,_,T){if(!ht(o))return o;m=Jr(m,o);for(var O=-1,A=m.length,j=A-1,H=o;H!=null&&++O<A;){var K=hr(m[O]),de=_;if(K==="__proto__"||K==="constructor"||K==="prototype")return o;if(O!=j){var pe=H[K];de=T?T(pe,K,H):n,de===n&&(de=ht(pe)?pe:Ar(m[O+1])?[]:{})}da(H,K,de),H=H[K]}return o}var Ig=Ho?function(o,m){return Ho.set(o,m),o}:an,f_=jo?function(o,m){return jo(o,"toString",{configurable:!0,enumerable:!1,value:df(m),writable:!0})}:an;function h_(o){return il(gs(o))}function Rn(o,m,_){var T=-1,O=o.length;m<0&&(m=-m>O?0:O+m),_=_>O?O:_,_<0&&(_+=O),O=m>_?0:_-m>>>0,m>>>=0;for(var A=ne(O);++T<O;)A[T]=o[T+m];return A}function d_(o,m){var _;return Zr(o,function(T,O,A){return _=m(T,O,A),!_}),!!_}function Ko(o,m,_){var T=0,O=o==null?T:o.length;if(typeof m=="number"&&m===m&&O<=Q){for(;T<O;){var A=T+O>>>1,j=o[A];j!==null&&!mn(j)&&(_?j<=m:j<m)?T=A+1:O=A}return O}return zc(o,m,an,_)}function zc(o,m,_,T){var O=0,A=o==null?0:o.length;if(A===0)return 0;m=_(m);for(var j=m!==m,H=m===null,K=mn(m),de=m===n;O<A;){var pe=Wo((O+A)/2),we=_(o[pe]),Te=we!==n,Ae=we===null,Fe=we===we,Ve=mn(we);if(j)var Ne=T||Fe;else de?Ne=Fe&&(T||Te):H?Ne=Fe&&Te&&(T||!Ae):K?Ne=Fe&&Te&&!Ae&&(T||!Ve):Ae||Ve?Ne=!1:Ne=T?we<=m:we<m;Ne?O=pe+1:A=pe}return zt(A,N)}function Fg(o,m){for(var _=-1,T=o.length,O=0,A=[];++_<T;){var j=o[_],H=m?m(j):j;if(!_||!$n(H,K)){var K=H;A[O++]=j===0?0:j}}return A}function Ng(o){return typeof o=="number"?o:mn(o)?R:+o}function gn(o){if(typeof o=="string")return o;if(ze(o))return ct(o,gn)+"";if(mn(o))return gg?gg.call(o):"";var m=o+"";return m=="0"&&1/o==-be?"-0":m}function Qr(o,m,_){var T=-1,O=Po,A=o.length,j=!0,H=[],K=H;if(_)j=!1,O=gc;else if(A>=s){var de=m?null:b_(o);if(de)return Lo(de);j=!1,O=oa,K=new ki}else K=m?[]:H;e:for(;++T<A;){var pe=o[T],we=m?m(pe):pe;if(pe=_||pe!==0?pe:0,j&&we===we){for(var Te=K.length;Te--;)if(K[Te]===we)continue e;m&&K.push(we),H.push(pe)}else O(K,we,_)||(K!==H&&K.push(we),H.push(pe))}return H}function Wc(o,m){return m=Jr(m,o),o=fm(o,m),o==null||delete o[hr(In(m))]}function Bg(o,m,_,T){return va(o,m,_(Mi(o,m)),T)}function qo(o,m,_,T){for(var O=o.length,A=T?O:-1;(T?A--:++A<O)&&m(o[A],A,o););return _?Rn(o,T?0:A,T?A+1:O):Rn(o,T?A+1:0,T?O:A)}function jg(o,m){var _=o;return _ instanceof Xe&&(_=_.value()),mc(m,function(T,O){return O.func.apply(O.thisArg,$r([T],O.args))},_)}function Hc(o,m,_){var T=o.length;if(T<2)return T?Qr(o[0]):[];for(var O=-1,A=ne(T);++O<T;)for(var j=o[O],H=-1;++H<T;)H!=O&&(A[O]=pa(A[O]||j,o[H],m,_));return Qr(It(A,1),m,_)}function zg(o,m,_){for(var T=-1,O=o.length,A=m.length,j={};++T<O;){var H=T<A?m[T]:n;_(j,o[T],H)}return j}function Vc(o){return St(o)?o:[]}function Uc(o){return typeof o=="function"?o:an}function Jr(o,m){return ze(o)?o:Jc(o,m)?[o]:gm(Qe(o))}var p_=Ue;function ei(o,m,_){var T=o.length;return _=_===n?T:_,!m&&_>=T?o:Rn(o,m,_)}var Wg=tC||function(o){return Rt.clearTimeout(o)};function Hg(o,m){if(m)return o.slice();var _=o.length,T=ug?ug(_):new o.constructor(_);return o.copy(T),T}function Gc(o){var m=new o.constructor(o.byteLength);return new Fo(m).set(new Fo(o)),m}function g_(o,m){var _=m?Gc(o.buffer):o.buffer;return new o.constructor(_,o.byteOffset,o.byteLength)}function m_(o){var m=new o.constructor(o.source,Tp.exec(o));return m.lastIndex=o.lastIndex,m}function v_(o){return ha?tt(ha.call(o)):{}}function Vg(o,m){var _=m?Gc(o.buffer):o.buffer;return new o.constructor(_,o.byteOffset,o.length)}function Ug(o,m){if(o!==m){var _=o!==n,T=o===null,O=o===o,A=mn(o),j=m!==n,H=m===null,K=m===m,de=mn(m);if(!H&&!de&&!A&&o>m||A&&j&&K&&!H&&!de||T&&j&&K||!_&&K||!O)return 1;if(!T&&!A&&!de&&o<m||de&&_&&O&&!T&&!A||H&&_&&O||!j&&O||!K)return-1}return 0}function y_(o,m,_){for(var T=-1,O=o.criteria,A=m.criteria,j=O.length,H=_.length;++T<j;){var K=Ug(O[T],A[T]);if(K){if(T>=H)return K;var de=_[T];return K*(de=="desc"?-1:1)}}return o.index-m.index}function Gg(o,m,_,T){for(var O=-1,A=o.length,j=_.length,H=-1,K=m.length,de=Ot(A-j,0),pe=ne(K+de),we=!T;++H<K;)pe[H]=m[H];for(;++O<j;)(we||O<A)&&(pe[_[O]]=o[O]);for(;de--;)pe[H++]=o[O++];return pe}function Xg(o,m,_,T){for(var O=-1,A=o.length,j=-1,H=_.length,K=-1,de=m.length,pe=Ot(A-H,0),we=ne(pe+de),Te=!T;++O<pe;)we[O]=o[O];for(var Ae=O;++K<de;)we[Ae+K]=m[K];for(;++j<H;)(Te||O<A)&&(we[Ae+_[j]]=o[O++]);return we}function nn(o,m){var _=-1,T=o.length;for(m||(m=ne(T));++_<T;)m[_]=o[_];return m}function fr(o,m,_,T){var O=!_;_||(_={});for(var A=-1,j=m.length;++A<j;){var H=m[A],K=T?T(_[H],o[H],H,_,o):n;K===n&&(K=o[H]),O?kr(_,H,K):da(_,H,K)}return _}function w_(o,m){return fr(o,Qc(o),m)}function S_(o,m){return fr(o,sm(o),m)}function Zo(o,m){return function(_,T){var O=ze(_)?TS:HC,A=m?m():{};return O(_,o,Re(T,2),A)}}function fs(o){return Ue(function(m,_){var T=-1,O=_.length,A=O>1?_[O-1]:n,j=O>2?_[2]:n;for(A=o.length>3&&typeof A=="function"?(O--,A):n,j&&$t(_[0],_[1],j)&&(A=O<3?n:A,O=1),m=tt(m);++T<O;){var H=_[T];H&&o(m,H,T,A)}return m})}function Yg(o,m){return function(_,T){if(_==null)return _;if(!rn(_))return o(_,T);for(var O=_.length,A=m?O:-1,j=tt(_);(m?A--:++A<O)&&T(j[A],A,j)!==!1;);return _}}function $g(o){return function(m,_,T){for(var O=-1,A=tt(m),j=T(m),H=j.length;H--;){var K=j[o?H:++O];if(_(A[K],K,A)===!1)break}return m}}function C_(o,m,_){var T=m&p,O=ya(o);function A(){var j=this&&this!==Rt&&this instanceof A?O:o;return j.apply(T?_:this,arguments)}return A}function Kg(o){return function(m){m=Qe(m);var _=is(m)?Xn(m):n,T=_?_[0]:m.charAt(0),O=_?ei(_,1).join(""):m.slice(1);return T[o]()+O}}function hs(o){return function(m){return mc(Ym(Xm(m).replace(fS,"")),o,"")}}function ya(o){return function(){var m=arguments;switch(m.length){case 0:return new o;case 1:return new o(m[0]);case 2:return new o(m[0],m[1]);case 3:return new o(m[0],m[1],m[2]);case 4:return new o(m[0],m[1],m[2],m[3]);case 5:return new o(m[0],m[1],m[2],m[3],m[4]);case 6:return new o(m[0],m[1],m[2],m[3],m[4],m[5]);case 7:return new o(m[0],m[1],m[2],m[3],m[4],m[5],m[6])}var _=cs(o.prototype),T=o.apply(_,m);return ht(T)?T:_}}function __(o,m,_){var T=ya(o);function O(){for(var A=arguments.length,j=ne(A),H=A,K=ds(O);H--;)j[H]=arguments[H];var de=A<3&&j[0]!==K&&j[A-1]!==K?[]:Kr(j,K);if(A-=de.length,A<_)return em(o,m,Qo,O.placeholder,n,j,de,n,n,_-A);var pe=this&&this!==Rt&&this instanceof O?T:o;return dn(pe,this,j)}return O}function qg(o){return function(m,_,T){var O=tt(m);if(!rn(m)){var A=Re(_,3);m=Lt(m),_=function(H){return A(O[H],H,O)}}var j=o(m,_,T);return j>-1?O[A?m[j]:j]:n}}function Zg(o){return Mr(function(m){var _=m.length,T=_,O=An.prototype.thru;for(o&&m.reverse();T--;){var A=m[T];if(typeof A!="function")throw new Mn(S);if(O&&!j&&nl(A)=="wrapper")var j=new An([],!0)}for(T=j?T:_;++T<_;){A=m[T];var H=nl(A),K=H=="wrapper"?qc(A):n;K&&ef(K[0])&&K[1]==(k|C|b|D)&&!K[4].length&&K[9]==1?j=j[nl(K[0])].apply(j,K[3]):j=A.length==1&&ef(A)?j[H]():j.thru(A)}return function(){var de=arguments,pe=de[0];if(j&&de.length==1&&ze(pe))return j.plant(pe).value();for(var we=0,Te=_?m[we].apply(this,de):pe;++we<_;)Te=m[we].call(this,Te);return Te}})}function Qo(o,m,_,T,O,A,j,H,K,de){var pe=m&k,we=m&p,Te=m&v,Ae=m&(C|x),Fe=m&B,Ve=Te?n:ya(o);function Ne(){for(var Ge=arguments.length,Ke=ne(Ge),vn=Ge;vn--;)Ke[vn]=arguments[vn];if(Ae)var Kt=ds(Ne),yn=RS(Ke,Kt);if(T&&(Ke=Gg(Ke,T,O,Ae)),A&&(Ke=Xg(Ke,A,j,Ae)),Ge-=yn,Ae&&Ge<de){var Ct=Kr(Ke,Kt);return em(o,m,Qo,Ne.placeholder,_,Ke,Ct,H,K,de-Ge)}var Kn=we?_:this,Ir=Te?Kn[o]:o;return Ge=Ke.length,H?Ke=H_(Ke,H):Fe&&Ge>1&&Ke.reverse(),pe&&K<Ge&&(Ke.length=K),this&&this!==Rt&&this instanceof Ne&&(Ir=Ve||ya(Ir)),Ir.apply(Kn,Ke)}return Ne}function Qg(o,m){return function(_,T){return qC(_,o,m(T),{})}}function Jo(o,m){return function(_,T){var O;if(_===n&&T===n)return m;if(_!==n&&(O=_),T!==n){if(O===n)return T;typeof _=="string"||typeof T=="string"?(_=gn(_),T=gn(T)):(_=Ng(_),T=Ng(T)),O=o(_,T)}return O}}function Xc(o){return Mr(function(m){return m=ct(m,pn(Re())),Ue(function(_){var T=this;return o(m,function(O){return dn(O,T,_)})})})}function el(o,m){m=m===n?" ":gn(m);var _=m.length;if(_<2)return _?jc(m,o):m;var T=jc(m,zo(o/ss(m)));return is(m)?ei(Xn(T),0,o).join(""):T.slice(0,o)}function x_(o,m,_,T){var O=m&p,A=ya(o);function j(){for(var H=-1,K=arguments.length,de=-1,pe=T.length,we=ne(pe+K),Te=this&&this!==Rt&&this instanceof j?A:o;++de<pe;)we[de]=T[de];for(;K--;)we[de++]=arguments[++H];return dn(Te,O?_:this,we)}return j}function Jg(o){return function(m,_,T){return T&&typeof T!="number"&&$t(m,_,T)&&(_=T=n),m=Rr(m),_===n?(_=m,m=0):_=Rr(_),T=T===n?m<_?1:-1:Rr(T),l_(m,_,T,o)}}function tl(o){return function(m,_){return typeof m=="string"&&typeof _=="string"||(m=Fn(m),_=Fn(_)),o(m,_)}}function em(o,m,_,T,O,A,j,H,K,de){var pe=m&C,we=pe?j:n,Te=pe?n:j,Ae=pe?A:n,Fe=pe?n:A;m|=pe?b:E,m&=~(pe?E:b),m&w||(m&=~(p|v));var Ve=[o,m,O,Ae,we,Fe,Te,H,K,de],Ne=_.apply(n,Ve);return ef(o)&&hm(Ne,Ve),Ne.placeholder=T,dm(Ne,o,m)}function Yc(o){var m=Et[o];return function(_,T){if(_=Fn(_),T=T==null?0:zt(We(T),292),T&&dg(_)){var O=(Qe(_)+"e").split("e"),A=m(O[0]+"e"+(+O[1]+T));return O=(Qe(A)+"e").split("e"),+(O[0]+"e"+(+O[1]-T))}return m(_)}}var b_=ls&&1/Lo(new ls([,-0]))[1]==be?function(o){return new ls(o)}:mf;function tm(o){return function(m){var _=Wt(m);return _==X?xc(m):_==Ee?WS(m):DS(m,o(m))}}function Lr(o,m,_,T,O,A,j,H){var K=m&v;if(!K&&typeof o!="function")throw new Mn(S);var de=T?T.length:0;if(de||(m&=~(b|E),T=O=n),j=j===n?j:Ot(We(j),0),H=H===n?H:We(H),de-=O?O.length:0,m&E){var pe=T,we=O;T=O=n}var Te=K?n:qc(o),Ae=[o,m,_,T,O,pe,we,A,j,H];if(Te&&j_(Ae,Te),o=Ae[0],m=Ae[1],_=Ae[2],T=Ae[3],O=Ae[4],H=Ae[9]=Ae[9]===n?K?0:o.length:Ot(Ae[9]-de,0),!H&&m&(C|x)&&(m&=~(C|x)),!m||m==p)var Fe=C_(o,m,_);else m==C||m==x?Fe=__(o,m,H):(m==b||m==(p|b))&&!O.length?Fe=x_(o,m,_,T):Fe=Qo.apply(n,Ae);var Ve=Te?Ig:hm;return dm(Ve(Fe,Ae),o,m)}function nm(o,m,_,T){return o===n||$n(o,os[_])&&!Je.call(T,_)?m:o}function rm(o,m,_,T,O,A){return ht(o)&&ht(m)&&(A.set(m,o),$o(o,m,n,rm,A),A.delete(m)),o}function T_(o){return Ca(o)?n:o}function im(o,m,_,T,O,A){var j=_&d,H=o.length,K=m.length;if(H!=K&&!(j&&K>H))return!1;var de=A.get(o),pe=A.get(m);if(de&&pe)return de==m&&pe==o;var we=-1,Te=!0,Ae=_&y?new ki:n;for(A.set(o,m),A.set(m,o);++we<H;){var Fe=o[we],Ve=m[we];if(T)var Ne=j?T(Ve,Fe,we,m,o,A):T(Fe,Ve,we,o,m,A);if(Ne!==n){if(Ne)continue;Te=!1;break}if(Ae){if(!vc(m,function(Ge,Ke){if(!oa(Ae,Ke)&&(Fe===Ge||O(Fe,Ge,_,T,A)))return Ae.push(Ke)})){Te=!1;break}}else if(!(Fe===Ve||O(Fe,Ve,_,T,A))){Te=!1;break}}return A.delete(o),A.delete(m),Te}function E_(o,m,_,T,O,A,j){switch(_){case mt:if(o.byteLength!=m.byteLength||o.byteOffset!=m.byteOffset)return!1;o=o.buffer,m=m.buffer;case $e:return!(o.byteLength!=m.byteLength||!A(new Fo(o),new Fo(m)));case ae:case J:case ce:return $n(+o,+m);case ye:return o.name==m.name&&o.message==m.message;case Ie:case oe:return o==m+"";case X:var H=xc;case Ee:var K=T&d;if(H||(H=Lo),o.size!=m.size&&!K)return!1;var de=j.get(o);if(de)return de==m;T|=y,j.set(o,m);var pe=im(H(o),H(m),T,O,A,j);return j.delete(o),pe;case Me:if(ha)return ha.call(o)==ha.call(m)}return!1}function O_(o,m,_,T,O,A){var j=_&d,H=$c(o),K=H.length,de=$c(m),pe=de.length;if(K!=pe&&!j)return!1;for(var we=K;we--;){var Te=H[we];if(!(j?Te in m:Je.call(m,Te)))return!1}var Ae=A.get(o),Fe=A.get(m);if(Ae&&Fe)return Ae==m&&Fe==o;var Ve=!0;A.set(o,m),A.set(m,o);for(var Ne=j;++we<K;){Te=H[we];var Ge=o[Te],Ke=m[Te];if(T)var vn=j?T(Ke,Ge,Te,m,o,A):T(Ge,Ke,Te,o,m,A);if(!(vn===n?Ge===Ke||O(Ge,Ke,_,T,A):vn)){Ve=!1;break}Ne||(Ne=Te=="constructor")}if(Ve&&!Ne){var Kt=o.constructor,yn=m.constructor;Kt!=yn&&"constructor"in o&&"constructor"in m&&!(typeof Kt=="function"&&Kt instanceof Kt&&typeof yn=="function"&&yn instanceof yn)&&(Ve=!1)}return A.delete(o),A.delete(m),Ve}function Mr(o){return nf(cm(o,n,wm),o+"")}function $c(o){return bg(o,Lt,Qc)}function Kc(o){return bg(o,sn,sm)}var qc=Ho?function(o){return Ho.get(o)}:mf;function nl(o){for(var m=o.name+"",_=us[m],T=Je.call(us,m)?_.length:0;T--;){var O=_[T],A=O.func;if(A==null||A==o)return O.name}return m}function ds(o){var m=Je.call(L,"placeholder")?L:o;return m.placeholder}function Re(){var o=L.iteratee||pf;return o=o===pf?Og:o,arguments.length?o(arguments[0],arguments[1]):o}function rl(o,m){var _=o.__data__;return I_(m)?_[typeof m=="string"?"string":"hash"]:_.map}function Zc(o){for(var m=Lt(o),_=m.length;_--;){var T=m[_],O=o[T];m[_]=[T,O,lm(O)]}return m}function Ai(o,m){var _=BS(o,m);return Eg(_)?_:n}function P_(o){var m=Je.call(o,Oi),_=o[Oi];try{o[Oi]=n;var T=!0}catch{}var O=Ro.call(o);return T&&(m?o[Oi]=_:delete o[Oi]),O}var Qc=Tc?function(o){return o==null?[]:(o=tt(o),Yr(Tc(o),function(m){return fg.call(o,m)}))}:vf,sm=Tc?function(o){for(var m=[];o;)$r(m,Qc(o)),o=No(o);return m}:vf,Wt=Yt;(Ec&&Wt(new Ec(new ArrayBuffer(1)))!=mt||ua&&Wt(new ua)!=X||Oc&&Wt(Oc.resolve())!=me||ls&&Wt(new ls)!=Ee||ca&&Wt(new ca)!=He)&&(Wt=function(o){var m=Yt(o),_=m==te?o.constructor:n,T=_?Di(_):"";if(T)switch(T){case cC:return mt;case fC:return X;case hC:return me;case dC:return Ee;case pC:return He}return m});function k_(o,m,_){for(var T=-1,O=_.length;++T<O;){var A=_[T],j=A.size;switch(A.type){case"drop":o+=j;break;case"dropRight":m-=j;break;case"take":m=zt(m,o+j);break;case"takeRight":o=Ot(o,m-j);break}}return{start:o,end:m}}function L_(o){var m=o.match(F2);return m?m[1].split(N2):[]}function am(o,m,_){m=Jr(m,o);for(var T=-1,O=m.length,A=!1;++T<O;){var j=hr(m[T]);if(!(A=o!=null&&_(o,j)))break;o=o[j]}return A||++T!=O?A:(O=o==null?0:o.length,!!O&&cl(O)&&Ar(j,O)&&(ze(o)||Ri(o)))}function M_(o){var m=o.length,_=new o.constructor(m);return m&&typeof o[0]=="string"&&Je.call(o,"index")&&(_.index=o.index,_.input=o.input),_}function om(o){return typeof o.constructor=="function"&&!wa(o)?cs(No(o)):{}}function A_(o,m,_){var T=o.constructor;switch(m){case $e:return Gc(o);case ae:case J:return new T(+o);case mt:return g_(o,_);case ut:case Gn:case Er:case tn:case ia:case ts:case sa:case aa:case sc:return Vg(o,_);case X:return new T;case ce:case oe:return new T(o);case Ie:return m_(o);case Ee:return new T;case Me:return v_(o)}}function D_(o,m){var _=m.length;if(!_)return o;var T=_-1;return m[T]=(_>1?"& ":"")+m[T],m=m.join(_>2?", ":" "),o.replace(I2,`{
/* [wrapped with `+m+`] */
`)}function R_(o){return ze(o)||Ri(o)||!!(hg&&o&&o[hg])}function Ar(o,m){var _=typeof o;return m=m==null?ee:m,!!m&&(_=="number"||_!="symbol"&&X2.test(o))&&o>-1&&o%1==0&&o<m}function $t(o,m,_){if(!ht(_))return!1;var T=typeof m;return(T=="number"?rn(_)&&Ar(m,_.length):T=="string"&&m in _)?$n(_[m],o):!1}function Jc(o,m){if(ze(o))return!1;var _=typeof o;return _=="number"||_=="symbol"||_=="boolean"||o==null||mn(o)?!0:M2.test(o)||!L2.test(o)||m!=null&&o in tt(m)}function I_(o){var m=typeof o;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?o!=="__proto__":o===null}function ef(o){var m=nl(o),_=L[m];if(typeof _!="function"||!(m in Xe.prototype))return!1;if(o===_)return!0;var T=qc(_);return!!T&&o===T[0]}function F_(o){return!!lg&&lg in o}var N_=Ao?Dr:yf;function wa(o){var m=o&&o.constructor,_=typeof m=="function"&&m.prototype||os;return o===_}function lm(o){return o===o&&!ht(o)}function um(o,m){return function(_){return _==null?!1:_[o]===m&&(m!==n||o in tt(_))}}function B_(o){var m=ll(o,function(T){return _.size===h&&_.clear(),T}),_=m.cache;return m}function j_(o,m){var _=o[1],T=m[1],O=_|T,A=O<(p|v|k),j=T==k&&_==C||T==k&&_==D&&o[7].length<=m[8]||T==(k|D)&&m[7].length<=m[8]&&_==C;if(!(A||j))return o;T&p&&(o[2]=m[2],O|=_&p?0:w);var H=m[3];if(H){var K=o[3];o[3]=K?Gg(K,H,m[4]):H,o[4]=K?Kr(o[3],g):m[4]}return H=m[5],H&&(K=o[5],o[5]=K?Xg(K,H,m[6]):H,o[6]=K?Kr(o[5],g):m[6]),H=m[7],H&&(o[7]=H),T&k&&(o[8]=o[8]==null?m[8]:zt(o[8],m[8])),o[9]==null&&(o[9]=m[9]),o[0]=m[0],o[1]=O,o}function z_(o){var m=[];if(o!=null)for(var _ in tt(o))m.push(_);return m}function W_(o){return Ro.call(o)}function cm(o,m,_){return m=Ot(m===n?o.length-1:m,0),function(){for(var T=arguments,O=-1,A=Ot(T.length-m,0),j=ne(A);++O<A;)j[O]=T[m+O];O=-1;for(var H=ne(m+1);++O<m;)H[O]=T[O];return H[m]=_(j),dn(o,this,H)}}function fm(o,m){return m.length<2?o:Mi(o,Rn(m,0,-1))}function H_(o,m){for(var _=o.length,T=zt(m.length,_),O=nn(o);T--;){var A=m[T];o[T]=Ar(A,_)?O[A]:n}return o}function tf(o,m){if(!(m==="constructor"&&typeof o[m]=="function")&&m!="__proto__")return o[m]}var hm=pm(Ig),Sa=rC||function(o,m){return Rt.setTimeout(o,m)},nf=pm(f_);function dm(o,m,_){var T=m+"";return nf(o,D_(T,V_(L_(T),_)))}function pm(o){var m=0,_=0;return function(){var T=oC(),O=Z-(T-_);if(_=T,O>0){if(++m>=re)return arguments[0]}else m=0;return o.apply(n,arguments)}}function il(o,m){var _=-1,T=o.length,O=T-1;for(m=m===n?T:m;++_<m;){var A=Bc(_,O),j=o[A];o[A]=o[_],o[_]=j}return o.length=m,o}var gm=B_(function(o){var m=[];return o.charCodeAt(0)===46&&m.push(""),o.replace(A2,function(_,T,O,A){m.push(O?A.replace(z2,"$1"):T||_)}),m});function hr(o){if(typeof o=="string"||mn(o))return o;var m=o+"";return m=="0"&&1/o==-be?"-0":m}function Di(o){if(o!=null){try{return Do.call(o)}catch{}try{return o+""}catch{}}return""}function V_(o,m){return Ln(F,function(_){var T="_."+_[0];m&_[1]&&!Po(o,T)&&o.push(T)}),o.sort()}function mm(o){if(o instanceof Xe)return o.clone();var m=new An(o.__wrapped__,o.__chain__);return m.__actions__=nn(o.__actions__),m.__index__=o.__index__,m.__values__=o.__values__,m}function U_(o,m,_){(_?$t(o,m,_):m===n)?m=1:m=Ot(We(m),0);var T=o==null?0:o.length;if(!T||m<1)return[];for(var O=0,A=0,j=ne(zo(T/m));O<T;)j[A++]=Rn(o,O,O+=m);return j}function G_(o){for(var m=-1,_=o==null?0:o.length,T=0,O=[];++m<_;){var A=o[m];A&&(O[T++]=A)}return O}function X_(){var o=arguments.length;if(!o)return[];for(var m=ne(o-1),_=arguments[0],T=o;T--;)m[T-1]=arguments[T];return $r(ze(_)?nn(_):[_],It(m,1))}var Y_=Ue(function(o,m){return St(o)?pa(o,It(m,1,St,!0)):[]}),$_=Ue(function(o,m){var _=In(m);return St(_)&&(_=n),St(o)?pa(o,It(m,1,St,!0),Re(_,2)):[]}),K_=Ue(function(o,m){var _=In(m);return St(_)&&(_=n),St(o)?pa(o,It(m,1,St,!0),n,_):[]});function q_(o,m,_){var T=o==null?0:o.length;return T?(m=_||m===n?1:We(m),Rn(o,m<0?0:m,T)):[]}function Z_(o,m,_){var T=o==null?0:o.length;return T?(m=_||m===n?1:We(m),m=T-m,Rn(o,0,m<0?0:m)):[]}function Q_(o,m){return o&&o.length?qo(o,Re(m,3),!0,!0):[]}function J_(o,m){return o&&o.length?qo(o,Re(m,3),!0):[]}function ex(o,m,_,T){var O=o==null?0:o.length;return O?(_&&typeof _!="number"&&$t(o,m,_)&&(_=0,T=O),XC(o,m,_,T)):[]}function vm(o,m,_){var T=o==null?0:o.length;if(!T)return-1;var O=_==null?0:We(_);return O<0&&(O=Ot(T+O,0)),ko(o,Re(m,3),O)}function ym(o,m,_){var T=o==null?0:o.length;if(!T)return-1;var O=T-1;return _!==n&&(O=We(_),O=_<0?Ot(T+O,0):zt(O,T-1)),ko(o,Re(m,3),O,!0)}function wm(o){var m=o==null?0:o.length;return m?It(o,1):[]}function tx(o){var m=o==null?0:o.length;return m?It(o,be):[]}function nx(o,m){var _=o==null?0:o.length;return _?(m=m===n?1:We(m),It(o,m)):[]}function rx(o){for(var m=-1,_=o==null?0:o.length,T={};++m<_;){var O=o[m];T[O[0]]=O[1]}return T}function Sm(o){return o&&o.length?o[0]:n}function ix(o,m,_){var T=o==null?0:o.length;if(!T)return-1;var O=_==null?0:We(_);return O<0&&(O=Ot(T+O,0)),rs(o,m,O)}function sx(o){var m=o==null?0:o.length;return m?Rn(o,0,-1):[]}var ax=Ue(function(o){var m=ct(o,Vc);return m.length&&m[0]===o[0]?Dc(m):[]}),ox=Ue(function(o){var m=In(o),_=ct(o,Vc);return m===In(_)?m=n:_.pop(),_.length&&_[0]===o[0]?Dc(_,Re(m,2)):[]}),lx=Ue(function(o){var m=In(o),_=ct(o,Vc);return m=typeof m=="function"?m:n,m&&_.pop(),_.length&&_[0]===o[0]?Dc(_,n,m):[]});function ux(o,m){return o==null?"":sC.call(o,m)}function In(o){var m=o==null?0:o.length;return m?o[m-1]:n}function cx(o,m,_){var T=o==null?0:o.length;if(!T)return-1;var O=T;return _!==n&&(O=We(_),O=O<0?Ot(T+O,0):zt(O,T-1)),m===m?VS(o,m,O):ko(o,eg,O,!0)}function fx(o,m){return o&&o.length?Mg(o,We(m)):n}var hx=Ue(Cm);function Cm(o,m){return o&&o.length&&m&&m.length?Nc(o,m):o}function dx(o,m,_){return o&&o.length&&m&&m.length?Nc(o,m,Re(_,2)):o}function px(o,m,_){return o&&o.length&&m&&m.length?Nc(o,m,n,_):o}var gx=Mr(function(o,m){var _=o==null?0:o.length,T=kc(o,m);return Rg(o,ct(m,function(O){return Ar(O,_)?+O:O}).sort(Ug)),T});function mx(o,m){var _=[];if(!(o&&o.length))return _;var T=-1,O=[],A=o.length;for(m=Re(m,3);++T<A;){var j=o[T];m(j,T,o)&&(_.push(j),O.push(T))}return Rg(o,O),_}function rf(o){return o==null?o:uC.call(o)}function vx(o,m,_){var T=o==null?0:o.length;return T?(_&&typeof _!="number"&&$t(o,m,_)?(m=0,_=T):(m=m==null?0:We(m),_=_===n?T:We(_)),Rn(o,m,_)):[]}function yx(o,m){return Ko(o,m)}function wx(o,m,_){return zc(o,m,Re(_,2))}function Sx(o,m){var _=o==null?0:o.length;if(_){var T=Ko(o,m);if(T<_&&$n(o[T],m))return T}return-1}function Cx(o,m){return Ko(o,m,!0)}function _x(o,m,_){return zc(o,m,Re(_,2),!0)}function xx(o,m){var _=o==null?0:o.length;if(_){var T=Ko(o,m,!0)-1;if($n(o[T],m))return T}return-1}function bx(o){return o&&o.length?Fg(o):[]}function Tx(o,m){return o&&o.length?Fg(o,Re(m,2)):[]}function Ex(o){var m=o==null?0:o.length;return m?Rn(o,1,m):[]}function Ox(o,m,_){return o&&o.length?(m=_||m===n?1:We(m),Rn(o,0,m<0?0:m)):[]}function Px(o,m,_){var T=o==null?0:o.length;return T?(m=_||m===n?1:We(m),m=T-m,Rn(o,m<0?0:m,T)):[]}function kx(o,m){return o&&o.length?qo(o,Re(m,3),!1,!0):[]}function Lx(o,m){return o&&o.length?qo(o,Re(m,3)):[]}var Mx=Ue(function(o){return Qr(It(o,1,St,!0))}),Ax=Ue(function(o){var m=In(o);return St(m)&&(m=n),Qr(It(o,1,St,!0),Re(m,2))}),Dx=Ue(function(o){var m=In(o);return m=typeof m=="function"?m:n,Qr(It(o,1,St,!0),n,m)});function Rx(o){return o&&o.length?Qr(o):[]}function Ix(o,m){return o&&o.length?Qr(o,Re(m,2)):[]}function Fx(o,m){return m=typeof m=="function"?m:n,o&&o.length?Qr(o,n,m):[]}function sf(o){if(!(o&&o.length))return[];var m=0;return o=Yr(o,function(_){if(St(_))return m=Ot(_.length,m),!0}),Cc(m,function(_){return ct(o,yc(_))})}function _m(o,m){if(!(o&&o.length))return[];var _=sf(o);return m==null?_:ct(_,function(T){return dn(m,n,T)})}var Nx=Ue(function(o,m){return St(o)?pa(o,m):[]}),Bx=Ue(function(o){return Hc(Yr(o,St))}),jx=Ue(function(o){var m=In(o);return St(m)&&(m=n),Hc(Yr(o,St),Re(m,2))}),zx=Ue(function(o){var m=In(o);return m=typeof m=="function"?m:n,Hc(Yr(o,St),n,m)}),Wx=Ue(sf);function Hx(o,m){return zg(o||[],m||[],da)}function Vx(o,m){return zg(o||[],m||[],va)}var Ux=Ue(function(o){var m=o.length,_=m>1?o[m-1]:n;return _=typeof _=="function"?(o.pop(),_):n,_m(o,_)});function xm(o){var m=L(o);return m.__chain__=!0,m}function Gx(o,m){return m(o),o}function sl(o,m){return m(o)}var Xx=Mr(function(o){var m=o.length,_=m?o[0]:0,T=this.__wrapped__,O=function(A){return kc(A,o)};return m>1||this.__actions__.length||!(T instanceof Xe)||!Ar(_)?this.thru(O):(T=T.slice(_,+_+(m?1:0)),T.__actions__.push({func:sl,args:[O],thisArg:n}),new An(T,this.__chain__).thru(function(A){return m&&!A.length&&A.push(n),A}))});function Yx(){return xm(this)}function $x(){return new An(this.value(),this.__chain__)}function Kx(){this.__values__===n&&(this.__values__=Nm(this.value()));var o=this.__index__>=this.__values__.length,m=o?n:this.__values__[this.__index__++];return{done:o,value:m}}function qx(){return this}function Zx(o){for(var m,_=this;_ instanceof Uo;){var T=mm(_);T.__index__=0,T.__values__=n,m?O.__wrapped__=T:m=T;var O=T;_=_.__wrapped__}return O.__wrapped__=o,m}function Qx(){var o=this.__wrapped__;if(o instanceof Xe){var m=o;return this.__actions__.length&&(m=new Xe(this)),m=m.reverse(),m.__actions__.push({func:sl,args:[rf],thisArg:n}),new An(m,this.__chain__)}return this.thru(rf)}function Jx(){return jg(this.__wrapped__,this.__actions__)}var eb=Zo(function(o,m,_){Je.call(o,_)?++o[_]:kr(o,_,1)});function tb(o,m,_){var T=ze(o)?Qp:GC;return _&&$t(o,m,_)&&(m=n),T(o,Re(m,3))}function nb(o,m){var _=ze(o)?Yr:_g;return _(o,Re(m,3))}var rb=qg(vm),ib=qg(ym);function sb(o,m){return It(al(o,m),1)}function ab(o,m){return It(al(o,m),be)}function ob(o,m,_){return _=_===n?1:We(_),It(al(o,m),_)}function bm(o,m){var _=ze(o)?Ln:Zr;return _(o,Re(m,3))}function Tm(o,m){var _=ze(o)?ES:Cg;return _(o,Re(m,3))}var lb=Zo(function(o,m,_){Je.call(o,_)?o[_].push(m):kr(o,_,[m])});function ub(o,m,_,T){o=rn(o)?o:gs(o),_=_&&!T?We(_):0;var O=o.length;return _<0&&(_=Ot(O+_,0)),fl(o)?_<=O&&o.indexOf(m,_)>-1:!!O&&rs(o,m,_)>-1}var cb=Ue(function(o,m,_){var T=-1,O=typeof m=="function",A=rn(o)?ne(o.length):[];return Zr(o,function(j){A[++T]=O?dn(m,j,_):ga(j,m,_)}),A}),fb=Zo(function(o,m,_){kr(o,_,m)});function al(o,m){var _=ze(o)?ct:Pg;return _(o,Re(m,3))}function hb(o,m,_,T){return o==null?[]:(ze(m)||(m=m==null?[]:[m]),_=T?n:_,ze(_)||(_=_==null?[]:[_]),Ag(o,m,_))}var db=Zo(function(o,m,_){o[_?0:1].push(m)},function(){return[[],[]]});function pb(o,m,_){var T=ze(o)?mc:ng,O=arguments.length<3;return T(o,Re(m,4),_,O,Zr)}function gb(o,m,_){var T=ze(o)?OS:ng,O=arguments.length<3;return T(o,Re(m,4),_,O,Cg)}function mb(o,m){var _=ze(o)?Yr:_g;return _(o,ul(Re(m,3)))}function vb(o){var m=ze(o)?vg:u_;return m(o)}function yb(o,m,_){(_?$t(o,m,_):m===n)?m=1:m=We(m);var T=ze(o)?zC:c_;return T(o,m)}function wb(o){var m=ze(o)?WC:h_;return m(o)}function Sb(o){if(o==null)return 0;if(rn(o))return fl(o)?ss(o):o.length;var m=Wt(o);return m==X||m==Ee?o.size:Ic(o).length}function Cb(o,m,_){var T=ze(o)?vc:d_;return _&&$t(o,m,_)&&(m=n),T(o,Re(m,3))}var _b=Ue(function(o,m){if(o==null)return[];var _=m.length;return _>1&&$t(o,m[0],m[1])?m=[]:_>2&&$t(m[0],m[1],m[2])&&(m=[m[0]]),Ag(o,It(m,1),[])}),ol=nC||function(){return Rt.Date.now()};function xb(o,m){if(typeof m!="function")throw new Mn(S);return o=We(o),function(){if(--o<1)return m.apply(this,arguments)}}function Em(o,m,_){return m=_?n:m,m=o&&m==null?o.length:m,Lr(o,k,n,n,n,n,m)}function Om(o,m){var _;if(typeof m!="function")throw new Mn(S);return o=We(o),function(){return--o>0&&(_=m.apply(this,arguments)),o<=1&&(m=n),_}}var af=Ue(function(o,m,_){var T=p;if(_.length){var O=Kr(_,ds(af));T|=b}return Lr(o,T,m,_,O)}),Pm=Ue(function(o,m,_){var T=p|v;if(_.length){var O=Kr(_,ds(Pm));T|=b}return Lr(m,T,o,_,O)});function km(o,m,_){m=_?n:m;var T=Lr(o,C,n,n,n,n,n,m);return T.placeholder=km.placeholder,T}function Lm(o,m,_){m=_?n:m;var T=Lr(o,x,n,n,n,n,n,m);return T.placeholder=Lm.placeholder,T}function Mm(o,m,_){var T,O,A,j,H,K,de=0,pe=!1,we=!1,Te=!0;if(typeof o!="function")throw new Mn(S);m=Fn(m)||0,ht(_)&&(pe=!!_.leading,we="maxWait"in _,A=we?Ot(Fn(_.maxWait)||0,m):A,Te="trailing"in _?!!_.trailing:Te);function Ae(Ct){var Kn=T,Ir=O;return T=O=n,de=Ct,j=o.apply(Ir,Kn),j}function Fe(Ct){return de=Ct,H=Sa(Ge,m),pe?Ae(Ct):j}function Ve(Ct){var Kn=Ct-K,Ir=Ct-de,qm=m-Kn;return we?zt(qm,A-Ir):qm}function Ne(Ct){var Kn=Ct-K,Ir=Ct-de;return K===n||Kn>=m||Kn<0||we&&Ir>=A}function Ge(){var Ct=ol();if(Ne(Ct))return Ke(Ct);H=Sa(Ge,Ve(Ct))}function Ke(Ct){return H=n,Te&&T?Ae(Ct):(T=O=n,j)}function vn(){H!==n&&Wg(H),de=0,T=K=O=H=n}function Kt(){return H===n?j:Ke(ol())}function yn(){var Ct=ol(),Kn=Ne(Ct);if(T=arguments,O=this,K=Ct,Kn){if(H===n)return Fe(K);if(we)return Wg(H),H=Sa(Ge,m),Ae(K)}return H===n&&(H=Sa(Ge,m)),j}return yn.cancel=vn,yn.flush=Kt,yn}var bb=Ue(function(o,m){return Sg(o,1,m)}),Tb=Ue(function(o,m,_){return Sg(o,Fn(m)||0,_)});function Eb(o){return Lr(o,B)}function ll(o,m){if(typeof o!="function"||m!=null&&typeof m!="function")throw new Mn(S);var _=function(){var T=arguments,O=m?m.apply(this,T):T[0],A=_.cache;if(A.has(O))return A.get(O);var j=o.apply(this,T);return _.cache=A.set(O,j)||A,j};return _.cache=new(ll.Cache||Pr),_}ll.Cache=Pr;function ul(o){if(typeof o!="function")throw new Mn(S);return function(){var m=arguments;switch(m.length){case 0:return!o.call(this);case 1:return!o.call(this,m[0]);case 2:return!o.call(this,m[0],m[1]);case 3:return!o.call(this,m[0],m[1],m[2])}return!o.apply(this,m)}}function Ob(o){return Om(2,o)}var Pb=p_(function(o,m){m=m.length==1&&ze(m[0])?ct(m[0],pn(Re())):ct(It(m,1),pn(Re()));var _=m.length;return Ue(function(T){for(var O=-1,A=zt(T.length,_);++O<A;)T[O]=m[O].call(this,T[O]);return dn(o,this,T)})}),of=Ue(function(o,m){var _=Kr(m,ds(of));return Lr(o,b,n,m,_)}),Am=Ue(function(o,m){var _=Kr(m,ds(Am));return Lr(o,E,n,m,_)}),kb=Mr(function(o,m){return Lr(o,D,n,n,n,m)});function Lb(o,m){if(typeof o!="function")throw new Mn(S);return m=m===n?m:We(m),Ue(o,m)}function Mb(o,m){if(typeof o!="function")throw new Mn(S);return m=m==null?0:Ot(We(m),0),Ue(function(_){var T=_[m],O=ei(_,0,m);return T&&$r(O,T),dn(o,this,O)})}function Ab(o,m,_){var T=!0,O=!0;if(typeof o!="function")throw new Mn(S);return ht(_)&&(T="leading"in _?!!_.leading:T,O="trailing"in _?!!_.trailing:O),Mm(o,m,{leading:T,maxWait:m,trailing:O})}function Db(o){return Em(o,1)}function Rb(o,m){return of(Uc(m),o)}function Ib(){if(!arguments.length)return[];var o=arguments[0];return ze(o)?o:[o]}function Fb(o){return Dn(o,l)}function Nb(o,m){return m=typeof m=="function"?m:n,Dn(o,l,m)}function Bb(o){return Dn(o,a|l)}function jb(o,m){return m=typeof m=="function"?m:n,Dn(o,a|l,m)}function zb(o,m){return m==null||wg(o,m,Lt(m))}function $n(o,m){return o===m||o!==o&&m!==m}var Wb=tl(Ac),Hb=tl(function(o,m){return o>=m}),Ri=Tg(function(){return arguments}())?Tg:function(o){return vt(o)&&Je.call(o,"callee")&&!fg.call(o,"callee")},ze=ne.isArray,Vb=Xp?pn(Xp):ZC;function rn(o){return o!=null&&cl(o.length)&&!Dr(o)}function St(o){return vt(o)&&rn(o)}function Ub(o){return o===!0||o===!1||vt(o)&&Yt(o)==ae}var ti=iC||yf,Gb=Yp?pn(Yp):QC;function Xb(o){return vt(o)&&o.nodeType===1&&!Ca(o)}function Yb(o){if(o==null)return!0;if(rn(o)&&(ze(o)||typeof o=="string"||typeof o.splice=="function"||ti(o)||ps(o)||Ri(o)))return!o.length;var m=Wt(o);if(m==X||m==Ee)return!o.size;if(wa(o))return!Ic(o).length;for(var _ in o)if(Je.call(o,_))return!1;return!0}function $b(o,m){return ma(o,m)}function Kb(o,m,_){_=typeof _=="function"?_:n;var T=_?_(o,m):n;return T===n?ma(o,m,n,_):!!T}function lf(o){if(!vt(o))return!1;var m=Yt(o);return m==ye||m==fe||typeof o.message=="string"&&typeof o.name=="string"&&!Ca(o)}function qb(o){return typeof o=="number"&&dg(o)}function Dr(o){if(!ht(o))return!1;var m=Yt(o);return m==_e||m==ie||m==q||m==xe}function Dm(o){return typeof o=="number"&&o==We(o)}function cl(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=ee}function ht(o){var m=typeof o;return o!=null&&(m=="object"||m=="function")}function vt(o){return o!=null&&typeof o=="object"}var Rm=$p?pn($p):e_;function Zb(o,m){return o===m||Rc(o,m,Zc(m))}function Qb(o,m,_){return _=typeof _=="function"?_:n,Rc(o,m,Zc(m),_)}function Jb(o){return Im(o)&&o!=+o}function e5(o){if(N_(o))throw new je(c);return Eg(o)}function t5(o){return o===null}function n5(o){return o==null}function Im(o){return typeof o=="number"||vt(o)&&Yt(o)==ce}function Ca(o){if(!vt(o)||Yt(o)!=te)return!1;var m=No(o);if(m===null)return!0;var _=Je.call(m,"constructor")&&m.constructor;return typeof _=="function"&&_ instanceof _&&Do.call(_)==QS}var uf=Kp?pn(Kp):t_;function r5(o){return Dm(o)&&o>=-ee&&o<=ee}var Fm=qp?pn(qp):n_;function fl(o){return typeof o=="string"||!ze(o)&&vt(o)&&Yt(o)==oe}function mn(o){return typeof o=="symbol"||vt(o)&&Yt(o)==Me}var ps=Zp?pn(Zp):r_;function i5(o){return o===n}function s5(o){return vt(o)&&Wt(o)==He}function a5(o){return vt(o)&&Yt(o)==nt}var o5=tl(Fc),l5=tl(function(o,m){return o<=m});function Nm(o){if(!o)return[];if(rn(o))return fl(o)?Xn(o):nn(o);if(la&&o[la])return zS(o[la]());var m=Wt(o),_=m==X?xc:m==Ee?Lo:gs;return _(o)}function Rr(o){if(!o)return o===0?o:0;if(o=Fn(o),o===be||o===-be){var m=o<0?-1:1;return m*P}return o===o?o:0}function We(o){var m=Rr(o),_=m%1;return m===m?_?m-_:m:0}function Bm(o){return o?Li(We(o),0,I):0}function Fn(o){if(typeof o=="number")return o;if(mn(o))return R;if(ht(o)){var m=typeof o.valueOf=="function"?o.valueOf():o;o=ht(m)?m+"":m}if(typeof o!="string")return o===0?o:+o;o=rg(o);var _=V2.test(o);return _||G2.test(o)?xS(o.slice(2),_?2:8):H2.test(o)?R:+o}function jm(o){return fr(o,sn(o))}function u5(o){return o?Li(We(o),-ee,ee):o===0?o:0}function Qe(o){return o==null?"":gn(o)}var c5=fs(function(o,m){if(wa(m)||rn(m)){fr(m,Lt(m),o);return}for(var _ in m)Je.call(m,_)&&da(o,_,m[_])}),zm=fs(function(o,m){fr(m,sn(m),o)}),hl=fs(function(o,m,_,T){fr(m,sn(m),o,T)}),f5=fs(function(o,m,_,T){fr(m,Lt(m),o,T)}),h5=Mr(kc);function d5(o,m){var _=cs(o);return m==null?_:yg(_,m)}var p5=Ue(function(o,m){o=tt(o);var _=-1,T=m.length,O=T>2?m[2]:n;for(O&&$t(m[0],m[1],O)&&(T=1);++_<T;)for(var A=m[_],j=sn(A),H=-1,K=j.length;++H<K;){var de=j[H],pe=o[de];(pe===n||$n(pe,os[de])&&!Je.call(o,de))&&(o[de]=A[de])}return o}),g5=Ue(function(o){return o.push(n,rm),dn(Wm,n,o)});function m5(o,m){return Jp(o,Re(m,3),cr)}function v5(o,m){return Jp(o,Re(m,3),Mc)}function y5(o,m){return o==null?o:Lc(o,Re(m,3),sn)}function w5(o,m){return o==null?o:xg(o,Re(m,3),sn)}function S5(o,m){return o&&cr(o,Re(m,3))}function C5(o,m){return o&&Mc(o,Re(m,3))}function _5(o){return o==null?[]:Yo(o,Lt(o))}function x5(o){return o==null?[]:Yo(o,sn(o))}function cf(o,m,_){var T=o==null?n:Mi(o,m);return T===n?_:T}function b5(o,m){return o!=null&&am(o,m,YC)}function ff(o,m){return o!=null&&am(o,m,$C)}var T5=Qg(function(o,m,_){m!=null&&typeof m.toString!="function"&&(m=Ro.call(m)),o[m]=_},df(an)),E5=Qg(function(o,m,_){m!=null&&typeof m.toString!="function"&&(m=Ro.call(m)),Je.call(o,m)?o[m].push(_):o[m]=[_]},Re),O5=Ue(ga);function Lt(o){return rn(o)?mg(o):Ic(o)}function sn(o){return rn(o)?mg(o,!0):i_(o)}function P5(o,m){var _={};return m=Re(m,3),cr(o,function(T,O,A){kr(_,m(T,O,A),T)}),_}function k5(o,m){var _={};return m=Re(m,3),cr(o,function(T,O,A){kr(_,O,m(T,O,A))}),_}var L5=fs(function(o,m,_){$o(o,m,_)}),Wm=fs(function(o,m,_,T){$o(o,m,_,T)}),M5=Mr(function(o,m){var _={};if(o==null)return _;var T=!1;m=ct(m,function(A){return A=Jr(A,o),T||(T=A.length>1),A}),fr(o,Kc(o),_),T&&(_=Dn(_,a|u|l,T_));for(var O=m.length;O--;)Wc(_,m[O]);return _});function A5(o,m){return Hm(o,ul(Re(m)))}var D5=Mr(function(o,m){return o==null?{}:a_(o,m)});function Hm(o,m){if(o==null)return{};var _=ct(Kc(o),function(T){return[T]});return m=Re(m),Dg(o,_,function(T,O){return m(T,O[0])})}function R5(o,m,_){m=Jr(m,o);var T=-1,O=m.length;for(O||(O=1,o=n);++T<O;){var A=o==null?n:o[hr(m[T])];A===n&&(T=O,A=_),o=Dr(A)?A.call(o):A}return o}function I5(o,m,_){return o==null?o:va(o,m,_)}function F5(o,m,_,T){return T=typeof T=="function"?T:n,o==null?o:va(o,m,_,T)}var Vm=tm(Lt),Um=tm(sn);function N5(o,m,_){var T=ze(o),O=T||ti(o)||ps(o);if(m=Re(m,4),_==null){var A=o&&o.constructor;O?_=T?new A:[]:ht(o)?_=Dr(A)?cs(No(o)):{}:_={}}return(O?Ln:cr)(o,function(j,H,K){return m(_,j,H,K)}),_}function B5(o,m){return o==null?!0:Wc(o,m)}function j5(o,m,_){return o==null?o:Bg(o,m,Uc(_))}function z5(o,m,_,T){return T=typeof T=="function"?T:n,o==null?o:Bg(o,m,Uc(_),T)}function gs(o){return o==null?[]:_c(o,Lt(o))}function W5(o){return o==null?[]:_c(o,sn(o))}function H5(o,m,_){return _===n&&(_=m,m=n),_!==n&&(_=Fn(_),_=_===_?_:0),m!==n&&(m=Fn(m),m=m===m?m:0),Li(Fn(o),m,_)}function V5(o,m,_){return m=Rr(m),_===n?(_=m,m=0):_=Rr(_),o=Fn(o),KC(o,m,_)}function U5(o,m,_){if(_&&typeof _!="boolean"&&$t(o,m,_)&&(m=_=n),_===n&&(typeof m=="boolean"?(_=m,m=n):typeof o=="boolean"&&(_=o,o=n)),o===n&&m===n?(o=0,m=1):(o=Rr(o),m===n?(m=o,o=0):m=Rr(m)),o>m){var T=o;o=m,m=T}if(_||o%1||m%1){var O=pg();return zt(o+O*(m-o+_S("1e-"+((O+"").length-1))),m)}return Bc(o,m)}var G5=hs(function(o,m,_){return m=m.toLowerCase(),o+(_?Gm(m):m)});function Gm(o){return hf(Qe(o).toLowerCase())}function Xm(o){return o=Qe(o),o&&o.replace(Y2,IS).replace(hS,"")}function X5(o,m,_){o=Qe(o),m=gn(m);var T=o.length;_=_===n?T:Li(We(_),0,T);var O=_;return _-=m.length,_>=0&&o.slice(_,O)==m}function Y5(o){return o=Qe(o),o&&O2.test(o)?o.replace(xp,FS):o}function $5(o){return o=Qe(o),o&&D2.test(o)?o.replace(ac,"\\$&"):o}var K5=hs(function(o,m,_){return o+(_?"-":"")+m.toLowerCase()}),q5=hs(function(o,m,_){return o+(_?" ":"")+m.toLowerCase()}),Z5=Kg("toLowerCase");function Q5(o,m,_){o=Qe(o),m=We(m);var T=m?ss(o):0;if(!m||T>=m)return o;var O=(m-T)/2;return el(Wo(O),_)+o+el(zo(O),_)}function J5(o,m,_){o=Qe(o),m=We(m);var T=m?ss(o):0;return m&&T<m?o+el(m-T,_):o}function eT(o,m,_){o=Qe(o),m=We(m);var T=m?ss(o):0;return m&&T<m?el(m-T,_)+o:o}function tT(o,m,_){return _||m==null?m=0:m&&(m=+m),lC(Qe(o).replace(oc,""),m||0)}function nT(o,m,_){return(_?$t(o,m,_):m===n)?m=1:m=We(m),jc(Qe(o),m)}function rT(){var o=arguments,m=Qe(o[0]);return o.length<3?m:m.replace(o[1],o[2])}var iT=hs(function(o,m,_){return o+(_?"_":"")+m.toLowerCase()});function sT(o,m,_){return _&&typeof _!="number"&&$t(o,m,_)&&(m=_=n),_=_===n?I:_>>>0,_?(o=Qe(o),o&&(typeof m=="string"||m!=null&&!uf(m))&&(m=gn(m),!m&&is(o))?ei(Xn(o),0,_):o.split(m,_)):[]}var aT=hs(function(o,m,_){return o+(_?" ":"")+hf(m)});function oT(o,m,_){return o=Qe(o),_=_==null?0:Li(We(_),0,o.length),m=gn(m),o.slice(_,_+m.length)==m}function lT(o,m,_){var T=L.templateSettings;_&&$t(o,m,_)&&(m=n),o=Qe(o),m=hl({},m,T,nm);var O=hl({},m.imports,T.imports,nm),A=Lt(O),j=_c(O,A),H,K,de=0,pe=m.interpolate||To,we="__p += '",Te=bc((m.escape||To).source+"|"+pe.source+"|"+(pe===bp?W2:To).source+"|"+(m.evaluate||To).source+"|$","g"),Ae="//# sourceURL="+(Je.call(m,"sourceURL")?(m.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++vS+"]")+`
`;o.replace(Te,function(Ne,Ge,Ke,vn,Kt,yn){return Ke||(Ke=vn),we+=o.slice(de,yn).replace($2,NS),Ge&&(H=!0,we+=`' +
__e(`+Ge+`) +
'`),Kt&&(K=!0,we+=`';
`+Kt+`;
__p += '`),Ke&&(we+=`' +
((__t = (`+Ke+`)) == null ? '' : __t) +
'`),de=yn+Ne.length,Ne}),we+=`';
`;var Fe=Je.call(m,"variable")&&m.variable;if(!Fe)we=`with (obj) {
`+we+`
}
`;else if(j2.test(Fe))throw new je(f);we=(K?we.replace(x2,""):we).replace(b2,"$1").replace(T2,"$1;"),we="function("+(Fe||"obj")+`) {
`+(Fe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(H?", __e = _.escape":"")+(K?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+we+`return __p
}`;var Ve=$m(function(){return Ze(A,Ae+"return "+we).apply(n,j)});if(Ve.source=we,lf(Ve))throw Ve;return Ve}function uT(o){return Qe(o).toLowerCase()}function cT(o){return Qe(o).toUpperCase()}function fT(o,m,_){if(o=Qe(o),o&&(_||m===n))return rg(o);if(!o||!(m=gn(m)))return o;var T=Xn(o),O=Xn(m),A=ig(T,O),j=sg(T,O)+1;return ei(T,A,j).join("")}function hT(o,m,_){if(o=Qe(o),o&&(_||m===n))return o.slice(0,og(o)+1);if(!o||!(m=gn(m)))return o;var T=Xn(o),O=sg(T,Xn(m))+1;return ei(T,0,O).join("")}function dT(o,m,_){if(o=Qe(o),o&&(_||m===n))return o.replace(oc,"");if(!o||!(m=gn(m)))return o;var T=Xn(o),O=ig(T,Xn(m));return ei(T,O).join("")}function pT(o,m){var _=W,T=$;if(ht(m)){var O="separator"in m?m.separator:O;_="length"in m?We(m.length):_,T="omission"in m?gn(m.omission):T}o=Qe(o);var A=o.length;if(is(o)){var j=Xn(o);A=j.length}if(_>=A)return o;var H=_-ss(T);if(H<1)return T;var K=j?ei(j,0,H).join(""):o.slice(0,H);if(O===n)return K+T;if(j&&(H+=K.length-H),uf(O)){if(o.slice(H).search(O)){var de,pe=K;for(O.global||(O=bc(O.source,Qe(Tp.exec(O))+"g")),O.lastIndex=0;de=O.exec(pe);)var we=de.index;K=K.slice(0,we===n?H:we)}}else if(o.indexOf(gn(O),H)!=H){var Te=K.lastIndexOf(O);Te>-1&&(K=K.slice(0,Te))}return K+T}function gT(o){return o=Qe(o),o&&E2.test(o)?o.replace(_p,US):o}var mT=hs(function(o,m,_){return o+(_?" ":"")+m.toUpperCase()}),hf=Kg("toUpperCase");function Ym(o,m,_){return o=Qe(o),m=_?n:m,m===n?jS(o)?YS(o):LS(o):o.match(m)||[]}var $m=Ue(function(o,m){try{return dn(o,n,m)}catch(_){return lf(_)?_:new je(_)}}),vT=Mr(function(o,m){return Ln(m,function(_){_=hr(_),kr(o,_,af(o[_],o))}),o});function yT(o){var m=o==null?0:o.length,_=Re();return o=m?ct(o,function(T){if(typeof T[1]!="function")throw new Mn(S);return[_(T[0]),T[1]]}):[],Ue(function(T){for(var O=-1;++O<m;){var A=o[O];if(dn(A[0],this,T))return dn(A[1],this,T)}})}function wT(o){return UC(Dn(o,a))}function df(o){return function(){return o}}function ST(o,m){return o==null||o!==o?m:o}var CT=Zg(),_T=Zg(!0);function an(o){return o}function pf(o){return Og(typeof o=="function"?o:Dn(o,a))}function xT(o){return kg(Dn(o,a))}function bT(o,m){return Lg(o,Dn(m,a))}var TT=Ue(function(o,m){return function(_){return ga(_,o,m)}}),ET=Ue(function(o,m){return function(_){return ga(o,_,m)}});function gf(o,m,_){var T=Lt(m),O=Yo(m,T);_==null&&!(ht(m)&&(O.length||!T.length))&&(_=m,m=o,o=this,O=Yo(m,Lt(m)));var A=!(ht(_)&&"chain"in _)||!!_.chain,j=Dr(o);return Ln(O,function(H){var K=m[H];o[H]=K,j&&(o.prototype[H]=function(){var de=this.__chain__;if(A||de){var pe=o(this.__wrapped__),we=pe.__actions__=nn(this.__actions__);return we.push({func:K,args:arguments,thisArg:o}),pe.__chain__=de,pe}return K.apply(o,$r([this.value()],arguments))})}),o}function OT(){return Rt._===this&&(Rt._=JS),this}function mf(){}function PT(o){return o=We(o),Ue(function(m){return Mg(m,o)})}var kT=Xc(ct),LT=Xc(Qp),MT=Xc(vc);function Km(o){return Jc(o)?yc(hr(o)):o_(o)}function AT(o){return function(m){return o==null?n:Mi(o,m)}}var DT=Jg(),RT=Jg(!0);function vf(){return[]}function yf(){return!1}function IT(){return{}}function FT(){return""}function NT(){return!0}function BT(o,m){if(o=We(o),o<1||o>ee)return[];var _=I,T=zt(o,I);m=Re(m),o-=I;for(var O=Cc(T,m);++_<o;)m(_);return O}function jT(o){return ze(o)?ct(o,hr):mn(o)?[o]:nn(gm(Qe(o)))}function zT(o){var m=++ZS;return Qe(o)+m}var WT=Jo(function(o,m){return o+m},0),HT=Yc("ceil"),VT=Jo(function(o,m){return o/m},1),UT=Yc("floor");function GT(o){return o&&o.length?Xo(o,an,Ac):n}function XT(o,m){return o&&o.length?Xo(o,Re(m,2),Ac):n}function YT(o){return tg(o,an)}function $T(o,m){return tg(o,Re(m,2))}function KT(o){return o&&o.length?Xo(o,an,Fc):n}function qT(o,m){return o&&o.length?Xo(o,Re(m,2),Fc):n}var ZT=Jo(function(o,m){return o*m},1),QT=Yc("round"),JT=Jo(function(o,m){return o-m},0);function e3(o){return o&&o.length?Sc(o,an):0}function t3(o,m){return o&&o.length?Sc(o,Re(m,2)):0}return L.after=xb,L.ary=Em,L.assign=c5,L.assignIn=zm,L.assignInWith=hl,L.assignWith=f5,L.at=h5,L.before=Om,L.bind=af,L.bindAll=vT,L.bindKey=Pm,L.castArray=Ib,L.chain=xm,L.chunk=U_,L.compact=G_,L.concat=X_,L.cond=yT,L.conforms=wT,L.constant=df,L.countBy=eb,L.create=d5,L.curry=km,L.curryRight=Lm,L.debounce=Mm,L.defaults=p5,L.defaultsDeep=g5,L.defer=bb,L.delay=Tb,L.difference=Y_,L.differenceBy=$_,L.differenceWith=K_,L.drop=q_,L.dropRight=Z_,L.dropRightWhile=Q_,L.dropWhile=J_,L.fill=ex,L.filter=nb,L.flatMap=sb,L.flatMapDeep=ab,L.flatMapDepth=ob,L.flatten=wm,L.flattenDeep=tx,L.flattenDepth=nx,L.flip=Eb,L.flow=CT,L.flowRight=_T,L.fromPairs=rx,L.functions=_5,L.functionsIn=x5,L.groupBy=lb,L.initial=sx,L.intersection=ax,L.intersectionBy=ox,L.intersectionWith=lx,L.invert=T5,L.invertBy=E5,L.invokeMap=cb,L.iteratee=pf,L.keyBy=fb,L.keys=Lt,L.keysIn=sn,L.map=al,L.mapKeys=P5,L.mapValues=k5,L.matches=xT,L.matchesProperty=bT,L.memoize=ll,L.merge=L5,L.mergeWith=Wm,L.method=TT,L.methodOf=ET,L.mixin=gf,L.negate=ul,L.nthArg=PT,L.omit=M5,L.omitBy=A5,L.once=Ob,L.orderBy=hb,L.over=kT,L.overArgs=Pb,L.overEvery=LT,L.overSome=MT,L.partial=of,L.partialRight=Am,L.partition=db,L.pick=D5,L.pickBy=Hm,L.property=Km,L.propertyOf=AT,L.pull=hx,L.pullAll=Cm,L.pullAllBy=dx,L.pullAllWith=px,L.pullAt=gx,L.range=DT,L.rangeRight=RT,L.rearg=kb,L.reject=mb,L.remove=mx,L.rest=Lb,L.reverse=rf,L.sampleSize=yb,L.set=I5,L.setWith=F5,L.shuffle=wb,L.slice=vx,L.sortBy=_b,L.sortedUniq=bx,L.sortedUniqBy=Tx,L.split=sT,L.spread=Mb,L.tail=Ex,L.take=Ox,L.takeRight=Px,L.takeRightWhile=kx,L.takeWhile=Lx,L.tap=Gx,L.throttle=Ab,L.thru=sl,L.toArray=Nm,L.toPairs=Vm,L.toPairsIn=Um,L.toPath=jT,L.toPlainObject=jm,L.transform=N5,L.unary=Db,L.union=Mx,L.unionBy=Ax,L.unionWith=Dx,L.uniq=Rx,L.uniqBy=Ix,L.uniqWith=Fx,L.unset=B5,L.unzip=sf,L.unzipWith=_m,L.update=j5,L.updateWith=z5,L.values=gs,L.valuesIn=W5,L.without=Nx,L.words=Ym,L.wrap=Rb,L.xor=Bx,L.xorBy=jx,L.xorWith=zx,L.zip=Wx,L.zipObject=Hx,L.zipObjectDeep=Vx,L.zipWith=Ux,L.entries=Vm,L.entriesIn=Um,L.extend=zm,L.extendWith=hl,gf(L,L),L.add=WT,L.attempt=$m,L.camelCase=G5,L.capitalize=Gm,L.ceil=HT,L.clamp=H5,L.clone=Fb,L.cloneDeep=Bb,L.cloneDeepWith=jb,L.cloneWith=Nb,L.conformsTo=zb,L.deburr=Xm,L.defaultTo=ST,L.divide=VT,L.endsWith=X5,L.eq=$n,L.escape=Y5,L.escapeRegExp=$5,L.every=tb,L.find=rb,L.findIndex=vm,L.findKey=m5,L.findLast=ib,L.findLastIndex=ym,L.findLastKey=v5,L.floor=UT,L.forEach=bm,L.forEachRight=Tm,L.forIn=y5,L.forInRight=w5,L.forOwn=S5,L.forOwnRight=C5,L.get=cf,L.gt=Wb,L.gte=Hb,L.has=b5,L.hasIn=ff,L.head=Sm,L.identity=an,L.includes=ub,L.indexOf=ix,L.inRange=V5,L.invoke=O5,L.isArguments=Ri,L.isArray=ze,L.isArrayBuffer=Vb,L.isArrayLike=rn,L.isArrayLikeObject=St,L.isBoolean=Ub,L.isBuffer=ti,L.isDate=Gb,L.isElement=Xb,L.isEmpty=Yb,L.isEqual=$b,L.isEqualWith=Kb,L.isError=lf,L.isFinite=qb,L.isFunction=Dr,L.isInteger=Dm,L.isLength=cl,L.isMap=Rm,L.isMatch=Zb,L.isMatchWith=Qb,L.isNaN=Jb,L.isNative=e5,L.isNil=n5,L.isNull=t5,L.isNumber=Im,L.isObject=ht,L.isObjectLike=vt,L.isPlainObject=Ca,L.isRegExp=uf,L.isSafeInteger=r5,L.isSet=Fm,L.isString=fl,L.isSymbol=mn,L.isTypedArray=ps,L.isUndefined=i5,L.isWeakMap=s5,L.isWeakSet=a5,L.join=ux,L.kebabCase=K5,L.last=In,L.lastIndexOf=cx,L.lowerCase=q5,L.lowerFirst=Z5,L.lt=o5,L.lte=l5,L.max=GT,L.maxBy=XT,L.mean=YT,L.meanBy=$T,L.min=KT,L.minBy=qT,L.stubArray=vf,L.stubFalse=yf,L.stubObject=IT,L.stubString=FT,L.stubTrue=NT,L.multiply=ZT,L.nth=fx,L.noConflict=OT,L.noop=mf,L.now=ol,L.pad=Q5,L.padEnd=J5,L.padStart=eT,L.parseInt=tT,L.random=U5,L.reduce=pb,L.reduceRight=gb,L.repeat=nT,L.replace=rT,L.result=R5,L.round=QT,L.runInContext=U,L.sample=vb,L.size=Sb,L.snakeCase=iT,L.some=Cb,L.sortedIndex=yx,L.sortedIndexBy=wx,L.sortedIndexOf=Sx,L.sortedLastIndex=Cx,L.sortedLastIndexBy=_x,L.sortedLastIndexOf=xx,L.startCase=aT,L.startsWith=oT,L.subtract=JT,L.sum=e3,L.sumBy=t3,L.template=lT,L.times=BT,L.toFinite=Rr,L.toInteger=We,L.toLength=Bm,L.toLower=uT,L.toNumber=Fn,L.toSafeInteger=u5,L.toString=Qe,L.toUpper=cT,L.trim=fT,L.trimEnd=hT,L.trimStart=dT,L.truncate=pT,L.unescape=gT,L.uniqueId=zT,L.upperCase=mT,L.upperFirst=hf,L.each=bm,L.eachRight=Tm,L.first=Sm,gf(L,function(){var o={};return cr(L,function(m,_){Je.call(L.prototype,_)||(o[_]=m)}),o}(),{chain:!1}),L.VERSION=r,Ln(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){L[o].placeholder=L}),Ln(["drop","take"],function(o,m){Xe.prototype[o]=function(_){_=_===n?1:Ot(We(_),0);var T=this.__filtered__&&!m?new Xe(this):this.clone();return T.__filtered__?T.__takeCount__=zt(_,T.__takeCount__):T.__views__.push({size:zt(_,I),type:o+(T.__dir__<0?"Right":"")}),T},Xe.prototype[o+"Right"]=function(_){return this.reverse()[o](_).reverse()}}),Ln(["filter","map","takeWhile"],function(o,m){var _=m+1,T=_==se||_==Ce;Xe.prototype[o]=function(O){var A=this.clone();return A.__iteratees__.push({iteratee:Re(O,3),type:_}),A.__filtered__=A.__filtered__||T,A}}),Ln(["head","last"],function(o,m){var _="take"+(m?"Right":"");Xe.prototype[o]=function(){return this[_](1).value()[0]}}),Ln(["initial","tail"],function(o,m){var _="drop"+(m?"":"Right");Xe.prototype[o]=function(){return this.__filtered__?new Xe(this):this[_](1)}}),Xe.prototype.compact=function(){return this.filter(an)},Xe.prototype.find=function(o){return this.filter(o).head()},Xe.prototype.findLast=function(o){return this.reverse().find(o)},Xe.prototype.invokeMap=Ue(function(o,m){return typeof o=="function"?new Xe(this):this.map(function(_){return ga(_,o,m)})}),Xe.prototype.reject=function(o){return this.filter(ul(Re(o)))},Xe.prototype.slice=function(o,m){o=We(o);var _=this;return _.__filtered__&&(o>0||m<0)?new Xe(_):(o<0?_=_.takeRight(-o):o&&(_=_.drop(o)),m!==n&&(m=We(m),_=m<0?_.dropRight(-m):_.take(m-o)),_)},Xe.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Xe.prototype.toArray=function(){return this.take(I)},cr(Xe.prototype,function(o,m){var _=/^(?:filter|find|map|reject)|While$/.test(m),T=/^(?:head|last)$/.test(m),O=L[T?"take"+(m=="last"?"Right":""):m],A=T||/^find/.test(m);!O||(L.prototype[m]=function(){var j=this.__wrapped__,H=T?[1]:arguments,K=j instanceof Xe,de=H[0],pe=K||ze(j),we=function(Ge){var Ke=O.apply(L,$r([Ge],H));return T&&Te?Ke[0]:Ke};pe&&_&&typeof de=="function"&&de.length!=1&&(K=pe=!1);var Te=this.__chain__,Ae=!!this.__actions__.length,Fe=A&&!Te,Ve=K&&!Ae;if(!A&&pe){j=Ve?j:new Xe(this);var Ne=o.apply(j,H);return Ne.__actions__.push({func:sl,args:[we],thisArg:n}),new An(Ne,Te)}return Fe&&Ve?o.apply(this,H):(Ne=this.thru(we),Fe?T?Ne.value()[0]:Ne.value():Ne)})}),Ln(["pop","push","shift","sort","splice","unshift"],function(o){var m=Mo[o],_=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",T=/^(?:pop|shift)$/.test(o);L.prototype[o]=function(){var O=arguments;if(T&&!this.__chain__){var A=this.value();return m.apply(ze(A)?A:[],O)}return this[_](function(j){return m.apply(ze(j)?j:[],O)})}}),cr(Xe.prototype,function(o,m){var _=L[m];if(_){var T=_.name+"";Je.call(us,T)||(us[T]=[]),us[T].push({name:m,func:_})}}),us[Qo(n,v).name]=[{name:"wrapper",func:n}],Xe.prototype.clone=gC,Xe.prototype.reverse=mC,Xe.prototype.value=vC,L.prototype.at=Xx,L.prototype.chain=Yx,L.prototype.commit=$x,L.prototype.next=Kx,L.prototype.plant=Zx,L.prototype.reverse=Qx,L.prototype.toJSON=L.prototype.valueOf=L.prototype.value=Jx,L.prototype.first=L.prototype.head,la&&(L.prototype[la]=qx),L},as=$S();Ei?((Ei.exports=as)._=as,dc._=as):Rt._=as}).call(_a)})(on,on.exports);const jO={};class zO{constructor(){Oe(this,"diffs",[]);Oe(this,"canvasData",{});Oe(this,"index",0);var n;const e=Y.canvas;if(e){const r=e.toDatalessJSON();this.canvasData={...on.exports.omit(r,"objects"),objects:on.exports.cloneDeep((n=r==null?void 0:r.objects)!=null?n:[])}}}saveState(){var n;const e=Y==null?void 0:Y.canvas;if(e){this.diffs=this.diffs.slice(0,this.index);const r=e.toDatalessJSON(),s=FO(r,this.canvasData);this.diffs.push(s),this.diffs.length>50?this.diffs.shift():this.index++,this.canvasData={...on.exports.omit(r,"objects"),objects:on.exports.cloneDeep((n=r==null?void 0:r.objects)!=null?n:[])},vr.getState().updateBoardData(r)}}undo(){const e=Y==null?void 0:Y.canvas;if(e&&this.index>0){const n=this.diffs[this.index-1];this.index--;const r=NO(this.canvasData,n);e.loadFromJSON(r,()=>{var s;e.requestRenderAll(),vr.getState().updateBoardData(r),this.canvasData={...on.exports.omit(r,"objects"),objects:on.exports.cloneDeep((s=r==null?void 0:r.objects)!=null?s:[])},Y.triggerHook()})}}redo(){const e=Y==null?void 0:Y.canvas;if(this.index<this.diffs.length&&e){const n=this.diffs[this.index];this.index++;const r=BO(this.canvasData,n);e.loadFromJSON(r,()=>{var s;e.requestRenderAll(),vr.getState().updateBoardData(r),this.canvasData={...on.exports.omit(r,"objects"),objects:on.exports.cloneDeep((s=r==null?void 0:r.objects)!=null?s:[])},Y.triggerHook()})}}clean(){var e;(e=Y==null?void 0:Y.canvas)==null||e.clear(),this.index=0,this.diffs=[],this.canvasData={},vr.getState().updateBoardData(jO)}initHistory(){const e=Y.canvas;if(e){const n=e.toDatalessJSON();this.canvasData=n,this.index=0,this.diffs=[]}}}const lt={DRAW:"draw",ERASE:"erase",SELECT:"select",Board:"board"},De={Basic:"basic",Rainbow:"rainbow",Shape:"shape",Material:"material",Pixels:"pixels",MultiColor:"multiColor",Text:"text",MultiLine:"multiLine",Reticulate:"reticulate",MultiPoint:"multiPoint",Wiggle:"wiggle",Thorn:"thorn"},xt={Bubble:"bubble",Star:"star",Love:"love",Butterfly:"butterfly",Snow:"snow",Music:"music",Sun:"sun",Moon:"moon",Leaf:"leaf",Flower:"flower"},_o=t=>{var e,n;return(t!=null?t:ge.getState().drawWidth)/((n=(e=Y.canvas)==null?void 0:e.getZoom())!=null?n:1)},wp=t=>{var e,n;return(t!=null?t:ge.getState().eraserWidth)/((n=(e=Y.canvas)==null?void 0:e.getZoom())!=null?n:1)},xo=t=>{var e,n;return(t!=null?t:ge.getState().shadowWidth)/((n=(e=Y.canvas)==null?void 0:e.getZoom())!=null?n:1)},ar=(t,e)=>{const n=Ks();t.set({id:n,_customType:e})},_t={CRAYON:"crayon",CARBON:"carbon",CLOTH:"cloth",OIL:"oil",CRAYON_DARK:"crayonDark"};class WO{constructor(){Oe(this,"initPromise",null);Oe(this,"crayonImage",null);Oe(this,"carbonImage",null);Oe(this,"clothImage",null);Oe(this,"oilImage",null);Oe(this,"crayonDarkImage",null);this.initMaterial()}async initMaterial(){this.initPromise=Promise.all([this.loadImage(_t.CRAYON),this.loadImage(_t.CARBON),this.loadImage(_t.CLOTH),this.loadImage(_t.OIL),this.loadImage(_t.CRAYON_DARK)])}render({materialType:e=ge.getState().materialType,color:n=ge.getState().drawColors[0]}){var r;(r=this.initPromise)==null||r.then(()=>{switch(e){case _t.CRAYON:this.renderMaterial(this.crayonImage,n);break;case _t.CARBON:this.renderMaterial(this.carbonImage,n);break;case _t.CLOTH:this.renderMaterial(this.clothImage,n);break;case _t.OIL:this.renderMaterial(this.oilImage,n);break;case _t.CRAYON_DARK:this.renderMaterial(this.crayonDarkImage,n);break}})}renderMaterial(e,n,r=1){if(Y.canvas){const s=new ve.fabric.PatternBrush(Y.canvas),c=document.createElement("canvas");c.width=c.height=100;const S=c.getContext("2d");S&&(S.fillStyle=n,S.fillRect(0,0,100,100),e&&(S.globalAlpha=r,S.drawImage(e,0,0,100,100))),s.getPatternSrc=()=>c,s.getPatternSrcFunction=()=>c,Y.canvas.freeDrawingBrush=s,Y.canvas.freeDrawingBrush.width=_o(),Y.canvas.freeDrawingBrush.shadow=new ve.fabric.Shadow({blur:xo(),offsetX:0,offsetY:0,color:ge.getState().shadowColor})}}loadImage(e){return new Promise(n=>{const r=new Image;r.src=Ss(`pattern/${e}.png`),r.onload=()=>{switch(e){case _t.CARBON:this.carbonImage=r;break;case _t.CRAYON:this.crayonImage=r;break;case _t.CLOTH:this.clothImage=r;break;case _t.OIL:this.oilImage=r;break;case _t.CRAYON_DARK:this.crayonDarkImage=r;break}n(!0)},r.onerror=()=>{n(!1)}})}}const ad=new WO,js=5,_r={COL:"col",ROW:"row",CIRCLE:"circle"},od=t=>{var f,i;const e=Y.canvas;if(!e)return;const n=(f=t==null?void 0:t.colors)!=null?f:ge.getState().drawColors,r=(i=t==null?void 0:t.type)!=null?i:ge.getState().multiColorType,s=new ve.fabric.PatternBrush(e),c=document.createElement("canvas"),S=c.getContext("2d");if(S){switch(r){case _r.COL:HO(c,S,n);break;case _r.ROW:VO(c,S,n);break;case _r.CIRCLE:UO(c,S,n);break}s.getPatternSrc=()=>c,s.getPatternSrcFunction=()=>c,e.isDrawingMode=!0,e.freeDrawingBrush=s,e.freeDrawingBrush.width=_o(),e.freeDrawingBrush.shadow=new ve.fabric.Shadow({blur:xo(),offsetX:0,offsetY:0,color:ge.getState().shadowColor})}};function HO(t,e,n){t.width=js*n.length,t.height=20,n.forEach((r,s)=>{e.fillStyle=r,e.fillRect(js*s,0,js,20)})}function VO(t,e,n){t.width=20,t.height=js*n.length,n.forEach((r,s)=>{e.fillStyle=r,e.fillRect(0,js*s,20,js)})}function UO(t,e,n){const c=n.length,S=2*5+c*10*2+(c-1)*5;t.width=S,t.height=10*2+2*5;let f=5+10;const i=5+10;for(let h=0;h<c;h++)e.beginPath(),e.fillStyle=n[h],e.arc(f,i,10,0,Math.PI*2),e.closePath(),e.fill(),f+=2*10+5}const ge=cp()(fp((t,e)=>({drawWidth:10,drawColors:["#000000"],shadowWidth:0,shadowColor:"#000000",drawTextValue:"draw",drawStyle:De.Basic,drawShapeCount:2,materialType:_t.CRAYON,drawShape:xt.Bubble,eraserWidth:20,multiColorType:_r.COL,textFontFamily:"Georgia",updateDrawWidth(n){e().drawWidth!==n&&Y.canvas&&(Y.canvas.freeDrawingBrush.width=_o(n),t({drawWidth:n}))},updateDrawColors:n=>{t(r=>{switch(r.drawStyle){case De.Basic:Y.canvas&&(Y.canvas.freeDrawingBrush.color=n[0]);break;case De.Material:r.drawColors[0]!==n[0]&&ad.render({});break;case De.MultiColor:od({colors:n});break}return{drawColors:n}})},updateShadowWidth:n=>{t(()=>(Y.canvas&&(Y.canvas.freeDrawingBrush.shadow.blur=xo(n)),{shadowWidth:n}))},updateShadowColor:n=>{t(()=>(Y.canvas&&(Y.canvas.freeDrawingBrush.shadow.color=n),{shadowColor:n}))},updateDrawShape:n=>t({drawShape:n}),updateDrawStyle:n=>{t({drawStyle:n}),Y.handleDrawStyle()},updateDrawShapeCount:n=>t({drawShapeCount:n}),updateDrawTextValue:n=>t({drawTextValue:n}),updateMaterialType(n){t(r=>(r.materialType!==n&&ad.render({materialType:n}),{materialType:n}))},updateEraserWidth(n){t(r=>(r.drawWidth!==n&&Y.canvas&&(Y.canvas.freeDrawingBrush.width=wp(n)),{eraserWidth:n}))},updateMultiColorType(n){t(r=>(r.multiColorType!==n&&od({type:n}),{multiColorType:n}))},updateTextFontFamily(n){t({textFontFamily:n})}}),{name:"PAINT-BOARD-DRAW-STORE"}));class GO{constructor(){Oe(this,"lastTime",0);Oe(this,"points",[]);Oe(this,"group");var n;const e=new ve.fabric.Group([],{perPixelTargetFind:!0});(n=Y.canvas)==null||n.add(e),this.group=e,ar(e,"reticulate")}addPosition(e){var s;if(!e)return;const n=Date.now();if(n-this.lastTime<30)return;this.lastTime=n;const r=new ve.fabric.Point(e.x,e.y);this.points.push(r),!(this.points.length<2)&&(this.group.addWithUpdate(XO(this.points)),(s=Y.canvas)==null||s.requestRenderAll())}}function XO(t){var c,S,f,i;const e=ge.getState().drawColors[0],n=Math.ceil(ge.getState().drawWidth/3/((S=(c=Y.canvas)==null?void 0:c.getZoom())!=null?S:1)),r=[];r.push(new ve.fabric.Line([t[t.length-1].x,t[t.length-1].y,t[t.length-2].x,t[t.length-2].y],{stroke:e,strokeWidth:n}));const s=1e3/((i=(f=Y.canvas)==null?void 0:f.getZoom())!=null?i:1);for(let h=0;h<t.length;h=h+1){const g=t[h].x-t[t.length-1].x,a=t[h].y-t[t.length-1].y;g*g+a*a<s&&r.push(new ve.fabric.Line([t[t.length-1].x+g*.1,t[t.length-1].y+a*.1,t[h].x-g*.1,t[h].y-a*.1],{stroke:e,strokeWidth:n/3}))}return new ve.fabric.Group(r)}function or(t,e,n,r){const s=n/2,c=[];for(let S=0;S<r;S++){const f=Math.floor(t-s+Math.random()*n),i=Math.floor(e-s+Math.random()*n);c.push({x:f,y:i})}return c}function YO(t,e){if(ge.getState().drawShapeCount===1){const c=Un(e*.3,e*1),S=(t==null?void 0:t.x)-c,f=(t==null?void 0:t.y)-c;return new ve.fabric.Circle({left:S,top:f,radius:c,opacity:Math.random(),fill:ge.getState().drawColors[0]})}const r=or(t==null?void 0:t.x,t==null?void 0:t.y,e*3,ge.getState().drawShapeCount).map((c,S)=>{const f=Un(e*.3,e),i=S>ge.getState().drawColors.length-1?ge.getState().drawColors[0]:ge.getState().drawColors[S];return new ve.fabric.Circle({left:c.x,top:c.y,radius:f,opacity:Math.random(),fill:i})});return new ve.fabric.Group(r)}function $O(t,e){if(ge.getState().drawShapeCount===1){const n=y0(e);return n.set({left:t.x-e,top:t.y-e,fill:ge.getState().drawColors[0]}),n}else{const r=or(t==null?void 0:t.x,t==null?void 0:t.y,e*3,ge.getState().drawShapeCount).map((c,S)=>{const f=S>ge.getState().drawColors.length-1?ge.getState().drawColors[0]:ge.getState().drawColors[S],i=y0(e);return i.set({left:c.x,top:c.y,fill:f}),i});return new ve.fabric.Group(r)}}function y0(t){const e=Un(t,t*2)*2,n=e*(9/10),r=n/2,s=e/2,c=Math.PI/5,S=[];for(let i=0;i<10;i++){const h=i%2===0?n/2:n/4,g=r+h*Math.cos(i*c),a=s+h*Math.sin(i*c);S.push({x:g,y:a})}return new ve.fabric.Polygon(S,{opacity:Math.random()})}function KO(t,e){if(ge.getState().drawShapeCount===1){const n=w0(e);return n.set({left:t.x-e,top:t.y-e,fill:ge.getState().drawColors[0]}),n}else{const r=or(t==null?void 0:t.x,t==null?void 0:t.y,e*3,ge.getState().drawShapeCount).map((c,S)=>{const f=S>ge.getState().drawColors.length-1?ge.getState().drawColors[0]:ge.getState().drawColors[S],i=w0(e);return i.set({left:c.x,top:c.y,fill:f}),i});return new ve.fabric.Group(r)}}function w0(t){const e=Un(t*1.5,t*3),n="M20.808,11.079C19.829,16.132,12,20.5,12,20.5s-7.829-4.368-8.808-9.421C2.227,6.1,5.066,3.5,8,3.5a4.444,4.444,0,0,1,4,2,4.444,4.444,0,0,1,4-2C18.934,3.5,21.773,6.1,20.808,11.079Z",r=new ve.fabric.Path(n,{opacity:Math.random()}),s=r.getBoundingRect(),c=e/s.width,S=e/s.height,f=Math.min(c,S);return r.scale(f),r}function qO(t,e){if(ge.getState().drawShapeCount===1){const n=S0(e);return n.set({left:t.x-e,top:t.y-e,fill:ge.getState().drawColors[0]}),n}else{const r=or(t==null?void 0:t.x,t==null?void 0:t.y,e*3,ge.getState().drawShapeCount).map((c,S)=>{const f=S>ge.getState().drawColors.length-1?ge.getState().drawColors[0]:ge.getState().drawColors[S],i=S0(e);return i.set({left:c.x,top:c.y,fill:f}),i});return new ve.fabric.Group(r)}}function S0(t){const e=Un(t*1.5,t*3),n="M214.37 208H70.57c-31 0-57.37 14.9-67.26 45.33C1.57 258.71 0 265.54 0 272c0 48 96 128 144 128 28.95 0 53.24-10.67 75.72-33.14-8.58 11.05-13.81 23.47-15.72 37.28-6.98 49.25 1.73 83.2 27.23 91.48C255.99 503.66 288 512 304 512c48 0 53.35-109.18 26.33-144.39L214.37 208zm29.29-21.28L288.1 49.96C297.68 20.47 320 0 352 0c5.66 0 12.64.62 18.78 2.61 45.65 14.84 92.07 130.86 77.23 176.51-8.94 27.54-26.59 47.34-54.91 61.77 13.15-4.74 26.59-5.88 40.31-3.42 49 8.58 78.59 27.35 78.59 54.16 0 26.04-1.96 59.05-6.91 74.27-14.83 45.65-120.32 17.01-145.46-19.58l-115.97-159.6z",r=new ve.fabric.Path(n,{opacity:Math.random()}),s=r.getBoundingRect(),c=e/s.width,S=e/s.height,f=Math.min(c,S);return r.scale(f),r}function ZO(t,e){if(ge.getState().drawShapeCount===1){const n=C0(e);return n.set({left:t.x-e,top:t.y-e,stroke:ge.getState().drawColors[0],strokeWidth:2}),n}else{const r=or(t==null?void 0:t.x,t==null?void 0:t.y,e*3,ge.getState().drawShapeCount).map((c,S)=>{const f=S>ge.getState().drawColors.length-1?ge.getState().drawColors[0]:ge.getState().drawColors[S],i=C0(e);return i.set({left:c.x,top:c.y,stroke:f,strokeWidth:2}),i});return new ve.fabric.Group(r)}}function C0(t){const e=Un(t*1.5,t*3),n="M11.9994 3V7M11.9994 7V17M11.9994 7L8.99943 4M11.9994 7L14.9994 4M11.9994 17V21M11.9994 17L8.99943 20M11.9994 17L14.9994 20M4.20624 7.49999L7.67034 9.49999M7.67034 9.49999L16.3306 14.5M7.67034 9.49999L3.57227 10.5981M7.67034 9.49999L6.57227 5.40191M16.3306 14.5L19.7947 16.5M16.3306 14.5L17.4287 18.5981M16.3306 14.5L20.4287 13.4019M4.2067 16.5L7.6708 14.5M7.6708 14.5L16.3311 9.49999M7.6708 14.5L3.57273 13.4019M7.6708 14.5L6.57273 18.5981M16.3311 9.49999L19.7952 7.49999M16.3311 9.49999L17.4291 5.40192M16.3311 9.49999L20.4291 10.5981",r=new ve.fabric.Path(n,{opacity:Math.random()}),s=r.getBoundingRect(),c=e/s.width,S=e/s.height,f=Math.min(c,S);return r.scale(f),r}function QO(t,e){if(ge.getState().drawShapeCount===1){const n=_0(e);return n.set({left:t.x-e,top:t.y-e,fill:ge.getState().drawColors[0]}),n}else{const r=or(t==null?void 0:t.x,t==null?void 0:t.y,e*3,ge.getState().drawShapeCount).map((c,S)=>{const f=S>ge.getState().drawColors.length-1?ge.getState().drawColors[0]:ge.getState().drawColors[S],i=_0(e);return i.set({left:c.x,top:c.y,fill:f}),i});return new ve.fabric.Group(r)}}function _0(t){const e=Un(t*1.5,t*3),n="M10.0909 11.9629L19.3636 8.63087V14.1707C18.8126 13.8538 18.1574 13.67 17.4545 13.67C15.4964 13.67 13.9091 15.096 13.9091 16.855C13.9091 18.614 15.4964 20.04 17.4545 20.04C19.4126 20.04 21 18.614 21 16.855C21 16.855 21 16.8551 21 16.855L21 7.49236C21 6.37238 21 5.4331 20.9123 4.68472C20.8999 4.57895 20.8852 4.4738 20.869 4.37569C20.7845 3.86441 20.6352 3.38745 20.347 2.98917C20.2028 2.79002 20.024 2.61055 19.8012 2.45628C19.7594 2.42736 19.716 2.39932 19.6711 2.3722L19.6621 2.36679C18.8906 1.90553 18.0233 1.93852 17.1298 2.14305C16.2657 2.34086 15.1944 2.74368 13.8808 3.23763L11.5963 4.09656C10.9806 4.32806 10.4589 4.52419 10.0494 4.72734C9.61376 4.94348 9.23849 5.1984 8.95707 5.57828C8.67564 5.95817 8.55876 6.36756 8.50501 6.81203C8.4545 7.22978 8.45452 7.7378 8.45455 8.33743V16.1307C7.90347 15.8138 7.24835 15.63 6.54545 15.63C4.58735 15.63 3 17.056 3 18.815C3 20.574 4.58735 22 6.54545 22C8.50355 22 10.0909 20.574 10.0909 18.815C10.0909 18.815 10.0909 18.8151 10.0909 18.815L10.0909 11.9629Z",r=new ve.fabric.Path(n,{opacity:Math.random()}),s=r.getBoundingRect(),c=e/s.width,S=e/s.height,f=Math.min(c,S);return r.scale(f),r}function JO(t,e){if(ge.getState().drawShapeCount===1){const n=x0(e);return n.set({left:t.x-e,top:t.y-e,fill:ge.getState().drawColors[0]}),n}else{const r=or(t==null?void 0:t.x,t==null?void 0:t.y,e*3,ge.getState().drawShapeCount).map((c,S)=>{const f=S>ge.getState().drawColors.length-1?ge.getState().drawColors[0]:ge.getState().drawColors[S],i=x0(e);return i.set({left:c.x,top:c.y,fill:f}),i});return new ve.fabric.Group(r)}}function x0(t){const e=Un(t*1.5,t*3),n="M23.395 14.106c2.958-1.383 2.828-6.068 5.758-5.884-4.125-2.74-4.019 3.106-9.089 1.235 1.107-3.068-2.292-6.286-0.091-8.227-4.855 0.979-0.645 5.039-5.555 7.301-1.384-2.958-6.068-2.828-5.884-5.758-2.74 4.125 3.106 4.019 1.235 9.089-3.068-1.107-6.286 2.292-8.227 0.091 0.979 4.855 5.039 0.645 7.301 5.555-2.958 1.384-2.828 6.068-5.758 5.884 4.125 2.74 4.019-3.106 9.089-1.235-1.107 3.068 2.292 6.286 0.091 8.227 4.855-0.979 0.645-5.039 5.555-7.301 1.384 2.958 6.068 2.828 5.884 5.758 2.74-4.125-3.106-4.019-1.235-9.089 3.068 1.107 6.286-2.292 8.226-0.091-0.979-4.855-5.039-0.645-7.301-5.555z",r=new ve.fabric.Path(n,{opacity:Math.random()}),s=r.getBoundingRect(),c=e/s.width,S=e/s.height,f=Math.min(c,S);return r.scale(f),r}function e8(t,e){if(ge.getState().drawShapeCount===1){const n=b0(e);return n.set({left:t.x-e,top:t.y-e,fill:ge.getState().drawColors[0]}),n}else{const r=or(t==null?void 0:t.x,t==null?void 0:t.y,e*3,ge.getState().drawShapeCount).map((c,S)=>{const f=S>ge.getState().drawColors.length-1?ge.getState().drawColors[0]:ge.getState().drawColors[S],i=b0(e);return i.set({left:c.x,top:c.y,fill:f}),i});return new ve.fabric.Group(r)}}function b0(t){const e=Un(t*1.5,t*3),n="M8.23129 2.24048C9.24338 1.78695 10.1202 2.81145 9.80357 3.70098C8.72924 6.71928 9.38932 10.1474 11.6193 12.3765C13.8606 14.617 17.3114 15.2755 20.3395 14.1819C21.2206 13.8637 22.2173 14.7319 21.7817 15.7199C21.7688 15.7491 21.7558 15.7782 21.7427 15.8074C20.9674 17.5266 19.7272 19.1434 18.1227 20.2274C16.4125 21.3828 14.3957 22.0001 12.3316 22.0001H12.3306C9.93035 21.9975 7.6057 21.1603 5.75517 19.6321C3.90463 18.1039 2.64345 15.9797 2.18793 13.6237C1.73241 11.2677 2.11094 8.82672 3.2586 6.71917C4.34658 4.72121 6.17608 3.16858 8.20153 2.25386L8.23129 2.24048Z",r=new ve.fabric.Path(n,{opacity:Math.random()}),s=r.getBoundingRect(),c=e/s.width,S=e/s.height,f=Math.min(c,S);return r.scale(f),r}function t8(t,e){if(ge.getState().drawShapeCount===1){const n=T0(e);return n.set({left:t.x-e,top:t.y-e,fill:ge.getState().drawColors[0]}),n}else{const r=or(t==null?void 0:t.x,t==null?void 0:t.y,e*3,ge.getState().drawShapeCount).map((c,S)=>{const f=S>ge.getState().drawColors.length-1?ge.getState().drawColors[0]:ge.getState().drawColors[S],i=T0(e);return i.set({left:c.x,top:c.y,fill:f}),i});return new ve.fabric.Group(r)}}function T0(t){const e=Un(t*1.5,t*3),n="M15.362,9.69c0,0-0.75,1.108-1.068,0c-0.318-1.109-1.346-4.949-1.762-5.226 c-0.417-0.278-0.417-0.278-0.417-0.278s-0.078,1.506-0.594,1.307c-0.515-0.198-4.313-2.217-4.63-2.652L6.574,2.444 c0,0,0.355,3.328-0.515,2.615c0,0,1.113,2.771-2.573,3.048c0,0,1.186,3.087,4.552,4.75c0,0,1.148,1.783-0.949,1.503 c0,0-2.932-0.395-3.325-0.752c0,0-1.548,3.01-3.764,3.128c0,0,2.656,1.504,2.337,4.156c0,0,5.107,0.041,4.911,0.832 c-0.2,0.795-0.555,1.601-0.555,1.601s4.71-0.929,5.422-2.194c0,0,0.989,0.99,1.071,1.939c0,0,2.693-0.594,2.452-2.296 c0,0,1.269,0.948,1.427,2.551l0.554-0.375c0,0-0.319-1.661-1.464-2.967c0,0-0.517-1.308,0.789-0.633c0,0,3.085,1.029,5.7-0.833 c0,0-2.888-0.948-3.006-1.978c0,0,5.394-3.326,5.625-5.542c0,0-1.944,0.198-2.972-0.633c0,0-1.309-0.396,0.394-4.791 c0,0-1.227,0.724-1.62-3.636c0,0-3.051,4.665-4.518,3.082C16.548,5.018,15.165,8.066,15.362,9.69z",r=new ve.fabric.Path(n,{opacity:Math.random()}),s=r.getBoundingRect(),c=e/s.width,S=e/s.height,f=Math.min(c,S);return r.scale(f),r}function n8(t,e){if(ge.getState().drawShapeCount===1){const n=E0(e);return n.set({left:t.x-e,top:t.y-e,fill:ge.getState().drawColors[0]}),n}else{const r=or(t==null?void 0:t.x,t==null?void 0:t.y,e*3,ge.getState().drawShapeCount).map((c,S)=>{const f=S>ge.getState().drawColors.length-1?ge.getState().drawColors[0]:ge.getState().drawColors[S],i=E0(e);return i.set({left:c.x,top:c.y,fill:f}),i});return new ve.fabric.Group(r)}}function E0(t){const e=Un(t*1.5,t*3),n="M512,224.438c0-63.766-51.703-115.469-115.484-115.469c-8.781,0-17.328,1-25.531,2.859 C365.656,52.984,316.219,6.875,256,6.875c-60.234,0-109.672,46.109-114.984,104.953c-8.219-1.859-16.766-2.859-25.531-2.859 C51.703,108.969,0,160.672,0,224.438c0,47.594,28.797,88.469,69.906,106.141c-10.297,17.281-16.234,37.484-16.234,59.063 c0,63.766,51.703,115.484,115.484,115.484c34.625,0,65.672-15.266,86.844-39.406c21.156,24.141,52.219,39.406,86.844,39.406 c63.781,0,115.484-51.719,115.484-115.484c0-21.578-5.938-41.781-16.25-59.063C483.203,312.906,512,272.031,512,224.438z M256,372.531c-53.563,0-97-43.406-97-97c0-53.563,43.438-96.984,97-96.984s96.984,43.422,96.984,96.984 C352.984,329.125,309.563,372.531,256,372.531z",r=new ve.fabric.Path(n,{opacity:Math.random()}),s=r.getBoundingRect(),c=e/s.width,S=e/s.height,f=Math.min(c,S);return r.scale(f),r}class r8{constructor(){Oe(this,"lastTime",0);Oe(this,"group");var n;const e=new ve.fabric.Group([],{perPixelTargetFind:!0});(n=Y.canvas)==null||n.add(e),this.group=e,ar(e,"shape")}addPosition(e){var S,f,i;const n=Date.now();if(n-this.lastTime<30||!e)return;this.lastTime=n;const r=new ve.fabric.Point(e.x,e.y),s=ge.getState().drawWidth/((f=(S=Y==null?void 0:Y.canvas)==null?void 0:S.getZoom())!=null?f:1);let c=null;switch(ge.getState().drawShape){case xt.Bubble:c=YO(r,s);break;case xt.Star:c=$O(r,s);break;case xt.Love:c=KO(r,s);break;case xt.Butterfly:c=qO(r,s);break;case xt.Snow:c=ZO(r,s);break;case xt.Music:c=QO(r,s);break;case xt.Sun:c=JO(r,s);break;case xt.Moon:c=e8(r,s);break;case xt.Leaf:c=t8(r,s);break;case xt.Flower:c=n8(r,s);break}c&&(this.group.addWithUpdate(c),(i=Y.canvas)==null||i.requestRenderAll())}}class i8{constructor(){Oe(this,"lastTime",0);Oe(this,"group");var n;const e=new ve.fabric.Group([],{perPixelTargetFind:!0});(n=Y.canvas)==null||n.add(e),this.group=e,ar(e,"pixels")}addPosition(e){var s;const n=Date.now();if(n-this.lastTime<30||!e)return;this.lastTime=n;const r=new ve.fabric.Point(e.x,e.y);this.group.addWithUpdate(s8(r.x,r.y)),(s=Y.canvas)==null||s.requestRenderAll()}}function s8(t,e){var c,S,f,i,h,g;const n=[],r=Number((ge.getState().drawWidth/((S=(c=Y==null?void 0:Y.canvas)==null?void 0:c.getZoom())!=null?S:1)).toFixed(2)),s=Number((ge.getState().drawWidth/3/((i=(f=Y==null?void 0:Y.canvas)==null?void 0:f.getZoom())!=null?i:1)).toFixed(2));for(let a=-r;a<r;a+=s)for(let u=-r;u<r;u+=s)if(Math.random()>.5){const l=(g=(h=ge.getState().drawColors)==null?void 0:h[Un(0,ge.getState().drawColors.length-1)])!=null?g:ge.getState().drawColors[0],d=new ve.fabric.Rect({left:t+a,top:e+u,width:s,height:s,fill:l});n.push(d)}return new ve.fabric.Group(n)}const a8=3;class o8{constructor(){Oe(this,"lastTime",0);Oe(this,"points",[]);Oe(this,"group");Oe(this,"counter",0);Oe(this,"position",{x:0,y:window.innerHeight/2});var n;const e=new ve.fabric.Group([],{perPixelTargetFind:!0});(n=Y.canvas)==null||n.add(e),this.group=e,ar(e,"drawText")}addPosition(e){var s;if(!e)return;const n=new ve.fabric.Point(e.x,e.y);if(this.points.push(n),this.points.length<2){this.position={x:n.x,y:n.y};return}const r=Date.now();r-this.lastTime<30||(this.lastTime=r,this.group.addWithUpdate(l8(this)),(s=Y.canvas)==null||s.requestRenderAll())}}function l8(t){const e=t.points,n=e[e.length-1],r=up(t.position,n),s=a8+r/2,c=ge.getState().drawTextValue[t.counter%ge.getState().drawTextValue.length],S=u8(c,s);if(S&&r>S){const f=Math.atan2(n.y-t.position.y,n.x-t.position.x),i=new ve.fabric.Text(c,{fontSize:s,top:t.position.y,left:t.position.x,fontFamily:ge.getState().textFontFamily,originX:"left",originY:"bottom",angle:ve.fabric.util.radiansToDegrees(f),fill:ge.getState().drawColors[0]});return t.position={x:t.position.x+Math.cos(f)*S,y:t.position.y+Math.sin(f)*S},t.counter++,t.counter>ge.getState().drawTextValue.length-1&&(t.counter=0),i}}function u8(t,e){return new ve.fabric.Text(t,{fontSize:e,fontFamily:ge.getState().textFontFamily}).width}class c8{constructor(){Oe(this,"lastTime",0);Oe(this,"points",[]);Oe(this,"group");var n;const e=new ve.fabric.Group([],{perPixelTargetFind:!0});(n=Y.canvas)==null||n.add(e),this.group=e,ar(e,"multiLine")}addPosition(e){var s;if(!e)return;const n=Date.now();if(n-this.lastTime<30)return;this.lastTime=n;const r=new ve.fabric.Point(e.x,e.y);this.points.push(r),!(this.points.length<2)&&(this.group.addWithUpdate(f8(this.points)),(s=Y.canvas)==null||s.renderAll())}}function f8(t){var s,c;const e=ge.getState().drawColors[0],n=Math.ceil(ge.getState().drawWidth/3/((c=(s=Y.canvas)==null?void 0:s.getZoom())!=null?c:1)),r=[];if(r.push(new ve.fabric.Line([t[t.length-1].x,t[t.length-1].y,t[t.length-2].x,t[t.length-2].y],{stroke:e,strokeWidth:n})),t.length%5===0)for(let S=t.length-5,f=0;S>=0&&f<3;S=S-5,f++)r.push(new ve.fabric.Line([t[t.length-1].x,t[t.length-1].y,t[S].x,t[S].y],{stroke:e,strokeWidth:n/3}));return new ve.fabric.Group(r)}let Rl=0;class h8{constructor(){Oe(this,"points",[]);Oe(this,"group");var n;const e=new ve.fabric.Group([],{perPixelTargetFind:!0});(n=Y.canvas)==null||n.add(e),this.group=e,ar(e,"rainbow")}addPosition(e){var r;if(!e)return;const n=new ve.fabric.Point(e.x,e.y);this.points.push(n),!(this.points.length<2)&&(this.group.addWithUpdate(d8(this.points)),(r=Y.canvas)==null||r.requestRenderAll())}}function d8(t){var f,i;const e=Math.ceil(ge.getState().drawWidth/((i=(f=Y.canvas)==null?void 0:f.getZoom())!=null?i:1));Rl=Rl<360?Rl+1:0;const n=t[t.length-1].x,r=t[t.length-1].y,s=t[t.length-2].x,c=t[t.length-2].y;return new ve.fabric.Line([s,c,n,r],{stroke:`hsl(${Rl}, 90%, 50%)`,strokeWidth:e,originX:"center",originY:"center"})}class p8{constructor(){Oe(this,"lastTime",0);Oe(this,"lastPoint",null);Oe(this,"group");var n;const e=new ve.fabric.Group([],{perPixelTargetFind:!0});(n=Y.canvas)==null||n.add(e),this.group=e,ar(e,"thorn")}addPosition(e){var s;if(!e)return;const n=Date.now();if(n-this.lastTime<30)return;this.lastTime=n;const r=new ve.fabric.Point(e.x,e.y);if(!this.lastPoint){this.lastPoint=r;return}this.group.addWithUpdate(g8(this,r)),(s=Y.canvas)==null||s.renderAll()}}function g8(t,e){var f,i;const n=t.lastPoint,r=up(n,e),s=ve.fabric.util.radiansToDegrees(Math.atan2(e.y-n.y,e.x-n.x)),c=3/((i=(f=Y.canvas)==null?void 0:f.getZoom())!=null?i:1),S=new ve.fabric.Ellipse({left:e.x,top:e.y,originX:"center",originY:"center",fill:ge.getState().drawColors[0],opacity:.5,rx:r*5+c,ry:c});return S.rotate(s),t.lastPoint=e,S}class m8{constructor(){Oe(this,"lastTime",0);Oe(this,"lastCoordinates",[]);Oe(this,"points",[]);Oe(this,"group");Oe(this,"shadow");var n;const e=new ve.fabric.Group([],{perPixelTargetFind:!0});(n=Y.canvas)==null||n.add(e),this.group=e,this.shadow=new ve.fabric.Shadow({blur:3,offsetX:0,offsetY:0,color:ge.getState().drawColors[0]}),ar(e,"multiPoint")}addPosition(e){var s;if(!e)return;const n=Date.now();if(n-this.lastTime<30)return;this.lastTime=n;const r=new ve.fabric.Point(e.x,e.y);this.points.push(r),!(this.points.length<2)&&(this.group.addWithUpdate(v8(this)),(s=Y.canvas)==null||s.renderAll())}}function v8(t){var u,l;const{points:e,lastCoordinates:n}=t,r=(l=(u=Y.canvas)==null?void 0:u.getZoom())!=null?l:1,s=Math.ceil(ge.getState().drawWidth*3/r),c=6/r,S=2/r,f=e[e.length-1].x,i=e[e.length-1].y,h=[],g=or(f,i,s,ge.getState().drawShapeCount),a=g.map(d=>new ve.fabric.Circle({left:d.x,top:d.y,radius:c,shadow:t.shadow,fill:ge.getState().drawColors[0]}));if(h.push(...a),n!=null&&n.length){const d=n.map((y,p)=>new ve.fabric.Line([y.x+c,y.y+c,g[p].x+c,g[p].y+c],{stroke:ge.getState().drawColors[0],strokeWidth:S}));h.push(...d)}return t.lastCoordinates=g,new ve.fabric.Group(h)}class y8{constructor(){Oe(this,"lastTime",0);Oe(this,"flip",1);Oe(this,"lastPoint",null);Oe(this,"group");var n;const e=new ve.fabric.Group([],{perPixelTargetFind:!0});(n=Y.canvas)==null||n.add(e),this.group=e,ar(e,"wiggle")}addPosition(e){var s;if(!e)return;const n=Date.now();if(n-this.lastTime<30)return;this.lastTime=n;const r=new ve.fabric.Point(e.x,e.y);if(!this.lastPoint){this.lastPoint=r;return}this.group.addWithUpdate(w8(this,r)),(s=Y.canvas)==null||s.renderAll()}}function w8(t,e){var g,a;const n=t.lastPoint,r=up(n,e),s=(n.x+e.x)/2,c=(n.y+e.y)/2,S=ve.fabric.util.radiansToDegrees(Math.atan2(e.y-n.y,e.x-n.x)),f=ve.fabric.util.radiansToDegrees(t.flip%2*Math.PI),i=3/((a=(g=Y.canvas)==null?void 0:g.getZoom())!=null?a:1),h=new ve.fabric.Circle({top:c,left:s,originX:"center",originY:"center",radius:r/2,startAngle:S+f,endAngle:S+f+ve.fabric.util.radiansToDegrees(Math.PI),stroke:ge.getState().drawColors[0],strokeWidth:i,fill:"",strokeLineJoin:"round",strokeLineCap:"round"});return t.lastPoint=e,t.flip++,h}function O0(t,e=1){const n=parseInt(t.slice(1),16),r=n>>16&255,s=n>>8&255,c=n&255;return`rgba(${r}, ${s}, ${c}, ${e})`}function S8(t){if(!t)return t;const e=t.match(/\d+/g);return`#${((1<<24)+(parseInt(e[0])<<16)+(parseInt(e[1])<<8)+parseInt(e[2])).toString(16).slice(1)}`}function P0(t){const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([\d.]+)\)/);return e?parseFloat(e[4]):1}function C8(t,e){const n=t.match(/rgba?\((.*?)\)/);if(!n)return t;const r=n[1].split(",").map(c=>c.trim());return e=Math.min(1,Math.max(0,e)),`rgba(${r[0]}, ${r[1]}, ${r[2]}, ${e})`}function _8(t){return/^#([0-9A-Fa-f]{3}){1,2}$/.test(t)}function x8(t){return/^rgba?\((\d+,\s*){2}\d+,\s*(0(\.\d+)?|1(\.0)?)\)$/.test(t)}function b8(t){return _8(t)?"hex":x8(t)?"rgba":"unknown"}const T8=["en","en-US","en-us"].includes(navigator.language)?"en":"zh",wt=cp()(fp((t,e)=>({mode:lt.DRAW,language:T8,backgroundColor:"rgba(255, 255, 255, 1)",backgroundOpacity:1,isObjectCaching:!0,updateMode:n=>{e().mode!==n&&(Y.handleMode(n),t({mode:n}))},updateLanguage(n){t({language:n})},initBackground:()=>{var r;const n=(r=Y==null?void 0:Y.canvas)==null?void 0:r.backgroundColor;if(n&&typeof n=="string"){const s=b8(n);if(s==="hex"){const c=O0(n),S=P0(c);t({backgroundColor:c,backgroundOpacity:S})}else if(s==="rgba"){const c=P0(n);t({backgroundColor:n,backgroundOpacity:c})}}else Y!=null&&Y.canvas&&(Y.canvas.backgroundColor="rgba(255, 255, 255, 1)")},updateBackgroundColor:n=>{const r=Y.canvas;r&&n!==(r==null?void 0:r.backgroundColor)&&t(s=>{const c=O0(n,s.backgroundOpacity);return r.backgroundColor=c,{backgroundColor:c}})},updateBackgroundOpacity:n=>{t(r=>{const s=Y.canvas;if(s&&n!==r.backgroundOpacity){const c=C8(r.backgroundColor,n);return s.backgroundColor=c,{backgroundOpacity:n,backgroundColor:c}}return{}})},updateCacheState(){var r;const n=e().isObjectCaching;t({isObjectCaching:!n}),ve.fabric.Object.prototype.set({objectCaching:wt.getState().isObjectCaching}),(r=Y==null?void 0:Y.canvas)==null||r.renderAll()}}),{name:"PAINT-BOARD-STORE"}));class E8{constructor(){Oe(this,"isMouseDown",!1);Oe(this,"isSpaceKeyDown",!1);Oe(this,"currentElement",null);this.initClickEvent()}initClickEvent(){const e=Y.canvas;e==null||e.on("mouse:down",()=>{if(this.isMouseDown=!0,this.isSpaceKeyDown)return;let n=null;if(wt.getState().mode===lt.DRAW)switch(ge.getState().drawStyle){case De.Shape:n=new r8;break;case De.Pixels:n=new i8;break;case De.Text:n=new o8;break;case De.MultiLine:n=new c8;break;case De.Reticulate:n=new GO;break;case De.Rainbow:n=new h8;break;case De.Thorn:n=new p8;break;case De.MultiPoint:n=new m8;break;case De.Wiggle:n=new y8;break}this.currentElement=n}),e==null||e.on("mouse:move",n=>{var r,s,c,S,f,i,h,g,a,u,l;if(this.isMouseDown){if(this.isSpaceKeyDown){e.relativePan(new ve.fabric.Point(n.e.movementX,n.e.movementY));return}if((r=Y.evnet)!=null&&r.touchEvent.isTwoTouch)return;if(wt.getState().mode===lt.DRAW&&this.currentElement)switch(ge.getState().drawStyle){case De.Shape:(s=this.currentElement)==null||s.addPosition(n.absolutePointer);break;case De.Basic:(c=this.currentElement)==null||c.addPosition(n.absolutePointer);break;case De.Pixels:(S=this.currentElement)==null||S.addPosition(n.absolutePointer);break;case De.Text:(f=this.currentElement)==null||f.addPosition(n.absolutePointer);break;case De.MultiLine:(i=this.currentElement)==null||i.addPosition(n.absolutePointer);break;case De.Reticulate:(h=this.currentElement)==null||h.addPosition(n.absolutePointer);break;case De.Rainbow:(g=this.currentElement)==null||g.addPosition(n.absolutePointer);break;case De.Thorn:(a=this.currentElement)==null||a.addPosition(n.absolutePointer);break;case De.MultiPoint:(u=this.currentElement)==null||u.addPosition(n.absolutePointer);break;case De.Wiggle:(l=this.currentElement)==null||l.addPosition(n.absolutePointer);break}}}),e==null||e.on("mouse:up",()=>{var n;this.isMouseDown=!1,this.currentElement&&(this.currentElement=null,(n=Y.history)==null||n.saveState())})}setSpaceKeyDownState(e){this.isSpaceKeyDown=e}}class O8{constructor(){this.initObjectEvent(),this.initTextEvent()}initObjectEvent(){const e=Y==null?void 0:Y.canvas;e==null||e.on("selection:created",()=>{Y.triggerHook()}),e==null||e.on("selection:updated",()=>{Y.triggerHook()}),e==null||e.on("selection:cleared",()=>{Y.triggerHook()}),e==null||e.on("path:created",n=>{var r;if([lt.DRAW,lt.ERASE].includes(wt.getState().mode)){if(wt.getState().mode===lt.DRAW){const s=Ks();n.path.set({id:s,perPixelTargetFind:!0})}(r=Y.history)==null||r.saveState()}}),e==null||e.on("object:modified",n=>{var r,s;if(((r=n.target)==null?void 0:r.type)==="i-text"){const c=n.target;if(c._textBeforeEdit===c.text)return}n.action&&n.target&&((s=Y.history)==null||s.saveState())})}initTextEvent(){const e=Y==null?void 0:Y.canvas;e==null||e.on("text:editing:entered",()=>{Y.textElement.isTextEditing=!0}),e==null||e.on("text:editing:exited",n=>{const r=n==null?void 0:n.target;r&&(Y.textElement.isTextEditing=!1,r!=null&&r._customType||ar(r,"itext"),(r==null?void 0:r._textBeforeEdit)!==(r==null?void 0:r.text)&&(e.discardActiveObject(),Y.render()))})}}let Ma;const Ba=.3,Zl=5;class P8{constructor(){Oe(this,"updateZoomPercentage",on.exports.debounce((e=!0,n)=>{var s;const r=this.handleZoomPercentage(e);return vr.getState().updateZoom(n),wt.getState().isObjectCaching||ve.fabric.Object.prototype.set({objectCaching:!1}),(s=Y.canvas)==null||s.requestRenderAll(),r},500));this.initWheelEvent()}initWheelEvent(){const e=Y==null?void 0:Y.canvas;e==null||e.on("mouse:wheel",n=>{var f;(f=Y.textElement)==null||f.resetText();const r=n.e.deltaY;let s=e.getZoom();if(s=r>0?s*1.1:s/1.1,s<Ba||s>Zl)return;wt.getState().isObjectCaching||ve.fabric.Object.prototype.set({objectCaching:!0});const c=((e==null?void 0:e.width)||1)/2,S=((e==null?void 0:e.height)||1)/2;s=Math.max(Ba,Math.min(Zl,s)),e.zoomToPoint({x:c,y:S},s),n.e.preventDefault(),n.e.stopPropagation(),this.updateZoomPercentage(!0,s)})}initZoom(){const e=Y.canvas;if(e){const n=((e==null?void 0:e.width)||1)/2,r=((e==null?void 0:e.height)||1)/2;e.zoomToPoint(new ve.fabric.Point(n,r),1),this.updateZoomPercentage(!0,1)}}handleZoomPercentage(e=!0){const n=Y.canvas;let r=1;if(n){const s=n.getZoom();r=Math.round((s-Ba)/(Zl-Ba)*100),k8()}return e&&Ma&&(Ma==null||Ma(r)),r}setZoomHook(e){Ma=e}}const k8=()=>{var e;const t=(e=Y.canvas)==null?void 0:e.freeDrawingBrush;if(!!t)switch(wt.getState().mode){case lt.ERASE:t.width=wp();break;case lt.DRAW:[De.Basic,De.Material,De.MultiColor].includes(ge.getState().drawStyle)&&(t.width=_o(),ge.getState().drawStyle===De.Basic&&(t.shadow.blur=xo()));break}};class L8{constructor(){Oe(this,"isTwoTouch",!1);Oe(this,"isDragging",!1);Oe(this,"startDistance",1);Oe(this,"startX",0);Oe(this,"startY",0);Oe(this,"startScale",1);Oe(this,"lastPan");Oe(this,"touchStartFn",e=>{e.preventDefault();const n=Y.canvas;if(!n)return;const r=e.touches;if(yw.updateIsDisableDraw(r.length>=2),r.length===2){this.isTwoTouch=!0;const s=r[0],c=r[1];this.startDistance=Math.hypot(c.pageX-s.pageX,c.pageY-s.pageY),this.startX=(s.pageX+c.pageX)/2,this.startY=(s.pageY+c.pageY)/2,this.startScale=n.getZoom()}});Oe(this,"touchMoveFn",e=>{var s;e.preventDefault();const n=Y.canvas;if(!n)return;const r=e.touches;if(r.length===2){const c=r[0],S=r[1],f=Math.hypot(S.pageX-c.pageX,S.pageY-c.pageY),i=(c.pageX+S.pageX)/2,h=(c.pageY+S.pageY)/2;let g=this.startScale*(f/this.startDistance);g=Math.max(Ba,Math.min(Zl,g)),wt.getState().isObjectCaching||ve.fabric.Object.prototype.set({objectCaching:!0}),n.zoomToPoint(new ve.fabric.Point(this.startX,this.startY),g),(s=Y.evnet)==null||s.zoomEvent.updateZoomPercentage(!0,g);const a=new ve.fabric.Point(i-this.startX,h-this.startY);this.isDragging?this.lastPan&&(wt.getState().isObjectCaching||ve.fabric.Object.prototype.set({objectCaching:!0}),n.relativePan(new ve.fabric.Point(a.x-this.lastPan.x,a.y-this.lastPan.y)),this.lastPan=a,this.saveTransform()):(this.isDragging=!0,this.lastPan=a)}});Oe(this,"touchEndFn",e=>{this.isDragging=!1,this.isTwoTouch&&e.touches.length===0&&(this.isTwoTouch=!1)});Oe(this,"saveTransform",on.exports.debounce(()=>{var n,r;const e=(n=Y.canvas)==null?void 0:n.viewportTransform;e&&(vr.getState().updateTransform(e),wt.getState().isObjectCaching||ve.fabric.Object.prototype.set({objectCaching:!1}),(r=Y.canvas)==null||r.requestRenderAll())},500));this.initTouchEvent()}initTouchEvent(){var n;const e=(n=Y==null?void 0:Y.canvas)==null?void 0:n.upperCanvasEl;e&&(e.addEventListener("touchstart",this.touchStartFn,{passive:!1}),e.addEventListener("touchmove",this.touchMoveFn,{passive:!1}),e.addEventListener("touchend",this.touchEndFn,{passive:!1}))}removeTouchEvent(){var n;const e=(n=Y==null?void 0:Y.canvas)==null?void 0:n.upperCanvasEl;e&&(e.removeEventListener("touchstart",this.touchStartFn),e.removeEventListener("touchmove",this.touchMoveFn),e.removeEventListener("touchend",this.touchEndFn))}}var Ql=(t=>(t.SPACE="Space",t.BACKSPACE="Backspace",t))(Ql||{});class Kw{constructor(){Oe(this,"image",null)}addImage(e){const n=Y.canvas;!n||ve.fabric.Image.fromURL(e,r=>{const s=n.getVpCenter(),c=n.getWidth()/2/((r==null?void 0:r.width)||1),S=n.getHeight()/2/((r==null?void 0:r.height)||1),f=Math.min(c,S,1);r.scale(f),r.set({left:s.x-r.getScaledWidth()/2,top:s.y-r.getScaledHeight()/2}),ar(r,"image"),n.add(r),Y.render()},{crossOrigin:"anonymous"})}}function M8(t,e){var r,s,c,S,f,i,h,g,a,u,l,d,y,p,v,w,C,x;const n=(s=(r=t.filters)==null?void 0:r.findIndex(b=>(b==null?void 0:b.type)===e))!=null?s:-1;if(n>-1)(c=t.filters)==null||c.splice(n,1);else switch(e){case"Grayscale":(S=t.filters)==null||S.push(new ve.fabric.Image.filters.Grayscale);break;case"Invert":(f=t.filters)==null||f.push(new ve.fabric.Image.filters.Invert);break;case"BlackWhite":(i=t.filters)==null||i.push(new ve.fabric.Image.filters.BlackWhite);break;case"Sepia":(h=t.filters)==null||h.push(new ve.fabric.Image.filters.Sepia);break;case"Blur":(g=t.filters)==null||g.push(new ve.fabric.Image.filters.Blur({blur:.5}));break;case"Vintage":(a=t.filters)==null||a.push(new ve.fabric.Image.filters.Vintage);break;case"BlendColor":(u=t.filters)==null||u.push(new ve.fabric.Image.filters.BlendColor({color:"#66CC89",mode:"diff"}));break;case"Brownie":(l=t.filters)==null||l.push(new ve.fabric.Image.filters.Brownie);break;case"Kodachrome":(d=t.filters)==null||d.push(new ve.fabric.Image.filters.Kodachrome);break;case"Pixelate":(y=t.filters)==null||y.push(new ve.fabric.Image.filters.Pixelate);break;case"Polaroid":(p=t.filters)==null||p.push(new ve.fabric.Image.filters.Polaroid);break;case"Technicolor":(v=t.filters)==null||v.push(new ve.fabric.Image.filters.Technicolor);break;case"Brightness":(w=t.filters)==null||w.push(new ve.fabric.Image.filters.Brightness({brightness:.6}));break;case"Noise":(C=t.filters)==null||C.push(new ve.fabric.Image.filters.Noise({noise:100}));break;case"Convolute":(x=t.filters)==null||x.push(new ve.fabric.Image.filters.Convolute({matrix:[1,1,1,1,.7,-1,-1,-1,-1]}));break}t.applyFilters()}class A8{constructor(){this.initWindowEvent()}initWindowEvent(){window.addEventListener("keydown",this.keydownFn),window.addEventListener("keyup",this.keyupFn),window.addEventListener("paste",this.pasteFn),window.addEventListener("resize",this.resizeFn),window.addEventListener("orientationchange",this.resizeFn)}removeWindowEvent(){window.removeEventListener("keydown",this.keydownFn),window.removeEventListener("keyup",this.keyupFn),window.removeEventListener("paste",this.pasteFn),window.removeEventListener("resize",this.resizeFn),window.removeEventListener("orientationchange",this.resizeFn)}keydownFn(e){var r;const n=Y==null?void 0:Y.canvas;switch(e.code){case Ql.SPACE:(r=Y==null?void 0:Y.evnet)==null||r.clickEvent.setSpaceKeyDownState(!0),n&&(wt.getState().isObjectCaching||ve.fabric.Object.prototype.set({objectCaching:!0}),n.defaultCursor="pointer",n.isDrawingMode=!1,n.selection=!1,ve.fabric.Object.prototype.set({selectable:!1,hoverCursor:"pointer"}));break;case Ql.BACKSPACE:Y.deleteObject();break}}keyupFn(e){var n,r;if(e.code===Ql.SPACE){(n=Y.evnet)==null||n.clickEvent.setSpaceKeyDownState(!1),Y.canvas&&(Y.canvas.defaultCursor="default");const s=(r=Y.canvas)==null?void 0:r.viewportTransform;s&&(vr.getState().updateTransform(s),wt.getState().isObjectCaching||ve.fabric.Object.prototype.set({objectCaching:!1}),Y.handleMode())}}pasteFn(e){if(e.clipboardData&&e.clipboardData.items){const n=e.clipboardData.items,r=Array.from(n).find(s=>s.kind==="file"&&s.type.indexOf("image")!==-1);if(r){const s=r.getAsFile();if(s){const c=new FileReader;c.onload=S=>{var i;const f=(i=S.target)==null?void 0:i.result;f&&typeof f=="string"&&new Kw().addImage(f)},c.readAsDataURL(s)}}}}resizeFn(){const e=Y.canvas;e&&(e.setWidth(window.innerWidth),e.setHeight(window.innerHeight))}}class D8{constructor(){Oe(this,"clickEvent");Oe(this,"zoomEvent");Oe(this,"objectEvent");Oe(this,"windowEvent");Oe(this,"touchEvent");const e=new E8;this.clickEvent=e;const n=new P8;this.zoomEvent=n;const r=new O8;this.objectEvent=r;const s=new A8;this.windowEvent=s;const c=new L8;this.touchEvent=c}removeEvent(){this.windowEvent.removeWindowEvent(),this.touchEvent.removeTouchEvent()}}class R8{constructor(){Oe(this,"text",null);Oe(this,"isTextEditing",!1)}loadText(){var n;const e=Y==null?void 0:Y.canvas;if(e){const r=e.getVpCenter(),s=new ve.fabric.IText("Type here...",{originX:"center",originY:"center",left:r.x,top:r.y,fill:ge.getState().drawColors[0],fontSize:25/((n=e==null?void 0:e.getZoom())!=null?n:1),fontFamily:ge.getState().textFontFamily});this.text=s,e.add(s),e.setActiveObject(s),s.enterEditing(),s.selectAll()}}resetText(){this!=null&&this.text&&(this.text.exitEditing(),this.text=null)}}const I8=()=>{const t=Y.canvas;if(!t)return;const e=new ve.fabric.PencilBrush(t);t.isDrawingMode=!0,t.freeDrawingBrush=e,t.freeDrawingBrush.width=_o(),t.freeDrawingBrush.color=ge.getState().drawColors[0],t.freeDrawingBrush.shadow=new ve.fabric.Shadow({blur:xo(),offsetX:0,offsetY:0,color:ge.getState().shadowColor})};class F8{constructor(){Oe(this,"canvas",null);Oe(this,"evnet",null);Oe(this,"history",null);Oe(this,"textElement");Oe(this,"hookFn",[]);this.textElement=new R8}initCanvas(e){return new Promise(n=>{this.canvas=new ve.fabric.Canvas(e,{selectionColor:"rgba(101, 204, 138, 0.3)",preserveObjectStacking:!0,width:window.innerWidth,height:window.innerHeight,enableRetinaScaling:!0}),ve.fabric.Object.prototype.set({borderColor:"#65CC8A",cornerColor:"#65CC8A",cornerStyle:"rect",borderDashArray:[3,3],transparentCorners:!1}),ve.fabric.Line.prototype.strokeLineJoin="round",ve.fabric.Line.prototype.strokeLineCap="round",vw()&&yw.initCanvas(this.canvas),this.initCanvasStorage(),this.handleMode(),this.evnet=new D8,n(!0)})}removeCanvas(){var e,n;this.canvas&&((e=this==null?void 0:this.canvas)==null||e.dispose(),(n=this.evnet)==null||n.removeEvent())}initCanvasStorage(){setTimeout(()=>{const{files:e,currentId:n}=vr.getState(),r=e==null?void 0:e.find(s=>(s==null?void 0:s.id)===n);r&&this.canvas&&this.canvas.loadFromJSON(r.boardData,()=>{this.canvas&&(r.viewportTransform&&this.canvas.setViewportTransform(r.viewportTransform),(r==null?void 0:r.zoom)&&this.canvas.width&&this.canvas.height&&this.canvas.zoomToPoint(new ve.fabric.Point(this.canvas.width/2,this.canvas.height/2),r.zoom),ve.fabric.Object.prototype.set({objectCaching:wt.getState().isObjectCaching}),this.canvas.renderAll(),this.triggerHook(),this.history=new zO)})},300)}handleMode(e=wt.getState().mode){if(!this.canvas)return;let n=!1,r=!1;const s={selectable:!1,hoverCursor:"default"};switch(e){case lt.DRAW:[De.Basic,De.Material,De.MultiColor].includes(ge.getState().drawStyle)&&(n=!0,this.handleDrawStyle()),this.canvas.discardActiveObject();break;case lt.ERASE:n=!0,this.canvas.freeDrawingBrush=new ve.fabric.EraserBrush(this.canvas),this.canvas.freeDrawingBrush.width=wp(),this.canvas.freeDrawingBrush.color="#FFF",this.canvas.discardActiveObject();break;case lt.Board:case lt.SELECT:s.selectable=!0,s.hoverCursor=void 0,r=!0;break}this.canvas.isDrawingMode=n,this.canvas.selection=r,ve.fabric.Object.prototype.set(s),this.canvas.forEachObject(c=>{c._customType==="itext"&&(c.selectable=s.selectable,c.hoverCursor=s.hoverCursor)}),this.canvas.requestRenderAll()}handleDrawStyle(){if(!this.canvas)return;switch(ge.getState().drawStyle){case De.Basic:I8();break;case De.Material:this.canvas.isDrawingMode=!0,ad.render({});break;case De.MultiColor:od({});break;default:this.canvas.isDrawingMode=!1;break}}deleteObject(){if(!this.textElement.isTextEditing&&this.canvas){const e=this.canvas.getActiveObjects();e!=null&&e.length&&(this.canvas.discardActiveObject(),e==null||e.forEach(n=>{var r;(r=this.canvas)==null||r.remove(n)}),this.render())}}render(){var e,n;this.canvas&&((e=this.canvas)==null||e.requestRenderAll(),(n=this.history)==null||n.saveState())}saveImage(){if(this.canvas){const e=document.createElement("a");e.href=this.canvas.toDataURL(),e.download="paint-board.png",e.click()}}copyObject(){const e=this.canvas;if(!e)return;const n=e.getActiveObjects();if(n.length<=0)return;e.discardActiveObject();const r=n.map(s=>new Promise(c=>{s==null||s.clone(S=>{const f=Ks();S.set({left:((S==null?void 0:S.left)||0)+10,top:((S==null?void 0:S.top)||0)+10,evented:!0,id:f,perPixelTargetFind:!0}),c(S),e.add(S)})}));Promise.all(r).then(s=>{const c=new ve.fabric.ActiveSelection(s,{canvas:e});e.setActiveObject(c),this.render()})}bringForWard(){const e=this.canvas;if(e){const n=e.getActiveObject();n&&(e.bringForward(n,!0),this.render())}}seendBackWard(){const e=this.canvas;if(e){const n=e.getActiveObject();n&&(e.sendBackwards(n,!0),this.render())}}bringToFront(){const e=this.canvas;if(e){const n=e.getActiveObject();n&&(e.bringToFront(n),this.render())}}sendToBack(){const e=this.canvas;if(e){const n=e.getActiveObject();n&&(e.sendToBack(n),this.render())}}addHookFn(e){this.hookFn.push(e)}removeHookFn(e){const n=this.hookFn.findIndex(r=>r===e);n>-1&&this.hookFn.splice(n,1)}triggerHook(){this.hookFn.map(e=>{e==null||e()})}}const Y=new F8;function ir(t){return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(t)}function N8(t,e){if(ir(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ir(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qw(t){var e=N8(t,"string");return ir(e)==="symbol"?e:String(e)}function br(t,e,n){return e=qw(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B8(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}var k0={};function ld(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&k0[e[0]]||(typeof e[0]=="string"&&(k0[e[0]]=new Date),B8.apply(void 0,e))}function L0(t,e,n){t.loadNamespaces(e,function(){if(t.isInitialized)n();else{var r=function s(){setTimeout(function(){t.off("initialized",s)},0),n()};t.on("initialized",r)}})}function j8(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.languages[0],s=e.options?e.options.fallbackLng:!1,c=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var S=function(i,h){var g=e.services.backendConnector.state["".concat(i,"|").concat(h)];return g===-1||g===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!S(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||S(r,t)&&(!s||S(c,t)))}function z8(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return ld("i18n.languages were undefined or empty",e.languages),!0;var r=e.options.ignoreJSONStructure!==void 0;return r?e.hasLoadedNamespace(t,{precheck:function(c,S){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&c.services.backendConnector.backend&&c.isLanguageChangingTo&&!S(c.isLanguageChangingTo,t))return!1}}):j8(t,e,n)}var W8=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,H8={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xA9","&#169;":"\xA9","&reg;":"\xAE","&#174;":"\xAE","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},V8=function(e){return H8[e]},U8=function(e){return e.replace(W8,V8)};function M0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function A0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M0(Object(n),!0).forEach(function(r){br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ud={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:U8};function G8(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ud=A0(A0({},ud),t)}function X8(){return ud}var Zw;function Y8(t){Zw=t}function $8(){return Zw}function lr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qw(r.key),r)}}function ur(t,e,n){return e&&D0(t.prototype,e),n&&D0(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var K8={type:"3rdParty",init:function(e){G8(e.options.react),Y8(e)}},q8=z.exports.createContext(),Z8=function(){function t(){lr(this,t),this.usedNamespaces={}}return ur(t,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(s){r.usedNamespaces[s]||(r.usedNamespaces[s]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}();function Qw(t){if(Array.isArray(t))return t}function Q8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,c,S,f=[],i=!0,h=!1;try{if(c=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=c.call(n)).done)&&(f.push(r.value),f.length!==e);i=!0);}catch(g){h=!0,s=g}finally{try{if(!i&&n.return!=null&&(S=n.return(),Object(S)!==S))return}finally{if(h)throw s}}return f}}function R0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jw(t,e){if(!!t){if(typeof t=="string")return R0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R0(t,e)}}function e2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J8(t,e){return Qw(t)||Q8(t,e)||Jw(t,e)||e2()}function I0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I0(Object(n),!0).forEach(function(r){br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var eP=function(e,n){var r=z.exports.useRef();return z.exports.useEffect(function(){r.current=n?r.current:e},[e,n]),r.current};function Tr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.i18n,r=z.exports.useContext(q8)||{},s=r.i18n,c=r.defaultNS,S=n||s||$8();if(S&&!S.reportNamespaces&&(S.reportNamespaces=new Z8),!S){ld("You will need to pass in an i18next instance by using initReactI18next");var f=function(B){return Array.isArray(B)?B[B.length-1]:B},i=[f,{},!1];return i.t=f,i.i18n={},i.ready=!1,i}S.options.react&&S.options.react.wait!==void 0&&ld("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var h=Jf(Jf(Jf({},X8()),S.options.react),e),g=h.useSuspense,a=h.keyPrefix,u=t||c||S.options&&S.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],S.reportNamespaces.addUsedNamespaces&&S.reportNamespaces.addUsedNamespaces(u);var l=(S.isInitialized||S.initializedStoreOnce)&&u.every(function(D){return z8(D,S,h)});function d(){return S.getFixedT(null,h.nsMode==="fallback"?u:u[0],a)}var y=z.exports.useState(d),p=J8(y,2),v=p[0],w=p[1],C=u.join(),x=eP(C),b=z.exports.useRef(!0);z.exports.useEffect(function(){var D=h.bindI18n,B=h.bindI18nStore;b.current=!0,!l&&!g&&L0(S,u,function(){b.current&&w(d)}),l&&x&&x!==C&&b.current&&w(d);function W(){b.current&&w(d)}return D&&S&&S.on(D,W),B&&S&&S.store.on(B,W),function(){b.current=!1,D&&S&&D.split(" ").forEach(function($){return S.off($,W)}),B&&S&&B.split(" ").forEach(function($){return S.store.off($,W)})}},[S,C]);var E=z.exports.useRef(!0);z.exports.useEffect(function(){b.current&&!E.current&&w(d),E.current=!1},[S,a]);var k=[v,S,l];if(k.t=v,k.i18n=S,k.ready=l,l||!l&&!g)return k;throw new Promise(function(D){L0(S,u,function(){D()})})}const tP=[{type:lt.DRAW,text:"tool.draw"},{type:lt.ERASE,text:"tool.eraser"},{type:lt.SELECT,text:"tool.select"},{type:lt.Board,text:"tool.board"}],nP=t=>z.exports.createElement("svg",{height:"24px",width:"24px",id:"_x32_",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512",xmlSpace:"preserve",fill:"#ffffff",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("style",{type:"text/css"}," .st0{fill:#ffffff;} "),z.exports.createElement("g",null,z.exports.createElement("path",{className:"st0",d:"M133.048,121.218c-1.663,0-3.296,0.337-4.841,0.996c-20.036,8.606-36.119,24.218-45.306,43.973 c-1.381,2.966-1.522,6.3-0.4,9.375c1.122,3.083,3.382,5.546,6.371,6.936c1.64,0.761,3.373,1.146,5.17,1.146 c4.762,0,9.14-2.794,11.14-7.116c6.646-14.27,18.256-25.544,32.715-31.726c3.013-1.294,5.342-3.68,6.567-6.732 c1.216-3.044,1.177-6.386-0.118-9.398C142.408,124.144,137.967,121.218,133.048,121.218z"}),z.exports.createElement("path",{className:"st0",d:"M325.854,203.342c-0.016-89.821-73.11-162.915-162.932-162.931C73.102,40.427,0.015,113.521,0,203.342 c0.015,89.821,73.102,162.908,162.923,162.924C252.744,366.25,325.838,293.163,325.854,203.342z M162.923,334.344 c-34.974-0.008-67.869-13.636-92.629-38.372c-24.736-24.768-38.364-57.664-38.372-92.63c0.008-34.982,13.635-67.877,38.372-92.63 c24.775-24.743,57.671-38.371,92.629-38.379c34.967,0.008,67.862,13.636,92.63,38.379c24.744,24.768,38.372,57.664,38.38,92.63 c-0.008,34.959-13.635,67.854-38.38,92.63C230.793,320.708,197.898,334.336,162.923,334.344z"}),z.exports.createElement("path",{className:"st0",d:"M427.458,69.815c-46.6,0.008-84.532,37.932-84.549,84.541c0.016,46.601,37.948,84.525,84.549,84.541 c46.601-0.016,84.526-37.94,84.542-84.541C511.984,107.747,474.06,69.823,427.458,69.815z M464.661,191.575 c-9.963,9.924-23.175,15.392-37.203,15.4c-14.035-0.008-27.247-5.476-37.218-15.408c-9.924-9.963-15.392-23.175-15.4-37.21 c0.008-14.035,5.476-27.246,15.408-37.219c9.963-9.924,23.175-15.392,37.21-15.4c14.028,0.008,27.24,5.477,37.211,15.408 c9.924,9.964,15.4,23.184,15.408,37.211C480.07,168.383,474.593,181.603,464.661,191.575z"}),z.exports.createElement("path",{className:"st0",d:"M349.076,251.325c-2.683,10.434-6.261,20.664-10.654,30.487c16.146,2.808,30.761,10.379,42.428,22.03 c15.024,15.047,23.292,35.029,23.301,56.258c-0.008,21.23-8.277,41.212-23.301,56.258c-15.048,15.024-35.03,23.301-56.258,23.309 c-21.23-0.008-41.212-8.284-56.266-23.309c-11.015-11.03-18.421-24.822-21.559-40.042c-9.666,4.691-19.746,8.574-30.056,11.572 c12.655,49.386,56.699,83.686,107.882,83.701c61.46-0.015,111.473-50.029,111.489-111.489 C436.065,308.038,399.608,262.661,349.076,251.325z"})))),rP=t=>z.exports.createElement("svg",{fill:"#ffffff",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"20px",height:"20px",viewBox:"0 0 940.688 940.688",xmlSpace:"preserve",stroke:"#ffffff",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("g",null,z.exports.createElement("path",{d:"M885.344,319.071l-258-3.8l-102.7-264.399c-19.8-48.801-88.899-48.801-108.6,0l-102.7,264.399l-258,3.8 c-53.4,3.101-75.1,70.2-33.7,103.9l209.2,181.4l-71.3,247.7c-14,50.899,41.1,92.899,86.5,65.899l224.3-122.7l224.3,122.601 c45.4,27,100.5-15,86.5-65.9l-71.3-247.7l209.2-181.399C960.443,389.172,938.744,322.071,885.344,319.071z"})))),iP=t=>z.exports.createElement("svg",{fill:"#ffffff",width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("path",{d:"M20.808,11.079C19.829,16.132,12,20.5,12,20.5s-7.829-4.368-8.808-9.421C2.227,6.1,5.066,3.5,8,3.5a4.444,4.444,0,0,1,4,2,4.444,4.444,0,0,1,4-2C18.934,3.5,21.773,6.1,20.808,11.079Z"}))),sP=t=>z.exports.createElement("svg",{fill:"#ffffff",width:"20px",height:"20px",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("path",{d:"M214.37 208H70.57c-31 0-57.37 14.9-67.26 45.33C1.57 258.71 0 265.54 0 272c0 48 96 128 144 128 28.95 0 53.24-10.67 75.72-33.14-8.58 11.05-13.81 23.47-15.72 37.28-6.98 49.25 1.73 83.2 27.23 91.48C255.99 503.66 288 512 304 512c48 0 53.35-109.18 26.33-144.39L214.37 208zm29.29-21.28L288.1 49.96C297.68 20.47 320 0 352 0c5.66 0 12.64.62 18.78 2.61 45.65 14.84 92.07 130.86 77.23 176.51-8.94 27.54-26.59 47.34-54.91 61.77 13.15-4.74 26.59-5.88 40.31-3.42 49 8.58 78.59 27.35 78.59 54.16 0 26.04-1.96 59.05-6.91 74.27-14.83 45.65-120.32 17.01-145.46-19.58l-115.97-159.6z"}))),aP=t=>z.exports.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#ffffff",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("path",{d:"M11.9994 3V7M11.9994 7V17M11.9994 7L8.99943 4M11.9994 7L14.9994 4M11.9994 17V21M11.9994 17L8.99943 20M11.9994 17L14.9994 20M4.20624 7.49999L7.67034 9.49999M7.67034 9.49999L16.3306 14.5M7.67034 9.49999L3.57227 10.5981M7.67034 9.49999L6.57227 5.40191M16.3306 14.5L19.7947 16.5M16.3306 14.5L17.4287 18.5981M16.3306 14.5L20.4287 13.4019M4.2067 16.5L7.6708 14.5M7.6708 14.5L16.3311 9.49999M7.6708 14.5L3.57273 13.4019M7.6708 14.5L6.57273 18.5981M16.3311 9.49999L19.7952 7.49999M16.3311 9.49999L17.4291 5.40192M16.3311 9.49999L20.4291 10.5981",stroke:"#ffffff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))),oP=t=>z.exports.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("path",{d:"M10.0909 11.9629L19.3636 8.63087V14.1707C18.8126 13.8538 18.1574 13.67 17.4545 13.67C15.4964 13.67 13.9091 15.096 13.9091 16.855C13.9091 18.614 15.4964 20.04 17.4545 20.04C19.4126 20.04 21 18.614 21 16.855C21 16.855 21 16.8551 21 16.855L21 7.49236C21 6.37238 21 5.4331 20.9123 4.68472C20.8999 4.57895 20.8852 4.4738 20.869 4.37569C20.7845 3.86441 20.6352 3.38745 20.347 2.98917C20.2028 2.79002 20.024 2.61055 19.8012 2.45628C19.7594 2.42736 19.716 2.39932 19.6711 2.3722L19.6621 2.36679C18.8906 1.90553 18.0233 1.93852 17.1298 2.14305C16.2657 2.34086 15.1944 2.74368 13.8808 3.23763L11.5963 4.09656C10.9806 4.32806 10.4589 4.52419 10.0494 4.72734C9.61376 4.94348 9.23849 5.1984 8.95707 5.57828C8.67564 5.95817 8.55876 6.36756 8.50501 6.81203C8.4545 7.22978 8.45452 7.7378 8.45455 8.33743V16.1307C7.90347 15.8138 7.24835 15.63 6.54545 15.63C4.58735 15.63 3 17.056 3 18.815C3 20.574 4.58735 22 6.54545 22C8.50355 22 10.0909 20.574 10.0909 18.815C10.0909 18.815 10.0909 18.8151 10.0909 18.815L10.0909 11.9629Z",fill:"#ffffff"}))),lP=t=>z.exports.createElement("svg",{fill:"#ffffff",width:"24px",height:"24px",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("title",null,"sun"),z.exports.createElement("path",{d:"M23.395 14.106c2.958-1.383 2.828-6.068 5.758-5.884-4.125-2.74-4.019 3.106-9.089 1.235 1.107-3.068-2.292-6.286-0.091-8.227-4.855 0.979-0.645 5.039-5.555 7.301-1.384-2.958-6.068-2.828-5.884-5.758-2.74 4.125 3.106 4.019 1.235 9.089-3.068-1.107-6.286 2.292-8.227 0.091 0.979 4.855 5.039 0.645 7.301 5.555-2.958 1.384-2.828 6.068-5.758 5.884 4.125 2.74 4.019-3.106 9.089-1.235-1.107 3.068 2.292 6.286 0.091 8.227 4.855-0.979 0.645-5.039 5.555-7.301 1.384 2.958 6.068 2.828 5.884 5.758 2.74-4.125-3.106-4.019-1.235-9.089 3.068 1.107 6.286-2.292 8.226-0.091-0.979-4.855-5.039-0.645-7.301-5.555z"}))),uP=t=>z.exports.createElement("svg",{width:"22px",height:"22px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#ffffff",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 11.5373 21.3065 11.4608 21.0672 11.8568C19.9289 13.7406 17.8615 15 15.5 15C11.9101 15 9 12.0899 9 8.5C9 6.13845 10.2594 4.07105 12.1432 2.93276C12.5392 2.69347 12.4627 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"#ffffff"}))),cP=t=>z.exports.createElement("svg",{height:"22px",width:"22px",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 25.263 25.263",xmlSpace:"preserve",fill:"#ffffff",stroke:"#ffffff",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("g",null,z.exports.createElement("path",{style:{fill:"#ffffff"},d:"M15.362,9.69c0,0-0.75,1.108-1.068,0c-0.318-1.109-1.346-4.949-1.762-5.226 c-0.417-0.278-0.417-0.278-0.417-0.278s-0.078,1.506-0.594,1.307c-0.515-0.198-4.313-2.217-4.63-2.652L6.574,2.444 c0,0,0.355,3.328-0.515,2.615c0,0,1.113,2.771-2.573,3.048c0,0,1.186,3.087,4.552,4.75c0,0,1.148,1.783-0.949,1.503 c0,0-2.932-0.395-3.325-0.752c0,0-1.548,3.01-3.764,3.128c0,0,2.656,1.504,2.337,4.156c0,0,5.107,0.041,4.911,0.832 c-0.2,0.795-0.555,1.601-0.555,1.601s4.71-0.929,5.422-2.194c0,0,0.989,0.99,1.071,1.939c0,0,2.693-0.594,2.452-2.296 c0,0,1.269,0.948,1.427,2.551l0.554-0.375c0,0-0.319-1.661-1.464-2.967c0,0-0.517-1.308,0.789-0.633c0,0,3.085,1.029,5.7-0.833 c0,0-2.888-0.948-3.006-1.978c0,0,5.394-3.326,5.625-5.542c0,0-1.944,0.198-2.972-0.633c0,0-1.309-0.396,0.394-4.791 c0,0-1.227,0.724-1.62-3.636c0,0-3.051,4.665-4.518,3.082C16.548,5.018,15.165,8.066,15.362,9.69z"})))),fP=t=>z.exports.createElement("svg",{id:"_x32_",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"22px",height:"22px",viewBox:"0 0 512 512",xmlSpace:"preserve",fill:"#000000",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("style",{type:"text/css"},"  .st0{fill:#ffffff;}  "),z.exports.createElement("g",null,z.exports.createElement("path",{className:"st0",d:"M512,224.438c0-63.766-51.703-115.469-115.484-115.469c-8.781,0-17.328,1-25.531,2.859 C365.656,52.984,316.219,6.875,256,6.875c-60.234,0-109.672,46.109-114.984,104.953c-8.219-1.859-16.766-2.859-25.531-2.859 C51.703,108.969,0,160.672,0,224.438c0,47.594,28.797,88.469,69.906,106.141c-10.297,17.281-16.234,37.484-16.234,59.063 c0,63.766,51.703,115.484,115.484,115.484c34.625,0,65.672-15.266,86.844-39.406c21.156,24.141,52.219,39.406,86.844,39.406 c63.781,0,115.484-51.719,115.484-115.484c0-21.578-5.938-41.781-16.25-59.063C483.203,312.906,512,272.031,512,224.438z M256,372.531c-53.563,0-97-43.406-97-97c0-53.563,43.438-96.984,97-96.984s96.984,43.422,96.984,96.984 C352.984,329.125,309.563,372.531,256,372.531z"})))),F0={line_1:[{type:De.Basic,text:"style.basic"},{type:De.Rainbow,text:"style.rainbow"},{type:De.Shape,text:"style.shape"}],line_2:[{type:De.Material,text:"style.material"},{type:De.Pixels,text:"style.pixels"},{type:De.MultiColor,text:"style.multiColor"}],line_3:[{type:De.Text,text:"style.text"},{type:De.MultiLine,text:"style.multiLine"},{type:De.Reticulate,text:"style.reticulate"}],line_4:[{type:De.MultiPoint,text:"style.multiPoint"},{type:De.Wiggle,text:"style.wiggle"},{type:De.Thorn,text:"style.thorn"}]},hP=[{type:_t.CARBON,image:Ss("pattern/carbon.png")},{type:_t.CLOTH,image:Ss("pattern/cloth.png")},{type:_t.CRAYON,image:Ss("pattern/crayon.png")},{type:_t.OIL,image:Ss("pattern/oil.png")},{type:_t.CRAYON_DARK,image:Ss("pattern/crayonDark.png")}],N0={line_1:[{type:xt.Bubble,icon:nP},{type:xt.Star,icon:rP},{type:xt.Love,icon:iP},{type:xt.Butterfly,icon:sP},{type:xt.Snow,icon:aP}],line_2:[{type:xt.Music,icon:oP},{type:xt.Sun,icon:lP},{type:xt.Moon,icon:uP},{type:xt.Leaf,icon:cP},{type:xt.Flower,icon:fP}]};var tc={exports:{}},nc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dP=z.exports,pP=Symbol.for("react.element"),gP=Symbol.for("react.fragment"),mP=Object.prototype.hasOwnProperty,vP=dP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yP={key:!0,ref:!0,__self:!0,__source:!0};function t2(t,e,n){var r,s={},c=null,S=null;n!==void 0&&(c=""+n),e.key!==void 0&&(c=""+e.key),e.ref!==void 0&&(S=e.ref);for(r in e)mP.call(e,r)&&!yP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:pP,type:t,key:c,ref:S,props:s,_owner:vP.current}}nc.Fragment=gP;nc.jsx=t2;nc.jsxs=t2;(function(t){t.exports=nc})(tc);const Dt=tc.exports.Fragment,G=tc.exports.jsx,Le=tc.exports.jsxs,wP=()=>{const{drawShapeCount:t,updateDrawShapeCount:e}=ge();return Le("div",{className:"mt-3",children:[G("div",{className:"font-bold text-lg font-fredokaOne",children:"Count"}),G("input",{type:"range",min:"1",max:"5",value:t,className:"range range-primary range-xs",step:"1",onChange:n=>e(Number(n.target.value))}),Le("div",{className:"w-full flex justify-between text-xs px-2 font-fredokaOne",children:[G("span",{children:"1"}),G("span",{children:"2"}),G("span",{children:"3"}),G("span",{children:"4"}),G("span",{children:"5"})]})]})},SP=()=>{const{drawShape:t,updateDrawShape:e}=ge();return Le("div",{className:"mt-3",children:[G("div",{className:"font-bold text-lg font-fredokaOne",children:"Shape type"}),Object.keys(N0).map(n=>G("div",{className:"btn-group mt-1 flex",children:N0[n].map(({type:r,icon:s})=>G("button",{className:`btn btn-sm flex-grow ${t===r?"btn-active":""}`,onClick:()=>{e(r)},children:s({})},r))},n))]})},CP=()=>{const{shadowColor:t,updateShadowColor:e,shadowWidth:n,updateShadowWidth:r}=ge();return Le("div",{className:"mt-3",children:[G("div",{className:"font-bold text-lg font-fredokaOne",children:"Shadow"}),Le("div",{className:"flex mt-1 items-center",children:[G("div",{className:"w-8 h-8 mr-2 cursor-pointer",children:G("input",{type:"color",value:t,onChange:s=>{e(s.target.value)},className:"colorInput"})}),G("input",{type:"range",min:"0",max:"50",step:"5",value:n,className:"range range-primary range-xs cursor-pointer",onChange:s=>r(Number(s.target.value))})]})]})},vs={georgia:"Georgia",fredokaOne:"Fredoka One",hanaleiFill:"Hanalei Fill",ruslanDisplay:"Ruslan Display",lobster:"Lobster",pacifico:"Pacifico",gloriaHallelujah:"Gloria Hallelujah"},n2=({fontFamily:t,updateFontFamily:e})=>{const{textFontFamily:n,updateTextFontFamily:r}=ge();return Le(Dt,{children:[G("div",{className:"font-bold text-lg font-fredokaOne mt-3",children:"Font Family"}),G("div",{children:Object.keys(vs).map(s=>Le("label",{className:"flex justify-between items-center mt-2 w-full cursor-pointer",children:[G("div",{style:{fontFamily:`${vs[s]}, cursive`},className:"text-xs",children:vs[s]}),G("input",{type:"radio",name:"radio-5",className:"radio radio-success radio-sm",checked:(t||n)===vs[s],onChange:()=>{r(vs[s]),e==null||e(vs[s])}})]},s))})]})},_P=()=>{const{drawTextValue:t,updateDrawTextValue:e}=ge();return Le("div",{className:"mt-3",children:[G("div",{className:"font-bold text-lg font-fredokaOne",children:"Draw Text"}),G("div",{className:"flex justify-between px-3 py-1.5 rounded-lg bg-primary cursor-pointer",children:G("input",{value:t,className:"px-2 rounded-lg flex-1",onInput:n=>e(n.target.value)})}),G(n2,{})]})},xP=()=>{const{materialType:t,updateMaterialType:e,drawColors:n}=ge();return G(Dt,{children:Le("div",{className:"mt-3",children:[G("div",{className:"font-bold text-lg font-fredokaOne",children:"Material Type"}),G("div",{className:"btn-group mt-1 flex",children:hP.map(({type:r,image:s},c)=>G("button",{className:`btn btn-sm flex-grow ${t===r?"btn-active":""}`,onClick:()=>{e(r)},children:G("img",{src:s,alt:"",className:"w-5 h-4 opacity-60 rounded-sm",style:{backgroundColor:n[0]}})},c))})]})})},bP=[_r.COL,_r.ROW,_r.CIRCLE],TP=()=>{const{multiColorType:t,updateMultiColorType:e,drawColors:n}=ge();return G(Dt,{children:Le("div",{className:"mt-3",children:[G("div",{className:"font-bold text-lg font-fredokaOne",children:"MultiColor Type"}),G("div",{className:"btn-group mt-1 flex",children:bP.map((r,s)=>Le("button",{className:`btn btn-sm flex-grow ${t===r?"btn-active":""}`,onClick:()=>{e(r)},children:[r===_r.COL&&G("div",{className:"flex w-4/6 h-5/6 rounded-lg overflow-hidden ",children:n.map((c,S)=>G("div",{className:"h-full flex-1",style:{backgroundColor:c}},S))}),r===_r.ROW&&G("div",{className:"flex flex-col w-4/6 h-5/6 rounded-lg overflow-hidden ",children:n.map((c,S)=>G("div",{className:"h-full flex-1",style:{backgroundColor:c}},S))}),r===_r.CIRCLE&&G("div",{className:"w-4/6 h-5/6 relative",children:n.map((c,S)=>G("div",{className:"h-6 w-6 rounded-full absolute top-0",style:{backgroundColor:c,left:`${S*5}px`}},S))})]},s))})]})})},EP=()=>{const{t}=Tr(),{drawWidth:e,updateDrawWidth:n,drawStyle:r,updateDrawStyle:s,drawColors:c,updateDrawColors:S}=ge(),f=(h,g)=>{const a=[...c];a[g]=h,S(a)},i=h=>{const g=[...c];g.splice(h,1),S(g)};return Le(Dt,{children:[Le("div",{className:"mt-3",children:[G("div",{className:"font-bold text-lg font-fredokaOne",children:"Draw Style"}),Object.keys(F0).map(h=>G("div",{className:"btn-group mt-1 flex",children:F0[h].map(({type:g,text:a})=>G("button",{className:`btn btn-sm flex-grow font-fredokaOne text-xs ${r===g?"btn-active":""}`,onClick:()=>s(g),children:t(a)},g))},h))]}),r===De.Shape&&G(SP,{}),(r===De.Shape||r===De.MultiPoint)&&G(wP,{}),r===De.Material&&G(xP,{}),r===De.MultiColor&&G(TP,{}),![De.Text,De.Wiggle,De.Thorn].includes(r)&&Le("div",{className:"mt-3",children:[G("div",{className:"font-bold text-lg font-fredokaOne",children:"Draw Width"}),G("input",{type:"range",min:"5",max:"30",step:"1",value:e,className:"range range-primary range-xs",onChange:h=>n(Number(h.target.value))})]}),r!==De.Rainbow&&G(Dt,{children:Le("div",{className:"form-control mt-3",children:[G("div",{className:"font-bold text-lg font-fredokaOne",children:"Draw Color"}),Le("div",{className:"mt-1 flex items-center w-full",children:[c.map((h,g)=>Le("div",{className:"w-8 h-8 mr-2 indicator",children:[G("input",{type:"color",value:h,onChange:a=>{f(a.target.value,g)},className:"colorInput"}),c.length>1&&G("span",{onClick:()=>i(g),className:"indicator-item badge badge-secondary w-3 h-3 p-0 text-sm bg-black text-white border-black cursor-pointer block text-center",style:{lineHeight:"0.5rem"},children:"x"})]},g)),c.length<5&&G("div",{className:"w-8 h-8 rounded-sm border-dashed border-2 border-black text-center leading-6 text-2xl box-border cursor-pointer",onClick:()=>{f("#000000",c.length)},children:"+"})]})]})}),[De.Basic,De.Material,De.MultiColor].includes(r)&&G(CP,{}),r===De.Text&&G(_P,{})]})},OP=()=>{const{eraserWidth:t,updateEraserWidth:e}=ge();return G(Dt,{children:Le("div",{className:"mt-3",children:[G("div",{className:"font-bold text-lg font-fredokaOne",children:"Eraser Width"}),G("input",{type:"range",min:"5",max:"50",step:"1",value:t,className:"range range-primary range-xs",onChange:n=>e(Number(n.target.value))})]})})},PP=[{type:"Sepia",text:"filters.Sepia"},{type:"Invert",text:"filters.Invert"},{type:"BlackWhite",text:"filters.BlackWhite"},{type:"Grayscale",text:"filters.Grayscale"},{type:"Blur",text:"filters.Blur"},{type:"Vintage",text:"filters.Vintage"},{type:"BlendColor",text:"filters.BlendColor"},{type:"Brownie",text:"filters.Brownie"},{type:"Kodachrome",text:"filters.Kodachrome"},{type:"Pixelate",text:"filters.Pixelate"},{type:"Polaroid",text:"filters.Polaroid"},{type:"Technicolor",text:"filters.Technicolor"},{type:"Brightness",text:"filters.Brightness"},{type:"Noise",text:"filters.Noise"},{type:"Convolute",text:"filters.Convolute"}],kP=t=>z.exports.createElement("svg",{width:"36px",height:"36px",viewBox:"0 0 76 76",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",baseProfile:"full",enableBackground:"new 0 0 76.00 76.00",xmlSpace:"preserve",fill:"#66CC89",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("path",{fill:"#66CC89",fillOpacity:1,strokeWidth:.2,strokeLinejoin:"round",d:"M 58.5835,58.5836L 53.0417,58.5836L 58.5835,53.0418L 58.5835,58.5836 Z M 34.0418,52.2504L 30.0836,56.2086L 30.0836,52.2503L 34.0418,52.2504 Z M 41.9584,52.2504L 35.6253,58.5835L 30.0836,58.5835L 30.0833,57.7918L 35.6249,52.2504L 41.9584,52.2504 Z M 49.8746,52.2504L 43.5419,58.5835L 37.2085,58.5835L 43.5415,52.2504L 49.8746,52.2504 Z M 58.5835,45.1241L 58.5835,51.4587L 51.4586,58.5835L 45.125,58.5835L 58.5835,45.1241 Z M 52.2504,34.0418L 52.2503,30.0835L 56.2087,30.0836L 52.2504,34.0418 Z M 58.5835,35.6253L 52.2504,41.9584L 52.2504,35.6249L 57.7918,30.0833L 58.5835,30.0836L 58.5835,35.6253 Z M 58.5835,43.541L 52.2504,49.8745L 52.2504,43.5415L 58.5835,37.2084L 58.5835,43.541 Z M 19,50.6667L 19,19L 50.6667,19L 50.6671,50.6661L 19,50.6667 Z "}))),LP=t=>z.exports.createElement("svg",{width:"36px",height:"36px",viewBox:"0 0 76 76",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",baseProfile:"full",enableBackground:"new 0 0 76.00 76.00",xmlSpace:"preserve",fill:"#66CC89",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("path",{fill:"#66CC89",fillOpacity:1,strokeWidth:.2,strokeLinejoin:"round",d:"M 19,50.6667L 19,19L 50.6667,19L 50.6668,28.5003L 28.5,28.5002L 28.5,50.6667L 19,50.6667 Z M 58.5835,58.5836L 53.0415,58.5833L 58.5833,53.0416L 58.5835,58.5836 Z M 58.5833,45.1249L 58.5833,51.4585L 51.4584,58.5833L 45.1249,58.5833L 58.5833,45.1249 Z M 58.5833,35.6251L 35.6251,58.5834L 30.0833,58.5834L 30.0833,57.7918L 57.7918,30.0834L 58.5835,30.0836L 58.5833,35.6251 Z M 58.5833,43.5418L 43.5418,58.5833L 37.2082,58.5833L 58.5833,37.2082L 58.5833,43.5418 Z M 56.2084,30.0833L 30.0833,56.2085L 30.0833,49.8749L 49.8749,30.0834L 56.2084,30.0833 Z M 48.2918,30.0834L 30.0833,48.2918L 30.0833,41.9582L 41.9582,30.0834L 48.2918,30.0834 Z M 40.3751,30.0833L 30.0833,40.3751L 30.0833,34.0416L 34.0415,30.0833L 40.3751,30.0833 Z "}))),MP=t=>z.exports.createElement("svg",{width:"36px",height:"36px",viewBox:"0 0 76 76",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",baseProfile:"full",enableBackground:"new 0 0 76.00 76.00",xmlSpace:"preserve",fill:"#66CC89",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("path",{fill:"#66CC89",fillOpacity:1,strokeWidth:.2,strokeLinejoin:"round",d:"M 50.6667,25.3333L 50.6667,50.6667L 25.3333,50.6667L 25.3333,25.3333L 50.6667,25.3333 Z M 17.4169,17.417L 19.7919,17.417L 17.4169,19.7921L 17.4169,17.417 Z M 27.7088,17.417L 17.4168,27.709L 17.4168,21.3752L 21.3751,17.417L 27.7088,17.417 Z M 36.417,18.6045L 36.4168,23.7503L 30.8754,23.7503L 36.0213,18.6045L 36.417,18.6045 Z M 18.6043,36.4173L 18.6043,36.0216L 23.7502,30.8755L 23.7502,36.417L 18.6043,36.4173 Z M 17.4168,29.2924L 29.2919,17.417L 35.6255,17.417L 29.2922,23.7503L 23.7502,23.7503L 23.7502,29.2923L 17.4168,35.6257L 17.4168,29.2924 Z M 58.5833,58.5833L 56.2082,58.5833L 58.5833,56.2082L 58.5833,58.5833 Z M 48.2914,58.5833L 58.5833,48.2913L 58.5833,54.6251L 54.6251,58.5833L 48.2914,58.5833 Z M 39.5832,57.3958L 39.5833,52.25L 45.1248,52.25L 39.9788,57.3958L 39.5832,57.3958 Z M 57.3959,39.583L 57.3959,39.9787L 52.25,45.1248L 52.25,39.5833L 57.3959,39.583 Z M 58.5833,46.708L 46.7082,58.5833L 40.3747,58.5833L 46.708,52.25L 52.25,52.25L 52.25,46.708L 58.5833,40.3746L 58.5833,46.708 Z "}))),AP=t=>z.exports.createElement("svg",{width:"36px",height:"36px",viewBox:"0 0 76 76",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",baseProfile:"full",enableBackground:"new 0 0 76.00 76.00",xmlSpace:"preserve",fill:"#66CC89",stroke:"#66CC89",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("path",{fill:"#66CC89",fillOpacity:1,strokeWidth:.2,strokeLinejoin:"round",d:"M 50.6667,25.3333L 50.6667,41.1667L 41.1667,41.1667L 41.1667,50.6667L 25.3333,50.6667L 25.3333,34.8333L 34.8333,34.8333L 34.8333,25.3333L 50.6667,25.3333 Z M 14.25,14.25L 16.6251,14.25L 14.25,16.6251L 14.25,14.25 Z M 24.542,14.2501L 14.25,24.5421L 14.25,18.2083L 18.2082,14.25L 24.542,14.2501 Z M 15.0415,33.2503L 33.25,15.0419L 33.2499,21.3759L 21.3751,33.2503L 15.0415,33.2503 Z M 14.25,26.1254L 26.1251,14.25L 32.4586,14.25L 14.25,32.4587L 14.25,26.1254 Z M 22.9584,33.2503L 33.25,22.9585L 33.25,29.2918L 29.2922,33.2503L 22.9584,33.2503 Z M 61.75,61.75L 59.3749,61.75L 61.75,59.3749L 61.75,61.75 Z M 51.458,61.75L 61.75,51.458L 61.75,57.7918L 57.7918,61.75L 51.458,61.75 Z M 60.9584,42.7497L 42.75,60.9581L 42.75,54.6241L 54.6249,42.7497L 60.9584,42.7497 Z M 61.75,49.8746L 49.8749,61.75L 43.5414,61.75L 61.75,43.5413L 61.75,49.8746 Z M 53.0415,42.7497L 42.75,53.0415L 42.75,46.7082L 46.7078,42.7497L 53.0415,42.7497 Z "}))),DP=()=>Le(Dt,{children:[G("div",{className:"font-bold font-fredokaOne mt-3",children:"Layer"}),Le("ul",{className:"menu menu-vertical lg:menu-horizontal bg-base-100 rounded-box mt-1 flex-row w-max",children:[G("li",{children:G("a",{className:"px-1.5 py-1",onClick:()=>Y.bringForWard(),children:G(kP,{})})}),G("li",{children:G("a",{className:"px-1.5 py-1",onClick:()=>Y.seendBackWard(),children:G(LP,{})})}),G("li",{children:G("a",{className:"px-1.5 py-1",onClick:()=>Y.bringToFront(),children:G(MP,{})})}),G("li",{children:G("a",{className:"px-1.5 py-1",onClick:()=>Y.sendToBack(),children:G(AP,{})})})]})]}),RP=()=>{var h,g,a,u,l;const{t}=Tr(),[e,n]=z.exports.useState(0),r=z.exports.useMemo(()=>{var v;let d=!1,y=1;const p=(v=Y.canvas)==null?void 0:v.getActiveObjects();if(p!=null&&p.length){d=!0;const w=p==null?void 0:p.map(C=>{var x;return(x=C.opacity)!=null?x:1});w.length&&(y=Math.max(...w))}return{show:d,opacity:y}},[e]),s=z.exports.useCallback(on.exports.debounce(()=>{var d;(d=Y.history)==null||d.saveState()},500),[]),c=d=>{var p,v,w;const y=(p=Y.canvas)==null?void 0:p.getActiveObjects();y!=null&&y.length&&(y==null||y.forEach(C=>{C.opacity=d}),(v=Y.canvas)==null||v.fire("selection:updated"),(w=Y.canvas)==null||w.renderAll(),s())};z.exports.useEffect(()=>{const d=()=>n(y=>y+1);return Y.addHookFn(d),()=>{Y.removeHookFn(d)}},[n]);const S=d=>{var p;const y=(p=Y.canvas)==null?void 0:p.getActiveObject();M8(y,d),Y.render(),n(v=>v+1)},f=d=>{var p;const y=(p=Y.canvas)==null?void 0:p.getActiveObject();(y==null?void 0:y._customType)==="itext"?y.set("fontFamily",d):(y==null?void 0:y._customType)==="drawText"&&y._objects.forEach(v=>{v.set("fontFamily",d)}),Y.render(),n(v=>v+1)},i=z.exports.useMemo(()=>{var y,p,v;const d=(y=Y.canvas)==null?void 0:y.getActiveObject();return(d==null?void 0:d._customType)==="itext"?(d==null?void 0:d.fontFamily)||"":(d==null?void 0:d._customType)==="drawText"&&((v=(p=d._objects)==null?void 0:p[0])==null?void 0:v.fontFamily)||""},[e]);return Le("div",{className:"form-control",children:[r.show&&Le(Dt,{children:[G("div",{className:"font-bold font-fredokaOne mt-3",children:"Opacity"}),G("div",{className:"mt-1 flex items-center w-full",children:G("input",{className:"range range-primary range-xs",type:"range",min:"0",max:"1",step:"0.01",value:r.opacity,onChange:d=>c(Number(d.target.value))})})]}),((h=Y.canvas)==null?void 0:h.getActiveObject())&&G(DP,{}),((a=(g=Y.canvas)==null?void 0:g.getActiveObject())==null?void 0:a.type)==="image"&&Le(Dt,{children:[G("div",{className:"font-bold font-fredokaOne mt-3",children:"Image Filters"}),G("div",{className:"flex flex-row flex-wrap w-72 items-center justify-between",children:PP.map((d,y)=>{var p,v,w,C;return Le("label",{className:"cursor-pointer label inline-flex w-32",children:[G("span",{className:"label-text mr-2",children:t(d.text)}),G("input",{type:"checkbox",checked:((C=(w=(v=(p=Y.canvas)==null?void 0:p.getActiveObject())==null?void 0:v.filters)==null?void 0:w.map(x=>{var b;return(b=x==null?void 0:x.type)!=null?b:""}))!=null?C:[]).includes(d.type),onChange:()=>S(d.type),className:"checkbox checkbox-success"})]},y)})})]}),["drawText","itext"].includes((l=(u=Y.canvas)==null?void 0:u.getActiveObject())==null?void 0:l._customType)&&G(n2,{fontFamily:i,updateFontFamily:f})]})},IP=t=>z.exports.createElement("svg",{t:1702136520403,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":1624,xmlnsXlink:"http://www.w3.org/1999/xlink",width:36,height:36,...t},z.exports.createElement("path",{d:"M0 0h192v192H0z","p-id":1625,fill:"#65CC8A"}),z.exports.createElement("path",{d:"M192 192h192v192H192z",opacity:.6,"p-id":1626,fill:"#65CC8A"}),z.exports.createElement("path",{d:"M384 0h192v192H384z",opacity:.8,"p-id":1627,fill:"#65CC8A"}),z.exports.createElement("path",{d:"M576 192h192v192H576z",opacity:.4,"p-id":1628,fill:"#65CC8A"}),z.exports.createElement("path",{d:"M768 0h192v192h-192z",opacity:.6,"p-id":1629,fill:"#65CC8A"}),z.exports.createElement("path",{d:"M0 384h192v192H0z",opacity:.8,"p-id":1630,fill:"#65CC8A"}),z.exports.createElement("path",{d:"M192 576h192v192H192zM384 384h192v192H384z",opacity:.4,"p-id":1631,fill:"#65CC8A"}),z.exports.createElement("path",{d:"M576 576h192v192H576zM768 384h192v192h-192z",opacity:.2,"p-id":1632,fill:"#65CC8A"}),z.exports.createElement("path",{d:"M0 768h192v192H0z",opacity:.4,"p-id":1633,fill:"#65CC8A"}),z.exports.createElement("path",{d:"M384 768h192v192H384z",opacity:.2,"p-id":1634,fill:"#65CC8A"}),z.exports.createElement("path",{d:"M768 768h192v192h-192z",opacity:.1,"p-id":1635,fill:"#65CC8A"})),FP=()=>{const{backgroundColor:t,backgroundOpacity:e,updateBackgroundColor:n,updateBackgroundOpacity:r,initBackground:s,isObjectCaching:c,updateCacheState:S}=wt(),{t:f}=Tr(),i=z.exports.useCallback(on.exports.debounce(()=>{Y.render()},500),[]);return z.exports.useEffect(()=>{Y.canvas&&s()},[]),z.exports.useEffect(()=>(Y.addHookFn(s),()=>{Y.removeHookFn(s)}),[s]),Le(Dt,{children:[Le("div",{className:"form-control mt-3",children:[G("div",{className:"font-bold font-fredokaOne",children:"Background"}),Le("div",{className:"mt-1 flex items-center w-full",children:[G("div",{className:"w-8 h-8",children:G("input",{type:"color",value:S8(t||""),onChange:h=>{n(h.target.value),i()},className:"colorInput"})}),G("div",{className:"divider divider-horizontal mx-3"}),G(IP,{className:"mr-2"}),G("input",{className:"range range-primary range-xs",type:"range",min:"0",max:"1",step:"0.01",value:String(e),onChange:h=>{r(Number(h.target.value)),i()}})]})]}),Le("div",{className:"form-control mt-3",children:[G("div",{className:"font-bold font-fredokaOne",children:"Cache"}),Le("div",{className:"mt-1 flex items-start w-full",children:[G("input",{type:"checkbox",className:"toggle toggle-success",checked:c,onChange:S}),G("div",{className:"text-xs w-56 ml-3",children:f("boardConfig.cacheTip")})]})]})]})},r2=t=>z.exports.createElement("svg",{className:"{className} ",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 512 512",...t},z.exports.createElement("path",{d:"M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z"})),i2=t=>z.exports.createElement("svg",{className:"{className} ",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 512 512",...t},z.exports.createElement("polygon",{points:"400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49"})),NP=()=>{const{t}=Tr(),{mode:e,updateMode:n}=wt(),[r,s]=z.exports.useState(!0);return Le("div",{className:`fixed top-8 left-8 flex flex-col card shadow-xl overflow-visible z-3 bg-[#eef1ff] max-h-[80%] max-w-[85%] ${r?"p-5":""}`,children:[Le("label",{className:"btn btn-circle swap swap-rotate absolute -top-4 -left-4 h-8 w-8 min-h-0",children:[G("input",{type:"checkbox",onChange:()=>s(c=>!c)}),G(r2,{className:"swap-on fill-current"}),G(i2,{className:"swap-off fill-current"})]}),r&&Le("div",{className:"max-h-[100%] overflow-y-auto noScrollbar",children:[G("div",{className:"btn-group flex",children:tP.map(({type:c,text:S})=>G("button",{className:`btn btn-sm flex-grow font-fredokaOne ${e===c?"btn-active":""}`,onClick:()=>{n(c)},children:t(S)},c))}),e===lt.DRAW&&G(EP,{}),e===lt.ERASE&&G(OP,{}),e===lt.SELECT&&G(RP,{}),e===lt.Board&&G(FP,{})]})]})},BP=t=>z.exports.createElement("svg",{fill:"#65CC8A",width:"28px",height:"28px",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("title",null,"info1"),z.exports.createElement("path",{d:"M16 3c-7.18 0-13 5.82-13 13s5.82 13 13 13 13-5.82 13-13-5.82-13-13-13zM18.039 20.783c-0.981 1.473-1.979 2.608-3.658 2.608-1.146-0.187-1.617-1.008-1.369-1.845l2.16-7.154c0.053-0.175-0.035-0.362-0.195-0.419-0.159-0.056-0.471 0.151-0.741 0.447l-1.306 1.571c-0.035-0.264-0.004-0.7-0.004-0.876 0.981-1.473 2.593-2.635 3.686-2.635 1.039 0.106 1.531 0.937 1.35 1.85l-2.175 7.189c-0.029 0.162 0.057 0.327 0.204 0.379 0.16 0.056 0.496-0.151 0.767-0.447l1.305-1.57c0.035 0.264-0.024 0.726-0.024 0.902zM17.748 11.439c-0.826 0-1.496-0.602-1.496-1.488s0.67-1.487 1.496-1.487 1.496 0.602 1.496 1.487c0 0.887-0.67 1.488-1.496 1.488z"}))),jP=t=>z.exports.createElement("svg",{className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":2917,width:30,height:30,...t},z.exports.createElement("path",{d:"M329.696785 539.274769H487.038091v-144.6129h-157.341306zM555.2065 539.274769H713.167338v-144.6129h-157.960838z",fill:"#231815","p-id":2918}),z.exports.createElement("path",{d:"M512 0C229.240454 0 0.000903 229.225101 0.000903 511.999097c0 282.761352 229.239551 512.000903 511.999097 512.000903 282.773995 0 511.997291-229.239551 511.997291-512.000903C1023.999097 229.225101 794.773995 0 512 0zM779.455475 603.700697H555.22998v210.967868h-68.193695V603.700697H263.435741V330.237747h223.60235V222.200726H555.231787v107.997284h224.223688v273.502687z",fill:"#231815","p-id":2919})),zP=t=>z.exports.createElement("svg",{className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":2771,width:30,height:30,...t},z.exports.createElement("path",{d:"M511.998194 0C229.227811 0 0.000903 229.228714 0.000903 511.999097 0.000903 794.767674 229.227811 1023.998194 511.998194 1023.998194c282.772189 0 511.999097-229.23052 511.999097-511.999097C1023.999097 229.228714 794.772189 0 511.998194 0z m4.576952 727.549335H197.680437V308.279575h310.873302v70.908439H282.319732v92.982208H492.808952v70.657374H282.319732v114.062558h234.255414v70.659181z m310.871496 0h-80.351338v-155.002256c0-32.799081-1.726743-54.027541-5.129654-63.654674a44.564774 44.564774 0 0 0-16.761687-22.435012 47.702172 47.702172 0 0 0-27.891592-8.021407c-13.91509 0-26.35992 3.803891-37.450088 11.458636-11.057656 7.613202-18.670858 17.715369-22.731232 30.308309-4.10553 12.594746-6.153779 35.880486-6.153779 69.783166v137.565044h-80.353143V423.819618h74.641887v44.620767c26.506224-34.336171 59.852589-51.469939 100.080638-51.469939 17.756912 0 33.935191 3.184359 48.610699 9.547659 14.688151 6.413874 25.812637 14.536429 33.321078 24.457975 7.542759 9.921546 12.811492 21.159824 15.73395 33.75457 2.933295 12.594746 4.436067 30.602722 4.436067 54.074503l-0.001806 188.744182z",fill:"#231815","p-id":2772})),WP=()=>{var n;const[t,e]=z.exports.useState((n=Y.evnet)==null?void 0:n.zoomEvent.handleZoomPercentage(!1));return z.exports.useEffect(()=>{var r;(r=Y.evnet)==null||r.zoomEvent.setZoomHook(s=>{e(s)})},[e]),G("div",{className:"radial-progress bg-primary text-primary-content border-4 border-primary cursor-pointer ml-2",style:{"--value":t,"--size":"1.1rem","--thickness":"0.2rem"},onClick:()=>{var r;return(r=Y.evnet)==null?void 0:r.zoomEvent.initZoom()}})},HP=({show:t,clickMask:e,children:n})=>G("div",{className:`fixed top-0 left-0 right-0 bottom-0 bg-black z-10 bg-opacity-75 ${t?"block":"hidden"}`,onClick:e,children:G("div",{className:"absolute top-1/2 left-1/2 -translate-x-2/4 -translate-y-2/4",onClick:r=>r.stopPropagation(),children:n})});function B0(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Sp(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:B0(e[n])&&B0(t[n])&&Object.keys(e[n]).length>0&&Sp(t[n],e[n])})}const s2={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ra(){const t=typeof document<"u"?document:{};return Sp(t,s2),t}const VP={document:s2,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Pn(){const t=typeof window<"u"?window:{};return Sp(t,VP),t}function UP(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function GP(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function cd(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Pu(){return Date.now()}function XP(t){const e=Pn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function YP(t,e){e===void 0&&(e="x");const n=Pn();let r,s,c;const S=XP(t);return n.WebKitCSSMatrix?(s=S.transform||S.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(f=>f.replace(",",".")).join(", ")),c=new n.WebKitCSSMatrix(s==="none"?"":s)):(c=S.MozTransform||S.OTransform||S.MsTransform||S.msTransform||S.transform||S.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=c.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=c.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=c.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Il(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function $P(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Sn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!$P(r)){const s=Object.keys(Object(r)).filter(c=>e.indexOf(c)<0);for(let c=0,S=s.length;c<S;c+=1){const f=s[c],i=Object.getOwnPropertyDescriptor(r,f);i!==void 0&&i.enumerable&&(Il(t[f])&&Il(r[f])?r[f].__swiper__?t[f]=r[f]:Sn(t[f],r[f]):!Il(t[f])&&Il(r[f])?(t[f]={},r[f].__swiper__?t[f]=r[f]:Sn(t[f],r[f])):t[f]=r[f])}}}return t}function Fl(t,e,n){t.style.setProperty(e,n)}function a2(t){let{swiper:e,targetPosition:n,side:r}=t;const s=Pn(),c=-e.translate;let S=null,f;const i=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const h=n>c?"next":"prev",g=(u,l)=>h==="next"&&u>=l||h==="prev"&&u<=l,a=()=>{f=new Date().getTime(),S===null&&(S=f);const u=Math.max(Math.min((f-S)/i,1),0),l=.5-Math.cos(u*Math.PI)/2;let d=c+l*(n-c);if(g(d,n)&&(d=n),e.wrapperEl.scrollTo({[r]:d}),g(d,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:d})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(a)};a()}function yr(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function ku(t){try{console.warn(t);return}catch{}}function Lu(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:UP(e)),n}function KP(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function qP(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function ci(t,e){return Pn().getComputedStyle(t,null).getPropertyValue(e)}function Mu(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function o2(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function fd(t,e,n){const r=Pn();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function ZP(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let c=yr(t.el,`.${r[s]}`)[0];c||(c=Lu("div",r[s]),c.className=r[s],t.el.append(c)),n[s]=c,e[s]=c}}),n}function Aa(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function QP(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const c="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:w=>w,formatFractionTotal:w=>w,bulletClass:`${c}-bullet`,bulletActiveClass:`${c}-bullet-active`,modifierClass:`${c}-`,currentClass:`${c}-current`,totalClass:`${c}-total`,hiddenClass:`${c}-hidden`,progressbarFillClass:`${c}-progressbar-fill`,progressbarOppositeClass:`${c}-progressbar-opposite`,clickableClass:`${c}-clickable`,lockClass:`${c}-lock`,horizontalClass:`${c}-horizontal`,verticalClass:`${c}-vertical`,paginationDisabledClass:`${c}-disabled`}}),e.pagination={el:null,bullets:[]};let S,f=0;const i=w=>(Array.isArray(w)?w:[w]).filter(C=>!!C);function h(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function g(w,C){const{bulletActiveClass:x}=e.params.pagination;!w||(w=w[`${C==="prev"?"previous":"next"}ElementSibling`],w&&(w.classList.add(`${x}-${C}`),w=w[`${C==="prev"?"previous":"next"}ElementSibling`],w&&w.classList.add(`${x}-${C}-${C}`)))}function a(w){const C=w.target.closest(Aa(e.params.pagination.bulletClass));if(!C)return;w.preventDefault();const x=Mu(C)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===x)return;e.slideToLoop(x)}else e.slideTo(x)}function u(){const w=e.rtl,C=e.params.pagination;if(h())return;let x=e.pagination.el;x=i(x);let b,E;const k=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,D=e.params.loop?Math.ceil(k/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(E=e.previousRealIndex||0,b=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(b=e.snapIndex,E=e.previousSnapIndex):(E=e.previousIndex||0,b=e.activeIndex||0),C.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const B=e.pagination.bullets;let W,$,re;if(C.dynamicBullets&&(S=fd(B[0],e.isHorizontal()?"width":"height",!0),x.forEach(Z=>{Z.style[e.isHorizontal()?"width":"height"]=`${S*(C.dynamicMainBullets+4)}px`}),C.dynamicMainBullets>1&&E!==void 0&&(f+=b-(E||0),f>C.dynamicMainBullets-1?f=C.dynamicMainBullets-1:f<0&&(f=0)),W=Math.max(b-f,0),$=W+(Math.min(B.length,C.dynamicMainBullets)-1),re=($+W)/2),B.forEach(Z=>{const se=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ue=>`${C.bulletActiveClass}${ue}`)].map(ue=>typeof ue=="string"&&ue.includes(" ")?ue.split(" "):ue).flat();Z.classList.remove(...se)}),x.length>1)B.forEach(Z=>{const se=Mu(Z);se===b?Z.classList.add(...C.bulletActiveClass.split(" ")):e.isElement&&Z.setAttribute("part","bullet"),C.dynamicBullets&&(se>=W&&se<=$&&Z.classList.add(...`${C.bulletActiveClass}-main`.split(" ")),se===W&&g(Z,"prev"),se===$&&g(Z,"next"))});else{const Z=B[b];if(Z&&Z.classList.add(...C.bulletActiveClass.split(" ")),e.isElement&&B.forEach((se,ue)=>{se.setAttribute("part",ue===b?"bullet-active":"bullet")}),C.dynamicBullets){const se=B[W],ue=B[$];for(let Ce=W;Ce<=$;Ce+=1)B[Ce]&&B[Ce].classList.add(...`${C.bulletActiveClass}-main`.split(" "));g(se,"prev"),g(ue,"next")}}if(C.dynamicBullets){const Z=Math.min(B.length,C.dynamicMainBullets+4),se=(S*Z-S)/2-re*S,ue=w?"right":"left";B.forEach(Ce=>{Ce.style[e.isHorizontal()?ue:"top"]=`${se}px`})}}x.forEach((B,W)=>{if(C.type==="fraction"&&(B.querySelectorAll(Aa(C.currentClass)).forEach($=>{$.textContent=C.formatFractionCurrent(b+1)}),B.querySelectorAll(Aa(C.totalClass)).forEach($=>{$.textContent=C.formatFractionTotal(D)})),C.type==="progressbar"){let $;C.progressbarOpposite?$=e.isHorizontal()?"vertical":"horizontal":$=e.isHorizontal()?"horizontal":"vertical";const re=(b+1)/D;let Z=1,se=1;$==="horizontal"?Z=re:se=re,B.querySelectorAll(Aa(C.progressbarFillClass)).forEach(ue=>{ue.style.transform=`translate3d(0,0,0) scaleX(${Z}) scaleY(${se})`,ue.style.transitionDuration=`${e.params.speed}ms`})}C.type==="custom"&&C.renderCustom?(B.innerHTML=C.renderCustom(e,b+1,D),W===0&&s("paginationRender",B)):(W===0&&s("paginationRender",B),s("paginationUpdate",B)),e.params.watchOverflow&&e.enabled&&B.classList[e.isLocked?"add":"remove"](C.lockClass)})}function l(){const w=e.params.pagination;if(h())return;const C=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let x=e.pagination.el;x=i(x);let b="";if(w.type==="bullets"){let E=e.params.loop?Math.ceil(C/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&E>C&&(E=C);for(let k=0;k<E;k+=1)w.renderBullet?b+=w.renderBullet.call(e,k,w.bulletClass):b+=`<${w.bulletElement} ${e.isElement?'part="bullet"':""} class="${w.bulletClass}"></${w.bulletElement}>`}w.type==="fraction"&&(w.renderFraction?b=w.renderFraction.call(e,w.currentClass,w.totalClass):b=`<span class="${w.currentClass}"></span> / <span class="${w.totalClass}"></span>`),w.type==="progressbar"&&(w.renderProgressbar?b=w.renderProgressbar.call(e,w.progressbarFillClass):b=`<span class="${w.progressbarFillClass}"></span>`),e.pagination.bullets=[],x.forEach(E=>{w.type!=="custom"&&(E.innerHTML=b||""),w.type==="bullets"&&e.pagination.bullets.push(...E.querySelectorAll(Aa(w.bulletClass)))}),w.type!=="custom"&&s("paginationRender",x[0])}function d(){e.params.pagination=ZP(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const w=e.params.pagination;if(!w.el)return;let C;typeof w.el=="string"&&e.isElement&&(C=e.el.querySelector(w.el)),!C&&typeof w.el=="string"&&(C=[...document.querySelectorAll(w.el)]),C||(C=w.el),!(!C||C.length===0)&&(e.params.uniqueNavElements&&typeof w.el=="string"&&Array.isArray(C)&&C.length>1&&(C=[...e.el.querySelectorAll(w.el)],C.length>1&&(C=C.filter(x=>o2(x,".swiper")[0]===e.el)[0])),Array.isArray(C)&&C.length===1&&(C=C[0]),Object.assign(e.pagination,{el:C}),C=i(C),C.forEach(x=>{w.type==="bullets"&&w.clickable&&x.classList.add(...(w.clickableClass||"").split(" ")),x.classList.add(w.modifierClass+w.type),x.classList.add(e.isHorizontal()?w.horizontalClass:w.verticalClass),w.type==="bullets"&&w.dynamicBullets&&(x.classList.add(`${w.modifierClass}${w.type}-dynamic`),f=0,w.dynamicMainBullets<1&&(w.dynamicMainBullets=1)),w.type==="progressbar"&&w.progressbarOpposite&&x.classList.add(w.progressbarOppositeClass),w.clickable&&x.addEventListener("click",a),e.enabled||x.classList.add(w.lockClass)}))}function y(){const w=e.params.pagination;if(h())return;let C=e.pagination.el;C&&(C=i(C),C.forEach(x=>{x.classList.remove(w.hiddenClass),x.classList.remove(w.modifierClass+w.type),x.classList.remove(e.isHorizontal()?w.horizontalClass:w.verticalClass),w.clickable&&(x.classList.remove(...(w.clickableClass||"").split(" ")),x.removeEventListener("click",a))})),e.pagination.bullets&&e.pagination.bullets.forEach(x=>x.classList.remove(...w.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const w=e.params.pagination;let{el:C}=e.pagination;C=i(C),C.forEach(x=>{x.classList.remove(w.horizontalClass,w.verticalClass),x.classList.add(e.isHorizontal()?w.horizontalClass:w.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?v():(d(),l(),u())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&u()}),r("snapIndexChange",()=>{u()}),r("snapGridLengthChange",()=>{l(),u()}),r("destroy",()=>{y()}),r("enable disable",()=>{let{el:w}=e.pagination;w&&(w=i(w),w.forEach(C=>C.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{u()}),r("click",(w,C)=>{const x=C.target,b=i(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&b&&b.length>0&&!x.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&x===e.navigation.nextEl||e.navigation.prevEl&&x===e.navigation.prevEl))return;const E=b[0].classList.contains(e.params.pagination.hiddenClass);s(E===!0?"paginationShow":"paginationHide"),b.forEach(k=>k.classList.toggle(e.params.pagination.hiddenClass))}});const p=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:w}=e.pagination;w&&(w=i(w),w.forEach(C=>C.classList.remove(e.params.pagination.paginationDisabledClass))),d(),l(),u()},v=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:w}=e.pagination;w&&(w=i(w),w.forEach(C=>C.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:p,disable:v,render:l,update:u,init:d,destroy:y})}let eh;function JP(){const t=Pn(),e=ra();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function l2(){return eh||(eh=JP()),eh}let th;function e9(t){let{userAgent:e}=t===void 0?{}:t;const n=l2(),r=Pn(),s=r.navigator.platform,c=e||r.navigator.userAgent,S={ios:!1,android:!1},f=r.screen.width,i=r.screen.height,h=c.match(/(Android);?[\s\/]+([\d.]+)?/);let g=c.match(/(iPad).*OS\s([\d_]+)/);const a=c.match(/(iPod)(.*OS\s([\d_]+))?/),u=!g&&c.match(/(iPhone\sOS|iOS)\s([\d_]+)/),l=s==="Win32";let d=s==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&d&&n.touch&&y.indexOf(`${f}x${i}`)>=0&&(g=c.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),d=!1),h&&!l&&(S.os="android",S.android=!0),(g||u||a)&&(S.os="ios",S.ios=!0),S}function t9(t){return t===void 0&&(t={}),th||(th=e9(t)),th}let nh;function n9(){const t=Pn();let e=!1;function n(){const r=t.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}if(n()){const r=String(t.navigator.userAgent);if(r.includes("Version/")){const[s,c]=r.split("Version/")[1].split(" ")[0].split(".").map(S=>Number(S));e=s<16||s===16&&c<2}}return{isSafari:e||n(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function r9(){return nh||(nh=n9()),nh}function i9(t){let{swiper:e,on:n,emit:r}=t;const s=Pn();let c=null,S=null;const f=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},i=()=>{!e||e.destroyed||!e.initialized||(c=new ResizeObserver(a=>{S=s.requestAnimationFrame(()=>{const{width:u,height:l}=e;let d=u,y=l;a.forEach(p=>{let{contentBoxSize:v,contentRect:w,target:C}=p;C&&C!==e.el||(d=w?w.width:(v[0]||v).inlineSize,y=w?w.height:(v[0]||v).blockSize)}),(d!==u||y!==l)&&f()})}),c.observe(e.el))},h=()=>{S&&s.cancelAnimationFrame(S),c&&c.unobserve&&e.el&&(c.unobserve(e.el),c=null)},g=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){i();return}s.addEventListener("resize",f),s.addEventListener("orientationchange",g)}),n("destroy",()=>{h(),s.removeEventListener("resize",f),s.removeEventListener("orientationchange",g)})}function s9(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const c=[],S=Pn(),f=function(g,a){a===void 0&&(a={});const u=S.MutationObserver||S.WebkitMutationObserver,l=new u(d=>{if(e.__preventObserver__)return;if(d.length===1){s("observerUpdate",d[0]);return}const y=function(){s("observerUpdate",d[0])};S.requestAnimationFrame?S.requestAnimationFrame(y):S.setTimeout(y,0)});l.observe(g,{attributes:typeof a.attributes>"u"?!0:a.attributes,childList:typeof a.childList>"u"?!0:a.childList,characterData:typeof a.characterData>"u"?!0:a.characterData}),c.push(l)},i=()=>{if(!!e.params.observer){if(e.params.observeParents){const g=o2(e.hostEl);for(let a=0;a<g.length;a+=1)f(g[a])}f(e.hostEl,{childList:e.params.observeSlideChildren}),f(e.wrapperEl,{attributes:!1})}},h=()=>{c.forEach(g=>{g.disconnect()}),c.splice(0,c.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",i),r("destroy",h)}var a9={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(c=>{r.eventsListeners[c]||(r.eventsListeners[c]=[]),r.eventsListeners[c][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var c=arguments.length,S=new Array(c),f=0;f<c;f++)S[f]=arguments[f];e.apply(r,S)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,c)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(c,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var s=arguments.length,c=new Array(s),S=0;S<s;S++)c[S]=arguments[S];return typeof c[0]=="string"||Array.isArray(c[0])?(e=c[0],n=c.slice(1,c.length),r=t):(e=c[0].events,n=c[0].data,r=c[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(i=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(h=>{h.apply(r,[i,...n])}),t.eventsListeners&&t.eventsListeners[i]&&t.eventsListeners[i].forEach(h=>{h.apply(r,n)})}),t}};function o9(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(ci(r,"padding-left")||0,10)-parseInt(ci(r,"padding-right")||0,10),n=n-parseInt(ci(r,"padding-top")||0,10)-parseInt(ci(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function l9(){const t=this;function e(W,$){return parseFloat(W.getPropertyValue(t.getDirectionLabel($))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,size:c,rtlTranslate:S,wrongRTL:f}=t,i=t.virtual&&n.virtual.enabled,h=i?t.virtual.slides.length:t.slides.length,g=yr(s,`.${t.params.slideClass}, swiper-slide`),a=i?t.virtual.slides.length:g.length;let u=[];const l=[],d=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let p=n.slidesOffsetAfter;typeof p=="function"&&(p=n.slidesOffsetAfter.call(t));const v=t.snapGrid.length,w=t.slidesGrid.length;let C=n.spaceBetween,x=-y,b=0,E=0;if(typeof c>"u")return;typeof C=="string"&&C.indexOf("%")>=0?C=parseFloat(C.replace("%",""))/100*c:typeof C=="string"&&(C=parseFloat(C)),t.virtualSize=-C,g.forEach(W=>{S?W.style.marginLeft="":W.style.marginRight="",W.style.marginBottom="",W.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Fl(r,"--swiper-centered-offset-before",""),Fl(r,"--swiper-centered-offset-after",""));const k=n.grid&&n.grid.rows>1&&t.grid;k?t.grid.initSlides(g):t.grid&&t.grid.unsetSlides();let D;const B=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(W=>typeof n.breakpoints[W].slidesPerView<"u").length>0;for(let W=0;W<a;W+=1){D=0;let $;if(g[W]&&($=g[W]),k&&t.grid.updateSlide(W,$,g),!(g[W]&&ci($,"display")==="none")){if(n.slidesPerView==="auto"){B&&(g[W].style[t.getDirectionLabel("width")]="");const re=getComputedStyle($),Z=$.style.transform,se=$.style.webkitTransform;if(Z&&($.style.transform="none"),se&&($.style.webkitTransform="none"),n.roundLengths)D=t.isHorizontal()?fd($,"width",!0):fd($,"height",!0);else{const ue=e(re,"width"),Ce=e(re,"padding-left"),be=e(re,"padding-right"),ee=e(re,"margin-left"),P=e(re,"margin-right"),R=re.getPropertyValue("box-sizing");if(R&&R==="border-box")D=ue+ee+P;else{const{clientWidth:I,offsetWidth:N}=$;D=ue+Ce+be+ee+P+(N-I)}}Z&&($.style.transform=Z),se&&($.style.webkitTransform=se),n.roundLengths&&(D=Math.floor(D))}else D=(c-(n.slidesPerView-1)*C)/n.slidesPerView,n.roundLengths&&(D=Math.floor(D)),g[W]&&(g[W].style[t.getDirectionLabel("width")]=`${D}px`);g[W]&&(g[W].swiperSlideSize=D),d.push(D),n.centeredSlides?(x=x+D/2+b/2+C,b===0&&W!==0&&(x=x-c/2-C),W===0&&(x=x-c/2-C),Math.abs(x)<1/1e3&&(x=0),n.roundLengths&&(x=Math.floor(x)),E%n.slidesPerGroup===0&&u.push(x),l.push(x)):(n.roundLengths&&(x=Math.floor(x)),(E-Math.min(t.params.slidesPerGroupSkip,E))%t.params.slidesPerGroup===0&&u.push(x),l.push(x),x=x+D+C),t.virtualSize+=D+C,b=D,E+=1}}if(t.virtualSize=Math.max(t.virtualSize,c)+p,S&&f&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+C}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+C}px`),k&&t.grid.updateWrapperSize(D,u),!n.centeredSlides){const W=[];for(let $=0;$<u.length;$+=1){let re=u[$];n.roundLengths&&(re=Math.floor(re)),u[$]<=t.virtualSize-c&&W.push(re)}u=W,Math.floor(t.virtualSize-c)-Math.floor(u[u.length-1])>1&&u.push(t.virtualSize-c)}if(i&&n.loop){const W=d[0]+C;if(n.slidesPerGroup>1){const $=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),re=W*n.slidesPerGroup;for(let Z=0;Z<$;Z+=1)u.push(u[u.length-1]+re)}for(let $=0;$<t.virtual.slidesBefore+t.virtual.slidesAfter;$+=1)n.slidesPerGroup===1&&u.push(u[u.length-1]+W),l.push(l[l.length-1]+W),t.virtualSize+=W}if(u.length===0&&(u=[0]),C!==0){const W=t.isHorizontal()&&S?"marginLeft":t.getDirectionLabel("marginRight");g.filter(($,re)=>!n.cssMode||n.loop?!0:re!==g.length-1).forEach($=>{$.style[W]=`${C}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let W=0;d.forEach(re=>{W+=re+(C||0)}),W-=C;const $=W-c;u=u.map(re=>re<=0?-y:re>$?$+p:re)}if(n.centerInsufficientSlides){let W=0;if(d.forEach($=>{W+=$+(C||0)}),W-=C,W<c){const $=(c-W)/2;u.forEach((re,Z)=>{u[Z]=re-$}),l.forEach((re,Z)=>{l[Z]=re+$})}}if(Object.assign(t,{slides:g,snapGrid:u,slidesGrid:l,slidesSizesGrid:d}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Fl(r,"--swiper-centered-offset-before",`${-u[0]}px`),Fl(r,"--swiper-centered-offset-after",`${t.size/2-d[d.length-1]/2}px`);const W=-t.snapGrid[0],$=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(re=>re+W),t.slidesGrid=t.slidesGrid.map(re=>re+$)}if(a!==h&&t.emit("slidesLengthChange"),u.length!==v&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),l.length!==w&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!i&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const W=`${n.containerModifierClass}backface-hidden`,$=t.el.classList.contains(W);a<=n.maxBackfaceHiddenSlides?$||t.el.classList.add(W):$&&t.el.classList.remove(W)}}function u9(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,c;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const S=f=>r?e.slides[e.getSlideIndexByData(f)]:e.slides[f];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(f=>{n.push(f)});else for(c=0;c<Math.ceil(e.params.slidesPerView);c+=1){const f=e.activeIndex+c;if(f>e.slides.length&&!r)break;n.push(S(f))}else n.push(S(e.activeIndex));for(c=0;c<n.length;c+=1)if(typeof n[c]<"u"){const f=n[c].offsetHeight;s=f>s?f:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function c9(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}function f9(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:c}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let S=-t;s&&(S=t),r.forEach(i=>{i.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let f=n.spaceBetween;typeof f=="string"&&f.indexOf("%")>=0?f=parseFloat(f.replace("%",""))/100*e.size:typeof f=="string"&&(f=parseFloat(f));for(let i=0;i<r.length;i+=1){const h=r[i];let g=h.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(g-=r[0].swiperSlideOffset);const a=(S+(n.centeredSlides?e.minTranslate():0)-g)/(h.swiperSlideSize+f),u=(S-c[0]+(n.centeredSlides?e.minTranslate():0)-g)/(h.swiperSlideSize+f),l=-(S-g),d=l+e.slidesSizesGrid[i],y=l>=0&&l<=e.size-e.slidesSizesGrid[i];(l>=0&&l<e.size-1||d>1&&d<=e.size||l<=0&&d>=e.size)&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(i),r[i].classList.add(n.slideVisibleClass)),y&&r[i].classList.add(n.slideFullyVisibleClass),h.progress=s?-a:a,h.originalProgress=s?-u:u}}function h9(t){const e=this;if(typeof t>"u"){const g=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*g||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:c,isEnd:S,progressLoop:f}=e;const i=c,h=S;if(r===0)s=0,c=!0,S=!0;else{s=(t-e.minTranslate())/r;const g=Math.abs(t-e.minTranslate())<1,a=Math.abs(t-e.maxTranslate())<1;c=g||s<=0,S=a||s>=1,g&&(s=0),a&&(s=1)}if(n.loop){const g=e.getSlideIndexByData(0),a=e.getSlideIndexByData(e.slides.length-1),u=e.slidesGrid[g],l=e.slidesGrid[a],d=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=u?f=(y-u)/d:f=(y+d-l)/d,f>1&&(f-=1)}Object.assign(e,{progress:s,progressLoop:f,isBeginning:c,isEnd:S}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),c&&!i&&e.emit("reachBeginning toEdge"),S&&!h&&e.emit("reachEnd toEdge"),(i&&!c||h&&!S)&&e.emit("fromEdge"),e.emit("progress",s)}function d9(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,c=t.virtual&&n.virtual.enabled,S=t.grid&&n.grid&&n.grid.rows>1,f=a=>yr(r,`.${n.slideClass}${a}, swiper-slide${a}`)[0];e.forEach(a=>{a.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let i,h,g;if(c)if(n.loop){let a=s-t.virtual.slidesBefore;a<0&&(a=t.virtual.slides.length+a),a>=t.virtual.slides.length&&(a-=t.virtual.slides.length),i=f(`[data-swiper-slide-index="${a}"]`)}else i=f(`[data-swiper-slide-index="${s}"]`);else S?(i=e.filter(a=>a.column===s)[0],g=e.filter(a=>a.column===s+1)[0],h=e.filter(a=>a.column===s-1)[0]):i=e[s];i&&(i.classList.add(n.slideActiveClass),S?(g&&g.classList.add(n.slideNextClass),h&&h.classList.add(n.slidePrevClass)):(g=qP(i,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!g&&(g=e[0]),g&&g.classList.add(n.slideNextClass),h=KP(i,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h===0&&(h=e[e.length-1]),h&&h.classList.add(n.slidePrevClass))),t.emitSlidesClasses()}const Jl=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},rh=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},hd=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const S=s,f=[S-e];f.push(...Array.from({length:e}).map((i,h)=>S+r+h)),t.slides.forEach((i,h)=>{f.includes(i.column)&&rh(t,h)});return}const c=s+r-1;if(t.params.rewind||t.params.loop)for(let S=s-e;S<=c+e;S+=1){const f=(S%n+n)%n;(f<s||f>c)&&rh(t,f)}else for(let S=Math.max(s-e,0);S<=Math.min(c+e,n-1);S+=1)S!==s&&(S>c||S<s)&&rh(t,S)};function p9(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let c=0;c<e.length;c+=1)typeof e[c+1]<"u"?r>=e[c]&&r<e[c+1]-(e[c+1]-e[c])/2?s=c:r>=e[c]&&r<e[c+1]&&(s=c+1):r>=e[c]&&(s=c);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function g9(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:c,realIndex:S,snapIndex:f}=e;let i=t,h;const g=l=>{let d=l-e.virtual.slidesBefore;return d<0&&(d=e.virtual.slides.length+d),d>=e.virtual.slides.length&&(d-=e.virtual.slides.length),d};if(typeof i>"u"&&(i=p9(e)),r.indexOf(n)>=0)h=r.indexOf(n);else{const l=Math.min(s.slidesPerGroupSkip,i);h=l+Math.floor((i-l)/s.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),i===c&&!e.params.loop){h!==f&&(e.snapIndex=h,e.emit("snapIndexChange"));return}if(i===c&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=g(i);return}const a=e.grid&&s.grid&&s.grid.rows>1;let u;if(e.virtual&&s.virtual.enabled&&s.loop)u=g(i);else if(a){const l=e.slides.filter(y=>y.column===i)[0];let d=parseInt(l.getAttribute("data-swiper-slide-index"),10);Number.isNaN(d)&&(d=Math.max(e.slides.indexOf(l),0)),u=Math.floor(d/s.grid.rows)}else if(e.slides[i]){const l=e.slides[i].getAttribute("data-swiper-slide-index");l?u=parseInt(l,10):u=i}else u=i;Object.assign(e,{previousSnapIndex:f,snapIndex:h,previousRealIndex:S,realIndex:u,previousIndex:c,activeIndex:i}),e.initialized&&hd(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(S!==u&&e.emit("realIndexChange"),e.emit("slideChange"))}function m9(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(f=>{!s&&f.matches&&f.matches(`.${r.slideClass}, swiper-slide`)&&(s=f)});let c=!1,S;if(s){for(let f=0;f<n.slides.length;f+=1)if(n.slides[f]===s){c=!0,S=f;break}}if(s&&c)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=S;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var v9={updateSize:o9,updateSlides:l9,updateAutoHeight:u9,updateSlidesOffset:c9,updateSlidesProgress:f9,updateProgress:h9,updateSlidesClasses:d9,updateActiveIndex:g9,updateClickedSlide:m9};function y9(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:c}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let S=YP(c,t);return S+=e.cssOverflowAdjustment(),r&&(S=-S),S||0}function w9(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:c,progress:S}=n;let f=0,i=0;const h=0;n.isHorizontal()?f=r?-t:t:i=t,s.roundLengths&&(f=Math.floor(f),i=Math.floor(i)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?f:i,s.cssMode?c[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-f:-i:s.virtualTranslate||(n.isHorizontal()?f-=n.cssOverflowAdjustment():i-=n.cssOverflowAdjustment(),c.style.transform=`translate3d(${f}px, ${i}px, ${h}px)`);let g;const a=n.maxTranslate()-n.minTranslate();a===0?g=0:g=(t-n.minTranslate())/a,g!==S&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function S9(){return-this.snapGrid[0]}function C9(){return-this.snapGrid[this.snapGrid.length-1]}function _9(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const c=this,{params:S,wrapperEl:f}=c;if(c.animating&&S.preventInteractionOnTransition)return!1;const i=c.minTranslate(),h=c.maxTranslate();let g;if(r&&t>i?g=i:r&&t<h?g=h:g=t,c.updateProgress(g),S.cssMode){const a=c.isHorizontal();if(e===0)f[a?"scrollLeft":"scrollTop"]=-g;else{if(!c.support.smoothScroll)return a2({swiper:c,targetPosition:-g,side:a?"left":"top"}),!0;f.scrollTo({[a?"left":"top"]:-g,behavior:"smooth"})}return!0}return e===0?(c.setTransition(0),c.setTranslate(g),n&&(c.emit("beforeTransitionStart",e,s),c.emit("transitionEnd"))):(c.setTransition(e),c.setTranslate(g),n&&(c.emit("beforeTransitionStart",e,s),c.emit("transitionStart")),c.animating||(c.animating=!0,c.onTranslateToWrapperTransitionEnd||(c.onTranslateToWrapperTransitionEnd=function(u){!c||c.destroyed||u.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onTranslateToWrapperTransitionEnd),c.onTranslateToWrapperTransitionEnd=null,delete c.onTranslateToWrapperTransitionEnd,n&&c.emit("transitionEnd"))}),c.wrapperEl.addEventListener("transitionend",c.onTranslateToWrapperTransitionEnd))),!0}var x9={getTranslate:y9,setTranslate:w9,minTranslate:S9,maxTranslate:C9,translateTo:_9};function b9(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function u2(t){let{swiper:e,runCallbacks:n,direction:r,step:s}=t;const{activeIndex:c,previousIndex:S}=e;let f=r;if(f||(c>S?f="next":c<S?f="prev":f="reset"),e.emit(`transition${s}`),n&&c!==S){if(f==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),f==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function T9(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),u2({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function E9(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),u2({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var O9={setTransition:b9,transitionStart:T9,transitionEnd:E9};function P9(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const c=this;let S=t;S<0&&(S=0);const{params:f,snapGrid:i,slidesGrid:h,previousIndex:g,activeIndex:a,rtlTranslate:u,wrapperEl:l,enabled:d}=c;if(c.animating&&f.preventInteractionOnTransition||!d&&!r&&!s)return!1;const y=Math.min(c.params.slidesPerGroupSkip,S);let p=y+Math.floor((S-y)/c.params.slidesPerGroup);p>=i.length&&(p=i.length-1);const v=-i[p];if(f.normalizeSlideIndex)for(let C=0;C<h.length;C+=1){const x=-Math.floor(v*100),b=Math.floor(h[C]*100),E=Math.floor(h[C+1]*100);typeof h[C+1]<"u"?x>=b&&x<E-(E-b)/2?S=C:x>=b&&x<E&&(S=C+1):x>=b&&(S=C)}if(c.initialized&&S!==a&&(!c.allowSlideNext&&(u?v>c.translate&&v>c.minTranslate():v<c.translate&&v<c.minTranslate())||!c.allowSlidePrev&&v>c.translate&&v>c.maxTranslate()&&(a||0)!==S))return!1;S!==(g||0)&&n&&c.emit("beforeSlideChangeStart"),c.updateProgress(v);let w;if(S>a?w="next":S<a?w="prev":w="reset",u&&-v===c.translate||!u&&v===c.translate)return c.updateActiveIndex(S),f.autoHeight&&c.updateAutoHeight(),c.updateSlidesClasses(),f.effect!=="slide"&&c.setTranslate(v),w!=="reset"&&(c.transitionStart(n,w),c.transitionEnd(n,w)),!1;if(f.cssMode){const C=c.isHorizontal(),x=u?v:-v;if(e===0){const b=c.virtual&&c.params.virtual.enabled;b&&(c.wrapperEl.style.scrollSnapType="none",c._immediateVirtual=!0),b&&!c._cssModeVirtualInitialSet&&c.params.initialSlide>0?(c._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{l[C?"scrollLeft":"scrollTop"]=x})):l[C?"scrollLeft":"scrollTop"]=x,b&&requestAnimationFrame(()=>{c.wrapperEl.style.scrollSnapType="",c._immediateVirtual=!1})}else{if(!c.support.smoothScroll)return a2({swiper:c,targetPosition:x,side:C?"left":"top"}),!0;l.scrollTo({[C?"left":"top"]:x,behavior:"smooth"})}return!0}return c.setTransition(e),c.setTranslate(v),c.updateActiveIndex(S),c.updateSlidesClasses(),c.emit("beforeTransitionStart",e,r),c.transitionStart(n,w),e===0?c.transitionEnd(n,w):c.animating||(c.animating=!0,c.onSlideToWrapperTransitionEnd||(c.onSlideToWrapperTransitionEnd=function(x){!c||c.destroyed||x.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onSlideToWrapperTransitionEnd),c.onSlideToWrapperTransitionEnd=null,delete c.onSlideToWrapperTransitionEnd,c.transitionEnd(n,w))}),c.wrapperEl.addEventListener("transitionend",c.onSlideToWrapperTransitionEnd)),!0}function k9(t,e,n,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this,c=s.grid&&s.params.grid&&s.params.grid.rows>1;let S=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)S=S+s.virtual.slidesBefore;else{let f;if(c){const u=S*s.params.grid.rows;f=s.slides.filter(l=>l.getAttribute("data-swiper-slide-index")*1===u)[0].column}else f=s.getSlideIndexByData(S);const i=c?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:h}=s.params;let g=s.params.slidesPerView;g==="auto"?g=s.slidesPerViewDynamic():(g=Math.ceil(parseFloat(s.params.slidesPerView,10)),h&&g%2===0&&(g=g+1));let a=i-f<g;if(h&&(a=a||f<Math.ceil(g/2)),a){const u=h?f<s.activeIndex?"prev":"next":f-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:u,slideTo:!0,activeSlideIndex:u==="next"?f+1:f-i+1,slideRealIndex:u==="next"?s.realIndex:void 0})}if(c){const u=S*s.params.grid.rows;S=s.slides.filter(l=>l.getAttribute("data-swiper-slide-index")*1===u)[0].column}else S=s.getSlideIndexByData(S)}return requestAnimationFrame(()=>{s.slideTo(S,e,n,r)}),s}function L9(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{enabled:s,params:c,animating:S}=r;if(!s)return r;let f=c.slidesPerGroup;c.slidesPerView==="auto"&&c.slidesPerGroup===1&&c.slidesPerGroupAuto&&(f=Math.max(r.slidesPerViewDynamic("current",!0),1));const i=r.activeIndex<c.slidesPerGroupSkip?1:f,h=r.virtual&&c.virtual.enabled;if(c.loop){if(S&&!h&&c.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&c.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+i,t,e,n)}),!0}return c.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+i,t,e,n)}function M9(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{params:s,snapGrid:c,slidesGrid:S,rtlTranslate:f,enabled:i,animating:h}=r;if(!i)return r;const g=r.virtual&&s.virtual.enabled;if(s.loop){if(h&&!g&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const a=f?r.translate:-r.translate;function u(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const l=u(a),d=c.map(v=>u(v));let y=c[d.indexOf(l)-1];if(typeof y>"u"&&s.cssMode){let v;c.forEach((w,C)=>{l>=w&&(v=C)}),typeof v<"u"&&(y=c[v>0?v-1:v])}let p=0;if(typeof y<"u"&&(p=S.indexOf(y),p<0&&(p=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(p=p-r.slidesPerViewDynamic("previous",!0)+1,p=Math.max(p,0))),s.rewind&&r.isBeginning){const v=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(v,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(p,t,e,n)}),!0;return r.slideTo(p,t,e,n)}function A9(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this;return r.slideTo(r.activeIndex,t,e,n)}function D9(t,e,n,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;let c=s.activeIndex;const S=Math.min(s.params.slidesPerGroupSkip,c),f=S+Math.floor((c-S)/s.params.slidesPerGroup),i=s.rtlTranslate?s.translate:-s.translate;if(i>=s.snapGrid[f]){const h=s.snapGrid[f],g=s.snapGrid[f+1];i-h>(g-h)*r&&(c+=s.params.slidesPerGroup)}else{const h=s.snapGrid[f-1],g=s.snapGrid[f];i-h<=(g-h)*r&&(c-=s.params.slidesPerGroup)}return c=Math.max(c,0),c=Math.min(c,s.slidesGrid.length-1),s.slideTo(c,t,e,n)}function R9(){const t=this,{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,c;const S=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;c=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=t.getSlideIndex(yr(n,`${S}[data-swiper-slide-index="${c}"]`)[0]),cd(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=t.getSlideIndex(yr(n,`${S}[data-swiper-slide-index="${c}"]`)[0]),cd(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var I9={slideTo:P9,slideToLoop:k9,slideNext:L9,slidePrev:M9,slideReset:A9,slideToClosest:D9,slideToClickedSlide:R9};function F9(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{yr(r,`.${n.slideClass}, swiper-slide`).forEach((a,u)=>{a.setAttribute("data-swiper-slide-index",u)})},c=e.grid&&n.grid&&n.grid.rows>1,S=n.slidesPerGroup*(c?n.grid.rows:1),f=e.slides.length%S!==0,i=c&&e.slides.length%n.grid.rows!==0,h=g=>{for(let a=0;a<g;a+=1){const u=e.isElement?Lu("swiper-slide",[n.slideBlankClass]):Lu("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(u)}};if(f){if(n.loopAddBlankSlides){const g=S-e.slides.length%S;h(g),e.recalcSlides(),e.updateSlides()}else ku("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(i){if(n.loopAddBlankSlides){const g=n.grid.rows-e.slides.length%n.grid.rows;h(g),e.recalcSlides(),e.updateSlides()}else ku("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function N9(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:s,activeSlideIndex:c,byController:S,byMousewheel:f}=t===void 0?{}:t;const i=this;if(!i.params.loop)return;i.emit("beforeLoopFix");const{slides:h,allowSlidePrev:g,allowSlideNext:a,slidesEl:u,params:l}=i,{centeredSlides:d}=l;if(i.allowSlidePrev=!0,i.allowSlideNext=!0,i.virtual&&l.virtual.enabled){n&&(!l.centeredSlides&&i.snapIndex===0?i.slideTo(i.virtual.slides.length,0,!1,!0):l.centeredSlides&&i.snapIndex<l.slidesPerView?i.slideTo(i.virtual.slides.length+i.snapIndex,0,!1,!0):i.snapIndex===i.snapGrid.length-1&&i.slideTo(i.virtual.slidesBefore,0,!1,!0)),i.allowSlidePrev=g,i.allowSlideNext=a,i.emit("loopFix");return}let y=l.slidesPerView;y==="auto"?y=i.slidesPerViewDynamic():(y=Math.ceil(parseFloat(l.slidesPerView,10)),d&&y%2===0&&(y=y+1));const p=l.slidesPerGroupAuto?y:l.slidesPerGroup;let v=p;v%p!==0&&(v+=p-v%p),v+=l.loopAdditionalSlides,i.loopedSlides=v;const w=i.grid&&l.grid&&l.grid.rows>1;h.length<y+v?ku("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):w&&l.grid.fill==="row"&&ku("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const C=[],x=[];let b=i.activeIndex;typeof c>"u"?c=i.getSlideIndex(h.filter(Z=>Z.classList.contains(l.slideActiveClass))[0]):b=c;const E=r==="next"||!r,k=r==="prev"||!r;let D=0,B=0;const W=w?Math.ceil(h.length/l.grid.rows):h.length,re=(w?h[c].column:c)+(d&&typeof s>"u"?-y/2+.5:0);if(re<v){D=Math.max(v-re,p);for(let Z=0;Z<v-re;Z+=1){const se=Z-Math.floor(Z/W)*W;if(w){const ue=W-se-1;for(let Ce=h.length-1;Ce>=0;Ce-=1)h[Ce].column===ue&&C.push(Ce)}else C.push(W-se-1)}}else if(re+y>W-v){B=Math.max(re-(W-v*2),p);for(let Z=0;Z<B;Z+=1){const se=Z-Math.floor(Z/W)*W;w?h.forEach((ue,Ce)=>{ue.column===se&&x.push(Ce)}):x.push(se)}}if(i.__preventObserver__=!0,requestAnimationFrame(()=>{i.__preventObserver__=!1}),k&&C.forEach(Z=>{h[Z].swiperLoopMoveDOM=!0,u.prepend(h[Z]),h[Z].swiperLoopMoveDOM=!1}),E&&x.forEach(Z=>{h[Z].swiperLoopMoveDOM=!0,u.append(h[Z]),h[Z].swiperLoopMoveDOM=!1}),i.recalcSlides(),l.slidesPerView==="auto"?i.updateSlides():w&&(C.length>0&&k||x.length>0&&E)&&i.slides.forEach((Z,se)=>{i.grid.updateSlide(se,Z,i.slides)}),l.watchSlidesProgress&&i.updateSlidesOffset(),n){if(C.length>0&&k){if(typeof e>"u"){const Z=i.slidesGrid[b],ue=i.slidesGrid[b+D]-Z;f?i.setTranslate(i.translate-ue):(i.slideTo(b+D,0,!1,!0),s&&(i.touchEventsData.startTranslate=i.touchEventsData.startTranslate-ue,i.touchEventsData.currentTranslate=i.touchEventsData.currentTranslate-ue))}else if(s){const Z=w?C.length/l.grid.rows:C.length;i.slideTo(i.activeIndex+Z,0,!1,!0),i.touchEventsData.currentTranslate=i.translate}}else if(x.length>0&&E)if(typeof e>"u"){const Z=i.slidesGrid[b],ue=i.slidesGrid[b-B]-Z;f?i.setTranslate(i.translate-ue):(i.slideTo(b-B,0,!1,!0),s&&(i.touchEventsData.startTranslate=i.touchEventsData.startTranslate-ue,i.touchEventsData.currentTranslate=i.touchEventsData.currentTranslate-ue))}else{const Z=w?x.length/l.grid.rows:x.length;i.slideTo(i.activeIndex-Z,0,!1,!0)}}if(i.allowSlidePrev=g,i.allowSlideNext=a,i.controller&&i.controller.control&&!S){const Z={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:c,byController:!0};Array.isArray(i.controller.control)?i.controller.control.forEach(se=>{!se.destroyed&&se.params.loop&&se.loopFix({...Z,slideTo:se.params.slidesPerView===l.slidesPerView?n:!1})}):i.controller.control instanceof i.constructor&&i.controller.control.params.loop&&i.controller.control.loopFix({...Z,slideTo:i.controller.control.params.slidesPerView===l.slidesPerView?n:!1})}i.emit("loopFix")}function B9(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const c=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[c]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var j9={loopCreate:F9,loopFix:N9,loopDestroy:B9};function z9(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function W9(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var H9={setGrabCursor:z9,unsetGrabCursor:W9};function V9(t,e){e===void 0&&(e=this);function n(r){if(!r||r===ra()||r===Pn())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function j0(t,e,n){const r=Pn(),{params:s}=t,c=s.edgeSwipeDetection,S=s.edgeSwipeThreshold;return c&&(n<=S||n>=r.innerWidth-S)?c==="prevent"?(e.preventDefault(),!0):!1:!0}function U9(t){const e=this,n=ra();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){j0(e,r,r.targetTouches[0].pageX);return}const{params:c,touches:S,enabled:f}=e;if(!f||!c.simulateTouch&&r.pointerType==="mouse"||e.animating&&c.preventInteractionOnTransition)return;!e.animating&&c.cssMode&&c.loop&&e.loopFix();let i=r.target;if(c.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(i)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const h=!!c.noSwipingClass&&c.noSwipingClass!=="",g=r.composedPath?r.composedPath():r.path;h&&r.target&&r.target.shadowRoot&&g&&(i=g[0]);const a=c.noSwipingSelector?c.noSwipingSelector:`.${c.noSwipingClass}`,u=!!(r.target&&r.target.shadowRoot);if(c.noSwiping&&(u?V9(a,i):i.closest(a))){e.allowClick=!0;return}if(c.swipeHandler&&!i.closest(c.swipeHandler))return;S.currentX=r.pageX,S.currentY=r.pageY;const l=S.currentX,d=S.currentY;if(!j0(e,r,l))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),S.startX=l,S.startY=d,s.touchStartTime=Pu(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,c.threshold>0&&(s.allowThresholdMove=!1);let y=!0;i.matches(s.focusableElements)&&(y=!1,i.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==i&&n.activeElement.blur();const p=y&&e.allowTouchMove&&c.touchStartPreventDefault;(c.touchStartForcePreventDefault||p)&&!i.isContentEditable&&r.preventDefault(),c.freeMode&&c.freeMode.enabled&&e.freeMode&&e.animating&&!c.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function G9(t){const e=ra(),n=this,r=n.touchEventsData,{params:s,touches:c,rtlTranslate:S,enabled:f}=n;if(!f||!s.simulateTouch&&t.pointerType==="mouse")return;let i=t;if(i.originalEvent&&(i=i.originalEvent),i.type==="pointermove"&&(r.touchId!==null||i.pointerId!==r.pointerId))return;let h;if(i.type==="touchmove"){if(h=[...i.changedTouches].filter(E=>E.identifier===r.touchId)[0],!h||h.identifier!==r.touchId)return}else h=i;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",i);return}const g=h.pageX,a=h.pageY;if(i.preventedByNestedSwiper){c.startX=g,c.startY=a;return}if(!n.allowTouchMove){i.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(c,{startX:g,startY:a,currentX:g,currentY:a}),r.touchStartTime=Pu());return}if(s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(a<c.startY&&n.translate<=n.maxTranslate()||a>c.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(g<c.startX&&n.translate<=n.maxTranslate()||g>c.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&i.target===e.activeElement&&i.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",i),c.previousX=c.currentX,c.previousY=c.currentY,c.currentX=g,c.currentY=a;const u=c.currentX-c.startX,l=c.currentY-c.startY;if(n.params.threshold&&Math.sqrt(u**2+l**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let E;n.isHorizontal()&&c.currentY===c.startY||n.isVertical()&&c.currentX===c.startX?r.isScrolling=!1:u*u+l*l>=25&&(E=Math.atan2(Math.abs(l),Math.abs(u))*180/Math.PI,r.isScrolling=n.isHorizontal()?E>s.touchAngle:90-E>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",i),typeof r.startMoving>"u"&&(c.currentX!==c.startX||c.currentY!==c.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&i.cancelable&&i.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&i.stopPropagation();let d=n.isHorizontal()?u:l,y=n.isHorizontal()?c.currentX-c.previousX:c.currentY-c.previousY;s.oneWayMovement&&(d=Math.abs(d)*(S?1:-1),y=Math.abs(y)*(S?1:-1)),c.diff=d,d*=s.touchRatio,S&&(d=-d,y=-y);const p=n.touchesDirection;n.swipeDirection=d>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const v=n.params.loop&&!s.cssMode,w=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(v&&w&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(E)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",i)}let C;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&p!==n.touchesDirection&&v&&w&&Math.abs(d)>=1){Object.assign(c,{startX:g,startY:a,currentX:g,currentY:a,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",i),r.isMoved=!0,r.currentTranslate=d+r.startTranslate;let x=!0,b=s.resistanceRatio;if(s.touchReleaseOnEdges&&(b=0),d>0?(v&&w&&!C&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(x=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+d)**b))):d<0&&(v&&w&&!C&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(x=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-d)**b))),x&&(i.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(d)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,c.startX=c.currentX,c.startY=c.currentY,r.currentTranslate=r.startTranslate,c.diff=n.isHorizontal()?c.currentX-c.startX:c.currentY-c.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function X9(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].filter(b=>b.identifier===n.touchId)[0],!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:S,touches:f,rtlTranslate:i,slidesGrid:h,enabled:g}=e;if(!g||!S.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&S.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}S.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const a=Pu(),u=a-n.touchStartTime;if(e.allowClick){const b=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(b&&b[0]||r.target,b),e.emit("tap click",r),u<300&&a-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Pu(),cd(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||f.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let l;if(S.followFinger?l=i?e.translate:-e.translate:l=-n.currentTranslate,S.cssMode)return;if(S.freeMode&&S.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:l});return}const d=l>=-e.maxTranslate()&&!e.params.loop;let y=0,p=e.slidesSizesGrid[0];for(let b=0;b<h.length;b+=b<S.slidesPerGroupSkip?1:S.slidesPerGroup){const E=b<S.slidesPerGroupSkip-1?1:S.slidesPerGroup;typeof h[b+E]<"u"?(d||l>=h[b]&&l<h[b+E])&&(y=b,p=h[b+E]-h[b]):(d||l>=h[b])&&(y=b,p=h[h.length-1]-h[h.length-2])}let v=null,w=null;S.rewind&&(e.isBeginning?w=S.virtual&&S.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(v=0));const C=(l-h[y])/p,x=y<S.slidesPerGroupSkip-1?1:S.slidesPerGroup;if(u>S.longSwipesMs){if(!S.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(C>=S.longSwipesRatio?e.slideTo(S.rewind&&e.isEnd?v:y+x):e.slideTo(y)),e.swipeDirection==="prev"&&(C>1-S.longSwipesRatio?e.slideTo(y+x):w!==null&&C<0&&Math.abs(C)>S.longSwipesRatio?e.slideTo(w):e.slideTo(y))}else{if(!S.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(y+x):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(v!==null?v:y+x),e.swipeDirection==="prev"&&e.slideTo(w!==null?w:y))}}function z0(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:c}=t,S=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const f=S&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!f?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!S?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&c!==t.snapGrid&&t.checkOverflow()}function Y9(t){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}function $9(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const c=t.maxTranslate()-t.minTranslate();c===0?s=0:s=(t.translate-t.minTranslate())/c,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function K9(t){const e=this;Jl(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function q9(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const c2=(t,e)=>{const n=ra(),{params:r,el:s,wrapperEl:c,device:S}=t,f=!!r.nested,i=e==="on"?"addEventListener":"removeEventListener",h=e;n[i]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:f}),s[i]("touchstart",t.onTouchStart,{passive:!1}),s[i]("pointerdown",t.onTouchStart,{passive:!1}),n[i]("touchmove",t.onTouchMove,{passive:!1,capture:f}),n[i]("pointermove",t.onTouchMove,{passive:!1,capture:f}),n[i]("touchend",t.onTouchEnd,{passive:!0}),n[i]("pointerup",t.onTouchEnd,{passive:!0}),n[i]("pointercancel",t.onTouchEnd,{passive:!0}),n[i]("touchcancel",t.onTouchEnd,{passive:!0}),n[i]("pointerout",t.onTouchEnd,{passive:!0}),n[i]("pointerleave",t.onTouchEnd,{passive:!0}),n[i]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[i]("click",t.onClick,!0),r.cssMode&&c[i]("scroll",t.onScroll),r.updateOnWindowResize?t[h](S.ios||S.android?"resize orientationchange observerUpdate":"resize observerUpdate",z0,!0):t[h]("observerUpdate",z0,!0),s[i]("load",t.onLoad,{capture:!0})};function Z9(){const t=this,{params:e}=t;t.onTouchStart=U9.bind(t),t.onTouchMove=G9.bind(t),t.onTouchEnd=X9.bind(t),t.onDocumentTouchStart=q9.bind(t),e.cssMode&&(t.onScroll=$9.bind(t)),t.onClick=Y9.bind(t),t.onLoad=K9.bind(t),c2(t,"on")}function Q9(){c2(this,"off")}var J9={attachEvents:Z9,detachEvents:Q9};const W0=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function ek(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,c=r.breakpoints;if(!c||c&&Object.keys(c).length===0)return;const S=t.getBreakpoint(c,t.params.breakpointsBase,t.el);if(!S||t.currentBreakpoint===S)return;const i=(S in c?c[S]:void 0)||t.originalParams,h=W0(t,r),g=W0(t,i),a=r.enabled;h&&!g?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!h&&g&&(s.classList.add(`${r.containerModifierClass}grid`),(i.grid.fill&&i.grid.fill==="column"||!i.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(v=>{if(typeof i[v]>"u")return;const w=r[v]&&r[v].enabled,C=i[v]&&i[v].enabled;w&&!C&&t[v].disable(),!w&&C&&t[v].enable()});const u=i.direction&&i.direction!==r.direction,l=r.loop&&(i.slidesPerView!==r.slidesPerView||u),d=r.loop;u&&n&&t.changeDirection(),Sn(t.params,i);const y=t.params.enabled,p=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),a&&!y?t.disable():!a&&y&&t.enable(),t.currentBreakpoint=S,t.emit("_beforeBreakpoint",i),n&&(l?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!d&&p?(t.loopCreate(e),t.updateSlides()):d&&!p&&t.loopDestroy()),t.emit("breakpoint",i)}function tk(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const s=Pn(),c=e==="window"?s.innerHeight:n.clientHeight,S=Object.keys(t).map(f=>{if(typeof f=="string"&&f.indexOf("@")===0){const i=parseFloat(f.substr(1));return{value:c*i,point:f}}return{value:f,point:f}});S.sort((f,i)=>parseInt(f.value,10)-parseInt(i.value,10));for(let f=0;f<S.length;f+=1){const{point:i,value:h}=S[f];e==="window"?s.matchMedia(`(min-width: ${h}px)`).matches&&(r=i):h<=n.clientWidth&&(r=i)}return r||"max"}var nk={setBreakpoint:ek,getBreakpoint:tk};function rk(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function ik(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:c}=t,S=rk(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:c.android},{ios:c.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...S),s.classList.add(...e),t.emitContainerClasses()}function sk(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var ak={addClasses:ik,removeClasses:sk};function ok(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,c=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>c}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var lk={checkOverflow:ok},dd={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function uk(t,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],c=r[s];if(typeof c!="object"||c===null){Sn(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in c)){Sn(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Sn(e,r)}}const ih={eventsEmitter:a9,update:v9,translate:x9,transition:O9,slide:I9,loop:j9,grabCursor:H9,events:J9,breakpoints:nk,checkOverflow:lk,classes:ak},sh={};class Nn{constructor(){let e,n;for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?n=s[0]:[e,n]=s,n||(n={}),n=Sn({},n),e&&!n.el&&(n.el=e);const S=ra();if(n.el&&typeof n.el=="string"&&S.querySelectorAll(n.el).length>1){const g=[];return S.querySelectorAll(n.el).forEach(a=>{const u=Sn({},n,{el:a});g.push(new Nn(u))}),g}const f=this;f.__swiper__=!0,f.support=l2(),f.device=t9({userAgent:n.userAgent}),f.browser=r9(),f.eventsListeners={},f.eventsAnyListeners=[],f.modules=[...f.__modules__],n.modules&&Array.isArray(n.modules)&&f.modules.push(...n.modules);const i={};f.modules.forEach(g=>{g({params:n,swiper:f,extendParams:uk(n,i),on:f.on.bind(f),once:f.once.bind(f),off:f.off.bind(f),emit:f.emit.bind(f)})});const h=Sn({},dd,i);return f.params=Sn({},h,sh,n),f.originalParams=Sn({},f.params),f.passedParams=Sn({},n),f.params&&f.params.on&&Object.keys(f.params.on).forEach(g=>{f.on(g,f.params.on[g])}),f.params&&f.params.onAny&&f.onAny(f.params.onAny),Object.assign(f,{enabled:f.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return f.params.direction==="horizontal"},isVertical(){return f.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:f.params.allowSlideNext,allowSlidePrev:f.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:f.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:f.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),f.emit("_swiper"),f.params.init&&f.init(),f}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=yr(n,`.${r.slideClass}, swiper-slide`),c=Mu(s[0]);return Mu(e)-c}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=yr(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),S=(r.maxTranslate()-s)*e+s;r.translateTo(S,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:s,slides:c,slidesGrid:S,slidesSizesGrid:f,size:i,activeIndex:h}=r;let g=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let a=c[h]?c[h].swiperSlideSize:0,u;for(let l=h+1;l<c.length;l+=1)c[l]&&!u&&(a+=c[l].swiperSlideSize,g+=1,a>i&&(u=!0));for(let l=h-1;l>=0;l-=1)c[l]&&!u&&(a+=c[l].swiperSlideSize,g+=1,a>i&&(u=!0))}else if(e==="current")for(let a=h+1;a<c.length;a+=1)(n?S[a]+f[a]-S[h]<i:S[a]-S[h]<i)&&(g+=1);else for(let a=h-1;a>=0;a-=1)S[h]-S[a]<i&&(g+=1);return g}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(S=>{S.complete&&Jl(e,S)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const S=e.rtlTranslate?e.translate*-1:e.translate,f=Math.min(Math.max(S,e.maxTranslate()),e.minTranslate());e.setTranslate(f),e.updateActiveIndex(),e.updateSlidesClasses()}let c;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const S=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;c=e.slideTo(S.length-1,0,!1,!0)}else c=e.slideTo(e.activeIndex,0,!1,!0);c||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(c=>{e==="vertical"?c.style.width="":c.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let S=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):yr(r,s())[0])();return!S&&n.params.createElements&&(S=Lu("div",n.params.wrapperClass),r.append(S),yr(r,`.${n.params.slideClass}`).forEach(f=>{S.append(f)})),Object.assign(n,{el:r,wrapperEl:S,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:S,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||ci(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||ci(r,"direction")==="rtl"),wrongRTL:ci(S,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(c=>{c.complete?Jl(n,c):c.addEventListener("load",S=>{Jl(n,S.target)})}),hd(n),n.initialized=!0,hd(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:s,el:c,wrapperEl:S,slides:f}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),c.removeAttribute("style"),S.removeAttribute("style"),f&&f.length&&f.forEach(i=>{i.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),i.removeAttribute("style"),i.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(i=>{r.off(i)}),e!==!1&&(r.el.swiper=null,GP(r)),r.destroyed=!0),null}static extendDefaults(e){Sn(sh,e)}static get extendedDefaults(){return sh}static get defaults(){return dd}static installModule(e){Nn.prototype.__modules__||(Nn.prototype.__modules__=[]);const n=Nn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Nn.installModule(n)),Nn):(Nn.installModule(e),Nn)}}Object.keys(ih).forEach(t=>{Object.keys(ih[t]).forEach(e=>{Nn.prototype[e]=ih[t][e]})});Nn.use([i9,s9]);const f2=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Qi(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function zs(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Qi(e[r])&&Qi(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:zs(t[r],e[r]):t[r]=e[r]})}function h2(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function d2(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function p2(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function g2(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function ck(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function fk(t){let{swiper:e,slides:n,passedParams:r,changedParams:s,nextEl:c,prevEl:S,scrollbarEl:f,paginationEl:i}=t;const h=s.filter(B=>B!=="children"&&B!=="direction"&&B!=="wrapperClass"),{params:g,pagination:a,navigation:u,scrollbar:l,virtual:d,thumbs:y}=e;let p,v,w,C,x,b,E,k;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&g.thumbs&&!g.thumbs.swiper&&(p=!0),s.includes("controller")&&r.controller&&r.controller.control&&g.controller&&!g.controller.control&&(v=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||i)&&(g.pagination||g.pagination===!1)&&a&&!a.el&&(w=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||f)&&(g.scrollbar||g.scrollbar===!1)&&l&&!l.el&&(C=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||S)&&(r.navigation.nextEl||c)&&(g.navigation||g.navigation===!1)&&u&&!u.prevEl&&!u.nextEl&&(x=!0);const D=B=>{!e[B]||(e[B].destroy(),B==="navigation"?(e.isElement&&(e[B].prevEl.remove(),e[B].nextEl.remove()),g[B].prevEl=void 0,g[B].nextEl=void 0,e[B].prevEl=void 0,e[B].nextEl=void 0):(e.isElement&&e[B].el.remove(),g[B].el=void 0,e[B].el=void 0))};s.includes("loop")&&e.isElement&&(g.loop&&!r.loop?b=!0:!g.loop&&r.loop?E=!0:k=!0),h.forEach(B=>{if(Qi(g[B])&&Qi(r[B]))Object.assign(g[B],r[B]),(B==="navigation"||B==="pagination"||B==="scrollbar")&&"enabled"in r[B]&&!r[B].enabled&&D(B);else{const W=r[B];(W===!0||W===!1)&&(B==="navigation"||B==="pagination"||B==="scrollbar")?W===!1&&D(B):g[B]=r[B]}}),h.includes("controller")&&!v&&e.controller&&e.controller.control&&g.controller&&g.controller.control&&(e.controller.control=g.controller.control),s.includes("children")&&n&&d&&g.virtual.enabled?(d.slides=n,d.update(!0)):s.includes("virtual")&&d&&g.virtual.enabled&&(n&&(d.slides=n),d.update(!0)),s.includes("children")&&n&&g.loop&&(k=!0),p&&y.init()&&y.update(!0),v&&(e.controller.control=g.controller.control),w&&(e.isElement&&(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-pagination"),i.part.add("pagination"),e.el.appendChild(i)),i&&(g.pagination.el=i),a.init(),a.render(),a.update()),C&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-scrollbar"),f.part.add("scrollbar"),e.el.appendChild(f)),f&&(g.scrollbar.el=f),l.init(),l.updateSize(),l.setTranslate()),x&&(e.isElement&&((!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-next"),c.innerHTML=e.hostEl.constructor.nextButtonSvg,c.part.add("button-next"),e.el.appendChild(c)),(!S||typeof S=="string")&&(S=document.createElement("div"),S.classList.add("swiper-button-prev"),S.innerHTML=e.hostEl.constructor.prevButtonSvg,S.part.add("button-prev"),e.el.appendChild(S))),c&&(g.navigation.nextEl=c),S&&(g.navigation.prevEl=S),u.init(),u.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(b||k)&&e.loopDestroy(),(E||k)&&e.loopCreate(),e.update()}function hk(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},s={};zs(n,dd),n._emitClasses=!0,n.init=!1;const c={},S=f2.map(i=>i.replace(/_/,"")),f=Object.assign({},t);return Object.keys(f).forEach(i=>{typeof t[i]>"u"||(S.indexOf(i)>=0?Qi(t[i])?(n[i]={},s[i]={},zs(n[i],t[i]),zs(s[i],t[i])):(n[i]=t[i],s[i]=t[i]):i.search(/on[A-Z]/)===0&&typeof t[i]=="function"?e?r[`${i[2].toLowerCase()}${i.substr(3)}`]=t[i]:n.on[`${i[2].toLowerCase()}${i.substr(3)}`]=t[i]:c[i]=t[i])}),["navigation","pagination","scrollbar"].forEach(i=>{n[i]===!0&&(n[i]={}),n[i]===!1&&delete n[i]}),{params:n,passedParams:s,rest:c,events:r}}function dk(t,e){let{el:n,nextEl:r,prevEl:s,paginationEl:c,scrollbarEl:S,swiper:f}=t;h2(e)&&r&&s&&(f.params.navigation.nextEl=r,f.originalParams.navigation.nextEl=r,f.params.navigation.prevEl=s,f.originalParams.navigation.prevEl=s),d2(e)&&c&&(f.params.pagination.el=c,f.originalParams.pagination.el=c),p2(e)&&S&&(f.params.scrollbar.el=S,f.originalParams.scrollbar.el=S),f.init(n)}function pk(t,e,n,r,s){const c=[];if(!e)return c;const S=i=>{c.indexOf(i)<0&&c.push(i)};if(n&&r){const i=r.map(s),h=n.map(s);i.join("")!==h.join("")&&S("children"),r.length!==n.length&&S("children")}return f2.filter(i=>i[0]==="_").map(i=>i.replace(/_/,"")).forEach(i=>{if(i in t&&i in e)if(Qi(t[i])&&Qi(e[i])){const h=Object.keys(t[i]),g=Object.keys(e[i]);h.length!==g.length?S(i):(h.forEach(a=>{t[i][a]!==e[i][a]&&S(i)}),g.forEach(a=>{t[i][a]!==e[i][a]&&S(i)}))}else t[i]!==e[i]&&S(i)}),c}const gk=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function m2(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function v2(t){const e=[];return ea.Children.toArray(t).forEach(n=>{m2(n)?e.push(n):n.props&&n.props.children&&v2(n.props.children).forEach(r=>e.push(r))}),e}function mk(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ea.Children.toArray(t).forEach(r=>{if(m2(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=v2(r.props.children);s.length>0?s.forEach(c=>e.push(c)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function vk(t,e,n){if(!n)return null;const r=g=>{let a=g;return g<0?a=e.length+g:a>=e.length&&(a=a-e.length),a},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:c,to:S}=n,f=t.params.loop?-e.length:0,i=t.params.loop?e.length*2:e.length,h=[];for(let g=f;g<i;g+=1)g>=c&&g<=S&&h.push(e[r(g)]);return h.map((g,a)=>ea.cloneElement(g,{swiper:t,style:s,key:`slide-${a}`}))}function $a(t,e){return typeof window>"u"?z.exports.useEffect(t,e):z.exports.useLayoutEffect(t,e)}const H0=z.exports.createContext(null),yk=z.exports.createContext(null),y2=z.exports.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:c,onSwiper:S,...f}=t===void 0?{}:t,i=!1;const[h,g]=z.exports.useState("swiper"),[a,u]=z.exports.useState(null),[l,d]=z.exports.useState(!1),y=z.exports.useRef(!1),p=z.exports.useRef(null),v=z.exports.useRef(null),w=z.exports.useRef(null),C=z.exports.useRef(null),x=z.exports.useRef(null),b=z.exports.useRef(null),E=z.exports.useRef(null),k=z.exports.useRef(null),{params:D,passedParams:B,rest:W,events:$}=hk(f),{slides:re,slots:Z}=mk(c),se=()=>{d(!l)};Object.assign(D.on,{_containerClasses(P,R){g(R)}});const ue=()=>{Object.assign(D.on,$),i=!0;const P={...D};if(delete P.wrapperClass,v.current=new Nn(P),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=re;const R={cache:!1,slides:re,renderExternal:u,renderExternalUpdate:!1};zs(v.current.params.virtual,R),zs(v.current.originalParams.virtual,R)}};p.current||ue(),v.current&&v.current.on("_beforeBreakpoint",se);const Ce=()=>{i||!$||!v.current||Object.keys($).forEach(P=>{v.current.on(P,$[P])})},be=()=>{!$||!v.current||Object.keys($).forEach(P=>{v.current.off(P,$[P])})};z.exports.useEffect(()=>()=>{v.current&&v.current.off("_beforeBreakpoint",se)}),z.exports.useEffect(()=>{!y.current&&v.current&&(v.current.emitSlidesClasses(),y.current=!0)}),$a(()=>{if(e&&(e.current=p.current),!!p.current)return v.current.destroyed&&ue(),dk({el:p.current,nextEl:x.current,prevEl:b.current,paginationEl:E.current,scrollbarEl:k.current,swiper:v.current},D),S&&S(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}},[]),$a(()=>{Ce();const P=pk(B,w.current,re,C.current,R=>R.key);return w.current=B,C.current=re,P.length&&v.current&&!v.current.destroyed&&fk({swiper:v.current,slides:re,passedParams:B,changedParams:P,nextEl:x.current,prevEl:b.current,scrollbarEl:k.current,paginationEl:E.current}),()=>{be()}}),$a(()=>{gk(v.current)},[a]);function ee(){return D.virtual?vk(v.current,re,a):re.map((P,R)=>ea.cloneElement(P,{swiper:v.current,swiperSlideIndex:R}))}return G(r,{ref:p,className:g2(`${h}${n?` ${n}`:""}`),...W,children:Le(yk.Provider,{value:v.current,children:[Z["container-start"],Le(s,{className:ck(D.wrapperClass),children:[Z["wrapper-start"],ee(),Z["wrapper-end"]]}),h2(D)&&Le(Dt,{children:[G("div",{ref:b,className:"swiper-button-prev"}),G("div",{ref:x,className:"swiper-button-next"})]}),p2(D)&&G("div",{ref:k,className:"swiper-scrollbar"}),d2(D)&&G("div",{ref:E,className:"swiper-pagination"}),Z["container-end"]]})})});y2.displayName="Swiper";const w2=z.exports.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:c,zoom:S,lazy:f,virtualIndex:i,swiperSlideIndex:h,...g}=t===void 0?{}:t;const a=z.exports.useRef(null),[u,l]=z.exports.useState("swiper-slide"),[d,y]=z.exports.useState(!1);function p(x,b,E){b===a.current&&l(E)}$a(()=>{if(typeof h<"u"&&(a.current.swiperSlideIndex=h),e&&(e.current=a.current),!(!a.current||!c)){if(c.destroyed){u!=="swiper-slide"&&l("swiper-slide");return}return c.on("_slideClass",p),()=>{!c||c.off("_slideClass",p)}}}),$a(()=>{c&&a.current&&!c.destroyed&&l(c.getSlideClasses(a.current))},[c]);const v={isActive:u.indexOf("swiper-slide-active")>=0,isVisible:u.indexOf("swiper-slide-visible")>=0,isPrev:u.indexOf("swiper-slide-prev")>=0,isNext:u.indexOf("swiper-slide-next")>=0},w=()=>typeof r=="function"?r(v):r,C=()=>{y(!0)};return Le(n,{ref:a,className:g2(`${u}${s?` ${s}`:""}`),"data-swiper-slide-index":i,onLoad:C,...g,children:[S&&G(H0.Provider,{value:v,children:Le("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof S=="number"?S:void 0,children:[w(),f&&!d&&G("div",{className:"swiper-lazy-preloader"})]})}),!S&&Le(H0.Provider,{value:v,children:[w(),f&&!d&&G("div",{className:"swiper-lazy-preloader"})]})]})});w2.displayName="SwiperSlide";const wk=[{imageList:["https://raw.githubusercontent.com/LHRUN/file-store/main/paint-board/drawMode.png"],title:"DrawMode",textList:["line1","line2","line3","line4","line5"]},{imageList:["https://raw.githubusercontent.com/LHRUN/file-store/main/paint-board/eraserMode.png"],title:"EraserMode",textList:["line1","line2"]},{imageList:["https://raw.githubusercontent.com/LHRUN/file-store/main/paint-board/selectMode.png"],title:"SelectMode",textList:["line1","line2","line3","line4","line5","line6"]},{imageList:["https://raw.githubusercontent.com/LHRUN/file-store/main/paint-board/boardMode.png"],title:"BoardMode",textList:["line1"]},{imageList:["https://raw.githubusercontent.com/LHRUN/file-store/main/paint-board/borderConfig.png"],title:"BorderConfig",textList:["line1","line2","line3","line4"]},{imageList:["https://raw.githubusercontent.com/LHRUN/file-store/main/paint-board/files.png"],title:"FileConfig",textList:["line1"]}],Sk=()=>{const{t}=Tr();return G(y2,{slidesPerView:1,spaceBetween:20,modules:[QP],pagination:{dynamicBullets:!0,clickable:!0},autoHeight:!0,grabCursor:!0,className:"max-w-[500px] xs:max-w-[80vw]",children:wk.map((e,n)=>G(w2,{children:G("div",{className:"max-h-[50vh] overflow-y-auto",children:Le("div",{className:"flex w-full rounded-2xl p-3 bg-[#66CC8920] box-border justify-between",children:[G("div",{className:"shrink-0 w-[49%] flex flex-col items-center justify-start",children:e.imageList.map((r,s)=>G("img",{className:"max-w-full max-h-full rounded-2xl mt-5 first:mt-0",src:r},s))}),Le("div",{className:"w-[48%] shrink-0 p-3 rounded-2xl bg-[#eef1ff] box-border h-max",children:[G("div",{className:"text-lg font-fredokaOne",children:e.title}),e.textList.map((r,s)=>Le("div",{className:"text-sm mt-3",children:[s+1,". ",t(`info.${e.title}.${r}`)]},s))]})]})})},n))})},Ck=()=>{const{t,i18n:e}=Tr(),{language:n,updateLanguage:r}=wt(),[s,c]=z.exports.useState(!1),S=()=>{const f=n==="en"?"zh":"en";e.changeLanguage(f),r(f)};return Le(Dt,{children:[Le("div",{className:"fixed bottom-5 left-5 flex flex-row justify-center items-center px-2.5 py-1.5 rounded-full bg-[#eef1ff]",children:[G(BP,{className:"bg-white rounded-full cursor-pointer",onClick:()=>c(!0)}),G(WP,{})]}),G(HP,{show:s,clickMask:()=>{c(!1)},children:Le("div",{className:"flex flex-col bg-white rounded-2xl overflow-hidden p-3 max-h-[80vh]",children:[Le("div",{className:"flex items-center justify-between font-bold mb-4 ",children:[Le("div",{className:"text-sm",children:["repo:",G("a",{className:"link link-primary inline-block ml-1 mr-3 break-all",href:"https://github.com/LHRUN/paint-board.git",target:"_blank",rel:"noreferrer",children:"https://github.com/LHRUN/paint-board.git"}),t("info.welecome"),"\u2B50\uFE0F"]}),G("span",{className:"ml-5 cursor-pointer border-solid border-4 border-[#7b8fa1] rounded-full hover:border-[#567189] flex items-center justify-center",onClick:S,children:n==="en"?G(zP,{}):G(jP,{})})]}),G(Sk,{})]})})]})},_k=()=>{const{t}=Tr(),e=()=>{var n;(n=Y.history)==null||n.clean()};return Le(Dt,{children:[G("input",{type:"checkbox",id:"clean-modal",className:"modal-toggle"}),G("label",{htmlFor:"clean-modal",className:"modal cursor-pointer",children:Le("label",{className:"modal-box relative flex flex-col justify-center items-center",htmlFor:"",children:[G("h3",{className:"text-lg font-bold text-center",children:t("cleanModal.title")}),Le("div",{className:"w-64 flex justify-between mt-10",children:[G("label",{htmlFor:"clean-modal",className:"btn btn-active btn-primary btn-md w-2/5",onClick:e,children:t("cleanModal.confirm")}),G("label",{htmlFor:"clean-modal",className:"btn btn-active btn-ghost btn-md w-2/5",children:t("cleanModal.cancel")})]})]})})]})},xk=t=>z.exports.createElement("svg",{className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":6082,width:26,height:26,...t},z.exports.createElement("path",{d:"M553.510259 201.860177c-312.055513 53.779187-655.249802 337.402216-45.768564 793.695176C283.646139 771.440335 83.62989 414.41051 555.277559 433.448208l1.201715 162.84822 297.307743-261.013025L552.261108 30.273979 553.510259 201.860177 553.510259 201.860177zM553.510259 201.860177","p-id":6083,fill:"#65CC8A"})),bk=t=>z.exports.createElement("svg",{className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":6082,width:26,height:26,...t},z.exports.createElement("path",{d:"M553.510259 201.860177c-312.055513 53.779187-655.249802 337.402216-45.768564 793.695176C283.646139 771.440335 83.62989 414.41051 555.277559 433.448208l1.201715 162.84822 297.307743-261.013025L552.261108 30.273979 553.510259 201.860177 553.510259 201.860177zM553.510259 201.860177","p-id":6083,fill:"#65CC8A"})),Tk=t=>z.exports.createElement("svg",{width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("g",{id:"System / Save"},z.exports.createElement("path",{id:"Vector",d:"M17 21.0002L7 21M17 21.0002L17.8031 21C18.921 21 19.48 21 19.9074 20.7822C20.2837 20.5905 20.5905 20.2843 20.7822 19.908C21 19.4806 21 18.921 21 17.8031V9.21955C21 8.77072 21 8.54521 20.9521 8.33105C20.9095 8.14 20.8393 7.95652 20.7432 7.78595C20.6366 7.59674 20.487 7.43055 20.1929 7.10378L17.4377 4.04241C17.0969 3.66374 16.9242 3.47181 16.7168 3.33398C16.5303 3.21 16.3242 3.11858 16.1073 3.06287C15.8625 3 15.5998 3 15.075 3H6.2002C5.08009 3 4.51962 3 4.0918 3.21799C3.71547 3.40973 3.40973 3.71547 3.21799 4.0918C3 4.51962 3 5.08009 3 6.2002V17.8002C3 18.9203 3 19.4796 3.21799 19.9074C3.40973 20.2837 3.71547 20.5905 4.0918 20.7822C4.5192 21 5.07899 21 6.19691 21H7M17 21.0002V17.1969C17 16.079 17 15.5192 16.7822 15.0918C16.5905 14.7155 16.2837 14.4097 15.9074 14.218C15.4796 14 14.9203 14 13.8002 14H10.2002C9.08009 14 8.51962 14 8.0918 14.218C7.71547 14.4097 7.40973 14.7155 7.21799 15.0918C7 15.5196 7 16.0801 7 17.2002V21M15 7H9",stroke:"#65CC8A",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))),Ek=t=>z.exports.createElement("svg",{t:1702137196077,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":4092,xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,...t},z.exports.createElement("path",{d:"M512 0a170.666667 170.666667 0 0 1 170.569143 164.815238L682.666667 170.666667v146.285714h146.285714a146.285714 146.285714 0 0 1 146.18819 140.8L975.238095 463.238095v24.380953a146.334476 146.334476 0 0 1-97.523809 137.947428V877.714286a146.285714 146.285714 0 0 1-140.8 146.18819L731.428571 1024H292.571429a146.285714 146.285714 0 0 1-146.188191-140.8L146.285714 877.714286V625.590857a146.358857 146.358857 0 0 1-97.426285-132.486095L48.761905 487.619048v-24.380953a146.285714 146.285714 0 0 1 140.8-146.18819L195.047619 316.952381h146.285714V170.666667A170.666667 170.666667 0 0 1 506.148571 0.097524L512 0z m268.190476 633.904762H243.809524v243.809524a48.761905 48.761905 0 0 0 41.374476 48.201143l3.754667 0.438857L292.571429 926.47619h24.380952v-46.567619a48.761905 48.761905 0 1 1 97.523809 0V926.47619l48.761905 0.024381v-133.022476a48.761905 48.761905 0 1 1 97.52381 0V926.47619h48.761905v-219.428571a48.761905 48.761905 0 1 1 97.523809 0v219.428571h24.380952a48.761905 48.761905 0 0 0 48.64-45.104761L780.190476 877.714286V633.904762z m48.761905-219.428572H195.047619a48.761905 48.761905 0 0 0-48.64 45.104762L146.285714 463.238095v24.380953a48.761905 48.761905 0 0 0 45.104762 48.64L195.047619 536.380952h633.904762a48.761905 48.761905 0 0 0 48.64-45.104762L877.714286 487.619048v-24.380953a48.761905 48.761905 0 0 0-48.761905-48.761905zM512 97.52381a73.142857 73.142857 0 0 0-73.020952 68.851809L438.857143 170.666667v146.285714h146.285714V170.666667a73.142857 73.142857 0 0 0-64.609524-72.655238l-4.242285-0.365715L512 97.52381z",fill:"#65CC8A","p-id":4093})),Ok=t=>z.exports.createElement("svg",{width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("path",{d:"M13 4H8.8C7.11984 4 6.27976 4 5.63803 4.32698C5.07354 4.6146 4.6146 5.07354 4.32698 5.63803C4 6.27976 4 7.11984 4 8.8V15.2C4 16.8802 4 17.7202 4.32698 18.362C4.6146 18.9265 5.07354 19.3854 5.63803 19.673C6.27976 20 7.11984 20 8.8 20H15.2C16.8802 20 17.7202 20 18.362 19.673C18.9265 19.3854 19.3854 18.9265 19.673 18.362C20 17.7202 20 16.8802 20 15.2V11",stroke:"#66CC89",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("path",{d:"M4 16L8.29289 11.7071C8.68342 11.3166 9.31658 11.3166 9.70711 11.7071L13 15M13 15L15.7929 12.2071C16.1834 11.8166 16.8166 11.8166 17.2071 12.2071L20 15M13 15L15.25 17.25",stroke:"#66CC89",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("path",{d:"M18 8V3M18 3L16 5M18 3L20 5",stroke:"#66CC89",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))),Pk=t=>z.exports.createElement("svg",{width:"26px",height:"26px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("path",{d:"M10.5 2.0028C9.82495 2.01194 9.4197 2.05103 9.09202 2.21799C8.71569 2.40973 8.40973 2.71569 8.21799 3.09202C8.05103 3.4197 8.01194 3.82495 8.0028 4.5M19.5 2.0028C20.1751 2.01194 20.5803 2.05103 20.908 2.21799C21.2843 2.40973 21.5903 2.71569 21.782 3.09202C21.949 3.4197 21.9881 3.82494 21.9972 4.49999M21.9972 13.5C21.9881 14.175 21.949 14.5803 21.782 14.908C21.5903 15.2843 21.2843 15.5903 20.908 15.782C20.5803 15.949 20.1751 15.9881 19.5 15.9972M22 7.99999V9.99999M14.0001 2H16M5.2 22H12.8C13.9201 22 14.4802 22 14.908 21.782C15.2843 21.5903 15.5903 21.2843 15.782 20.908C16 20.4802 16 19.9201 16 18.8V11.2C16 10.0799 16 9.51984 15.782 9.09202C15.5903 8.71569 15.2843 8.40973 14.908 8.21799C14.4802 8 13.9201 8 12.8 8H5.2C4.0799 8 3.51984 8 3.09202 8.21799C2.71569 8.40973 2.40973 8.71569 2.21799 9.09202C2 9.51984 2 10.0799 2 11.2V18.8C2 19.9201 2 20.4802 2.21799 20.908C2.40973 21.2843 2.71569 21.5903 3.09202 21.782C3.51984 22 4.07989 22 5.2 22Z",stroke:"#66CC89",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))),kk=t=>z.exports.createElement("svg",{width:"26px",height:"26px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("path",{d:"M3.5 3.5C3.5 2.94772 3.94772 2.5 4.5 2.5H19.5C20.0523 2.5 20.5 2.94772 20.5 3.5V6.5C20.5 7.05228 20.0523 7.5 19.5 7.5H18.5C17.9477 7.5 17.5 7.05228 17.5 6.5V5.5H13.5V18.5H15.5C16.0523 18.5 16.5 18.9477 16.5 19.5V20.5C16.5 21.0523 16.0523 21.5 15.5 21.5H8.5C7.94772 21.5 7.5 21.0523 7.5 20.5V19.5C7.5 18.9477 7.94772 18.5 8.5 18.5H10.5V5.5H6.5V6.5C6.5 7.05228 6.05228 7.5 5.5 7.5H4.5C3.94772 7.5 3.5 7.05228 3.5 6.5V3.5Z",fill:"#65CC8A"}))),Lk=t=>z.exports.createElement("svg",{width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("path",{d:"M10 11V17",stroke:"#66CC89",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("path",{d:"M14 11V17",stroke:"#66CC89",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("path",{d:"M4 7H20",stroke:"#66CC89",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("path",{d:"M6 7H12H18V18C18 19.6569 16.6569 21 15 21H9C7.34315 21 6 19.6569 6 18V7Z",stroke:"#66CC89",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("path",{d:"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z",stroke:"#66CC89",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))),Mk=t=>z.exports.createElement("svg",{width:"26px",height:"26px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("rect",{x:4,y:4,width:16,height:18,rx:3,stroke:"#65CC8A",strokeWidth:2}),z.exports.createElement("path",{d:"M16 10L8 10",stroke:"#65CC8A",strokeWidth:2,strokeLinecap:"round"}),z.exports.createElement("path",{d:"M16 13L8 13",stroke:"#65CC8A",strokeWidth:2,strokeLinecap:"round"}),z.exports.createElement("path",{d:"M16 16L8 16",stroke:"#65CC8A",strokeWidth:2,strokeLinecap:"round"}))),Ak=t=>z.exports.createElement("svg",{width:"26px",height:"26px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("g",{id:"Edit / Add_Plus_Square"},z.exports.createElement("path",{id:"Vector",d:"M8 12H12M12 12H16M12 12V16M12 12V8M4 16.8002V7.2002C4 6.08009 4 5.51962 4.21799 5.0918C4.40973 4.71547 4.71547 4.40973 5.0918 4.21799C5.51962 4 6.08009 4 7.2002 4H16.8002C17.9203 4 18.4801 4 18.9079 4.21799C19.2842 4.40973 19.5905 4.71547 19.7822 5.0918C20.0002 5.51962 20.0002 6.07967 20.0002 7.19978V16.7998C20.0002 17.9199 20.0002 18.48 19.7822 18.9078C19.5905 19.2841 19.2842 19.5905 18.9079 19.7822C18.4805 20 17.9215 20 16.8036 20H7.19691C6.07899 20 5.5192 20 5.0918 19.7822C4.71547 19.5905 4.40973 19.2842 4.21799 18.9079C4 18.4801 4 17.9203 4 16.8002Z",stroke:"#65CC8A",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))),Dk=t=>z.exports.createElement("svg",{width:"26px",height:"26px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("g",{id:"Edit / Add_Minus_Square"},z.exports.createElement("path",{id:"Vector",d:"M8 12H16M4 16.8002V7.2002C4 6.08009 4 5.51962 4.21799 5.0918C4.40973 4.71547 4.71547 4.40973 5.0918 4.21799C5.51962 4 6.08009 4 7.2002 4H16.8002C17.9203 4 18.4801 4 18.9079 4.21799C19.2842 4.40973 19.5905 4.71547 19.7822 5.0918C20.0002 5.51962 20.0002 6.07967 20.0002 7.19978V16.7998C20.0002 17.9199 20.0002 18.48 19.7822 18.9078C19.5905 19.2841 19.2842 19.5905 18.9079 19.7822C18.4805 20 17.9215 20 16.8036 20H7.19691C6.07899 20 5.5192 20 5.0918 19.7822C4.71547 19.5905 4.40973 19.2842 4.21799 18.9079C4 18.4801 4 17.9203 4 16.8002Z",stroke:"#65CC8A",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))),Rk=t=>z.exports.createElement("svg",{fill:"#65CC8A",width:"64px",height:"64px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("path",{d:"M11 16h2V7h3l-4-5-4 5h3z"}),z.exports.createElement("path",{d:"M5 22h14c1.103 0 2-.897 2-2v-9c0-1.103-.897-2-2-2h-4v2h4v9H5v-9h4V9H5c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2z"}))),Ik=t=>z.exports.createElement("svg",{fill:"#65CC8A",width:"64px",height:"64px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...t},z.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),z.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),z.exports.createElement("g",{id:"SVGRepo_iconCarrier"},z.exports.createElement("path",{d:"m12 18 4-5h-3V2h-2v11H8z"}),z.exports.createElement("path",{d:"M19 9h-4v2h4v9H5v-9h4V9H5c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-9c0-1.103-.897-2-2-2z"}))),Fk=({message:t})=>{const{t:e}=Tr();return G("div",{className:"toast toast-top toast-center",children:G("div",{className:"alert alert-success",children:G("div",{children:G("span",{className:"whitespace-nowrap",children:e(t)})})})})},Nk=({updateShow:t})=>{const{files:e,currentId:n,updateCurrentFile:r,updateTitle:s,addFile:c,saveJSON:S,uploadFile:f}=vr(),{updateMode:i}=wt(),[h,g]=z.exports.useState(!1),a=l=>{r(l),Y.initCanvasStorage(),i(lt.DRAW)},u=l=>{f(l).then(d=>{d?(Y.initCanvasStorage(),i(lt.DRAW)):(g(!0),setTimeout(()=>{g(!1)},1500))})};return Le("div",{className:"drawer drawer-end fixed",children:[G("input",{id:"my-drawer-4",type:"checkbox",className:"drawer-toggle"}),Le("div",{className:"drawer-side",children:[G("label",{htmlFor:"my-drawer-4",className:"drawer-overlay",onClick:()=>t(!1)}),Le("div",{className:"h-screen bg-white px-5 py-7 overflow-hidden max-w-[80%]",children:[G("div",{className:"font-fredokaOne text-2xl text-center",children:"PAINT-BOARD FILES"}),Le("div",{className:"bg-[#eef1ff] rounded-2xl mt-5 py-2 w-max max-w-full",children:[Le("div",{className:"flex justify-end items-center px-4 pb-2",children:[G(Ak,{className:"hover:bg-slate-200 cursor-pointer p-1 rounded-lg w-9 h-9",onClick:c}),G("label",{htmlFor:"delete-file-modal",children:G(Dk,{className:"hover:bg-slate-200 cursor-pointer p-1 rounded-lg w-9 h-9"})}),G(Rk,{className:"hover:bg-slate-200 cursor-pointer p-1 rounded-lg w-9 h-9",onClick:S}),G("label",{htmlFor:"file-upload",className:"cursor-pointer",children:G(Ik,{className:"hover:bg-slate-200 cursor-pointer p-1 rounded-lg w-9 h-9"})}),G("input",{type:"file",accept:"application/json",id:"file-upload",className:"hidden",onChange:l=>{var d;return u((d=l.target.files)==null?void 0:d[0])}})]}),G("ul",{className:"menu text-base-content my-2 mx-4 py-3 px-2 rounded-xl bg-white max-h-[70vh] xs:max-h-[40vh]  overflow-y-auto noScrollbar flex-nowrap max-w-full",children:e.map(l=>G("li",{className:"my-1 block rounded-lg overflow-hidden",onClick:()=>a(l.id),children:G("a",{className:`${l.id===n?"active":""}`,children:G("input",{value:l.title,className:"px-2 max-w-full",onChange:d=>s(d.target.value,l.id)})})},l.id))})]})]})]}),h&&G(Fk,{message:"toast.uploadFileFail"})]})},Bk=()=>{const{t}=Tr(),{mode:e}=wt(),[n,r]=z.exports.useState(!1),[s,c]=z.exports.useState(!0),S=()=>{Y.copyObject()},f=()=>{Y.deleteObject()},i=()=>{var l;(l=Y.history)==null||l.undo()},h=()=>{var l;(l=Y.history)==null||l.redo()},g=()=>{var l;(l=Y.textElement)==null||l.loadText()},a=l=>{var p;const d=(p=l.target.files)==null?void 0:p[0];if(!d)return;const y=new FileReader;y.onload=v=>{var C;const w=(C=v.target)==null?void 0:C.result;w&&w&&typeof w=="string"&&new Kw().addImage(w),l.target.value=""},y.readAsDataURL(d)},u=()=>{Y.saveImage()};return Le(Dt,{children:[Le("div",{className:"fixed bottom-5 left-2/4 -translate-x-2/4 flex items-center bg-[#eef1ff] rounded-full xs:flex-col xs:right-5 xs:left-auto xs:translate-x-0 xs:justify-normal xs:max-h-[70vh] overflow-y-auto noScrollbar",children:[s&&Le(Dt,{children:[G("div",{onClick:i,className:"min-xs:tooltip cursor-pointer py-1.5 pl-3 pr-2 rounded-l-full hover:bg-slate-200 xs:pl-2 xs:rounded-l-none xs:rounded-t-full","data-tip":t("operate.undo"),children:G(xk,{className:"transform scale-x-[-1] scale-y-[1]"})}),G("div",{onClick:h,className:"min-xs:tooltip cursor-pointer py-1.5 px-2 hover:bg-slate-200","data-tip":t("operate.redo"),children:G(bk,{})}),[lt.SELECT,lt.Board].includes(e)&&Le(Dt,{children:[G("div",{onClick:S,className:"min-xs:tooltip cursor-pointer py-1.5 px-2 hover:bg-slate-200","data-tip":t("operate.copy"),children:G(Pk,{})}),G("div",{onClick:f,className:"min-xs:tooltip cursor-pointer py-1.5 px-2 hover:bg-slate-200","data-tip":t("operate.delete"),children:G(Lk,{})})]}),G("div",{"data-tip":t("operate.text"),className:"min-xs:tooltip cursor-pointer py-1.5 px-2 hover:bg-slate-200",onClick:g,children:G(kk,{})}),Le("div",{className:"min-xs:tooltip cursor-pointer py-1.5 px-2 hover:bg-slate-200","data-tip":t("operate.image"),children:[G("label",{htmlFor:"image-upload",className:"cursor-pointer",children:G(Ok,{})}),G("input",{type:"file",id:"image-upload",className:"hidden",onChange:a})]}),G("label",{htmlFor:"clean-modal",className:"min-xs:tooltip cursor-pointer py-1.5 px-2 hover:bg-slate-200","data-tip":t("operate.clean"),children:G(Ek,{})}),G("div",{onClick:u,className:"min-xs:tooltip cursor-pointer py-1.5 px-2 hover:bg-slate-200","data-tip":t("operate.save"),children:G(Tk,{})}),G("label",{htmlFor:"my-drawer-4",className:"cursor-pointer py-1.5 pl-2 pr-3 rounded-r-full hover:bg-slate-200 xs:pr-2 xs:rounded-r-none xs:rounded-b-full",onClick:()=>r(!0),children:G(Mk,{})})]}),Le("label",{className:"btn btn-circle swap swap-rotate w-7 h-7 min-h-0 my-1.5 mx-2 min-xs:hidden",children:[G("input",{type:"checkbox",onChange:()=>c(l=>!l)}),G(r2,{className:"swap-on fill-current"}),G(i2,{className:"swap-off fill-current"})]})]}),n&&G(Nk,{updateShow:r})]})},jk=()=>{const{t}=Tr(),{files:e,deleteFile:n}=vr(),{updateMode:r}=wt(),s=()=>{e.length>1&&(n(),Y.initCanvasStorage(),r(lt.DRAW))};return Le(Dt,{children:[G("input",{type:"checkbox",id:"delete-file-modal",className:"modal-toggle"}),G("label",{htmlFor:"delete-file-modal",className:"modal cursor-pointer",children:Le("label",{className:"modal-box relative flex flex-col justify-center items-center",htmlFor:"",children:[G("h3",{className:"text-lg font-bold text-center",children:t("deleteFileModal.title")}),Le("div",{className:"w-64 flex justify-between mt-10",children:[G("label",{htmlFor:"delete-file-modal",className:"btn btn-active btn-primary btn-md w-2/5",onClick:s,children:t("deleteFileModal.confirm")}),G("label",{htmlFor:"delete-file-modal",className:"btn btn-active btn-ghost btn-md w-2/5",children:t("deleteFileModal.cancel")})]})]})})]})},zk=()=>{const t=z.exports.useRef(null),[e,n]=z.exports.useState(!1);return z.exports.useEffect(()=>(t.current&&Y.initCanvas(t.current).then(r=>{n(r)}),()=>{Y.removeCanvas()}),[]),Le("div",{className:"flex",children:[G("canvas",{className:"fixed top-0 left-0 w-full h-full block",ref:t}),e&&Le(Dt,{children:[G(NP,{}),G(Ck,{}),G(_k,{}),G(jk,{}),G(Bk,{})]})]})};function Wk(){return G("div",{children:G(zk,{})})}function wi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pd(t,e){return pd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},pd(t,e)}function rc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pd(t,e)}function bo(t,e){if(e&&(ir(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wi(t)}function xr(t){return xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xr(t)}function Hk(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vk(t){return Qw(t)||Hk(t)||Jw(t)||e2()}function V0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function U0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V0(Object(n),!0).forEach(function(r){br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Uk={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},Gk=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};lr(this,t),this.init(e,n)}return ur(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||Uk,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,s,c){return c&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(s).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,U0(U0({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),wr=new Gk,_i=function(){function t(){lr(this,t),this.observers={}}return ur(t,[{key:"on",value:function(n,r){var s=this;return n.split(" ").forEach(function(c){s.observers[c]=s.observers[c]||[],s.observers[c].push(r)}),this}},{key:"off",value:function(n,r){if(!!this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(s){return s!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),c=1;c<r;c++)s[c-1]=arguments[c];if(this.observers[n]){var S=[].concat(this.observers[n]);S.forEach(function(i){i.apply(void 0,s)})}if(this.observers["*"]){var f=[].concat(this.observers["*"]);f.forEach(function(i){i.apply(i,[n].concat(s))})}}}]),t}();function Da(){var t,e,n=new Promise(function(r,s){t=r,e=s});return n.resolve=t,n.reject=e,n}function G0(t){return t==null?"":""+t}function Xk(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function Cp(t,e,n){function r(f){return f&&f.indexOf("###")>-1?f.replace(/###/g,"."):f}function s(){return!t||typeof t=="string"}for(var c=typeof e!="string"?[].concat(e):e.split(".");c.length>1;){if(s())return{};var S=r(c.shift());!t[S]&&n&&(t[S]=new n),Object.prototype.hasOwnProperty.call(t,S)?t=t[S]:t={}}return s()?{}:{obj:t,k:r(c.shift())}}function X0(t,e,n){var r=Cp(t,e,Object),s=r.obj,c=r.k;s[c]=n}function Yk(t,e,n,r){var s=Cp(t,e,Object),c=s.obj,S=s.k;c[S]=c[S]||[],r&&(c[S]=c[S].concat(n)),r||c[S].push(n)}function Au(t,e){var n=Cp(t,e),r=n.obj,s=n.k;if(!!r)return r[s]}function Y0(t,e,n){var r=Au(t,n);return r!==void 0?r:Au(e,n)}function S2(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):S2(t[r],e[r],n):t[r]=e[r]);return t}function ys(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var $k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Kk(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return $k[e]}):t}var ic=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,qk=[" ",",","?","!",";"];function Zk(t,e,n){e=e||"",n=n||"";var r=qk.filter(function(f){return e.indexOf(f)<0&&n.indexOf(f)<0});if(r.length===0)return!0;var s=new RegExp("(".concat(r.map(function(f){return f==="?"?"\\?":f}).join("|"),")")),c=!s.test(t);if(!c){var S=t.indexOf(n);S>0&&!s.test(t.substring(0,S))&&(c=!0)}return c}function $0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Nl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$0(Object(n),!0).forEach(function(r){br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qk(t){var e=Jk();return function(){var r=xr(t),s;if(e){var c=xr(this).constructor;s=Reflect.construct(r,arguments,c)}else s=r.apply(this,arguments);return bo(this,s)}}function Jk(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C2(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!!t){if(t[e])return t[e];for(var r=e.split(n),s=t,c=0;c<r.length;++c){if(!s||typeof s[r[c]]=="string"&&c+1<r.length)return;if(s[r[c]]===void 0){for(var S=2,f=r.slice(c,c+S).join(n),i=s[f];i===void 0&&r.length>c+S;)S++,f=r.slice(c,c+S).join(n),i=s[f];if(i===void 0)return;if(i===null)return null;if(e.endsWith(f)){if(typeof i=="string")return i;if(f&&typeof i[f]=="string")return i[f]}var h=r.slice(c+S).join(n);return h?C2(i,h,n):void 0}s=s[r[c]]}return s}}var e6=function(t){rc(n,t);var e=Qk(n);function n(r){var s,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return lr(this,n),s=e.call(this),ic&&_i.call(wi(s)),s.data=r||{},s.options=c,s.options.keySeparator===void 0&&(s.options.keySeparator="."),s.options.ignoreJSONStructure===void 0&&(s.options.ignoreJSONStructure=!0),s}return ur(n,[{key:"addNamespaces",value:function(s){this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}},{key:"removeNamespaces",value:function(s){var c=this.options.ns.indexOf(s);c>-1&&this.options.ns.splice(c,1)}},{key:"getResource",value:function(s,c,S){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=f.keySeparator!==void 0?f.keySeparator:this.options.keySeparator,h=f.ignoreJSONStructure!==void 0?f.ignoreJSONStructure:this.options.ignoreJSONStructure,g=[s,c];S&&typeof S!="string"&&(g=g.concat(S)),S&&typeof S=="string"&&(g=g.concat(i?S.split(i):S)),s.indexOf(".")>-1&&(g=s.split("."));var a=Au(this.data,g);return a||!h||typeof S!="string"?a:C2(this.data&&this.data[s]&&this.data[s][c],S,i)}},{key:"addResource",value:function(s,c,S,f){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},h=this.options.keySeparator;h===void 0&&(h=".");var g=[s,c];S&&(g=g.concat(h?S.split(h):S)),s.indexOf(".")>-1&&(g=s.split("."),f=c,c=g[1]),this.addNamespaces(c),X0(this.data,g,f),i.silent||this.emit("added",s,c,S,f)}},{key:"addResources",value:function(s,c,S){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var i in S)(typeof S[i]=="string"||Object.prototype.toString.apply(S[i])==="[object Array]")&&this.addResource(s,c,i,S[i],{silent:!0});f.silent||this.emit("added",s,c,S)}},{key:"addResourceBundle",value:function(s,c,S,f,i){var h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},g=[s,c];s.indexOf(".")>-1&&(g=s.split("."),f=S,S=c,c=g[1]),this.addNamespaces(c);var a=Au(this.data,g)||{};f?S2(a,S,i):a=Nl(Nl({},a),S),X0(this.data,g,a),h.silent||this.emit("added",s,c,S)}},{key:"removeResourceBundle",value:function(s,c){this.hasResourceBundle(s,c)&&delete this.data[s][c],this.removeNamespaces(c),this.emit("removed",s,c)}},{key:"hasResourceBundle",value:function(s,c){return this.getResource(s,c)!==void 0}},{key:"getResourceBundle",value:function(s,c){return c||(c=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Nl(Nl({},{}),this.getResource(s,c)):this.getResource(s,c)}},{key:"getDataByLanguage",value:function(s){return this.data[s]}},{key:"hasLanguageSomeTranslations",value:function(s){var c=this.getDataByLanguage(s),S=c&&Object.keys(c)||[];return!!S.find(function(f){return c[f]&&Object.keys(c[f]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(_i),_2={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,s,c){var S=this;return e.forEach(function(f){S.processors[f]&&(n=S.processors[f].process(n,r,s,c))}),n}};function K0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K0(Object(n),!0).forEach(function(r){br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t6(t){var e=n6();return function(){var r=xr(t),s;if(e){var c=xr(this).constructor;s=Reflect.construct(r,arguments,c)}else s=r.apply(this,arguments);return bo(this,s)}}function n6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var q0={},Z0=function(t){rc(n,t);var e=t6(n);function n(r){var s,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return lr(this,n),s=e.call(this),ic&&_i.call(wi(s)),Xk(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,wi(s)),s.options=c,s.options.keySeparator===void 0&&(s.options.keySeparator="."),s.logger=wr.create("translator"),s}return ur(n,[{key:"changeLanguage",value:function(s){s&&(this.language=s)}},{key:"exists",value:function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(s==null)return!1;var S=this.resolve(s,c);return S&&S.res!==void 0}},{key:"extractFromKey",value:function(s,c){var S=c.nsSeparator!==void 0?c.nsSeparator:this.options.nsSeparator;S===void 0&&(S=":");var f=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,i=c.ns||this.options.defaultNS||[],h=S&&s.indexOf(S)>-1,g=!this.options.userDefinedKeySeparator&&!c.keySeparator&&!this.options.userDefinedNsSeparator&&!c.nsSeparator&&!Zk(s,S,f);if(h&&!g){var a=s.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:s,namespaces:i};var u=s.split(S);(S!==f||S===f&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),s=u.join(f)}return typeof i=="string"&&(i=[i]),{key:s,namespaces:i}}},{key:"translate",value:function(s,c,S){var f=this;if(ir(c)!=="object"&&this.options.overloadTranslationOptionHandler&&(c=this.options.overloadTranslationOptionHandler(arguments)),c||(c={}),s==null)return"";Array.isArray(s)||(s=[String(s)]);var i=c.returnDetails!==void 0?c.returnDetails:this.options.returnDetails,h=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,g=this.extractFromKey(s[s.length-1],c),a=g.key,u=g.namespaces,l=u[u.length-1],d=c.lng||this.language,y=c.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(y){var p=c.nsSeparator||this.options.nsSeparator;return i?(v.res="".concat(l).concat(p).concat(a),v):"".concat(l).concat(p).concat(a)}return i?(v.res=a,v):a}var v=this.resolve(s,c),w=v&&v.res,C=v&&v.usedKey||a,x=v&&v.exactUsedKey||a,b=Object.prototype.toString.apply(w),E=["[object Number]","[object Function]","[object RegExp]"],k=c.joinArrays!==void 0?c.joinArrays:this.options.joinArrays,D=!this.i18nFormat||this.i18nFormat.handleAsObject,B=typeof w!="string"&&typeof w!="boolean"&&typeof w!="number";if(D&&w&&B&&E.indexOf(b)<0&&!(typeof k=="string"&&b==="[object Array]")){if(!c.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var W=this.options.returnedObjectHandler?this.options.returnedObjectHandler(C,w,qt(qt({},c),{},{ns:u})):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");return i?(v.res=W,v):W}if(h){var $=b==="[object Array]",re=$?[]:{},Z=$?x:C;for(var se in w)if(Object.prototype.hasOwnProperty.call(w,se)){var ue="".concat(Z).concat(h).concat(se);re[se]=this.translate(ue,qt(qt({},c),{joinArrays:!1,ns:u})),re[se]===ue&&(re[se]=w[se])}w=re}}else if(D&&typeof k=="string"&&b==="[object Array]")w=w.join(k),w&&(w=this.extendTranslation(w,s,c,S));else{var Ce=!1,be=!1,ee=c.count!==void 0&&typeof c.count!="string",P=n.hasDefaultValue(c),R=ee?this.pluralResolver.getSuffix(d,c.count,c):"",I=c["defaultValue".concat(R)]||c.defaultValue;!this.isValidLookup(w)&&P&&(Ce=!0,w=I),this.isValidLookup(w)||(be=!0,w=a);var N=c.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Q=N&&be?void 0:w,F=P&&I!==w&&this.options.updateMissing;if(be||Ce||F){if(this.logger.log(F?"updateKey":"missingKey",d,l,a,F?I:w),h){var M=this.resolve(a,qt(qt({},c),{},{keySeparator:!1}));M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var V=[],q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,c.lng||this.language);if(this.options.saveMissingTo==="fallback"&&q&&q[0])for(var ae=0;ae<q.length;ae++)V.push(q[ae]);else this.options.saveMissingTo==="all"?V=this.languageUtils.toResolveHierarchy(c.lng||this.language):V.push(c.lng||this.language);var J=function(ye,_e,ie){var X=P&&ie!==w?ie:Q;f.options.missingKeyHandler?f.options.missingKeyHandler(ye,l,_e,X,F,c):f.backendConnector&&f.backendConnector.saveMissing&&f.backendConnector.saveMissing(ye,l,_e,X,F,c),f.emit("missingKey",ye,l,_e,w)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ee?V.forEach(function(fe){f.pluralResolver.getSuffixes(fe,c).forEach(function(ye){J([fe],a+ye,c["defaultValue".concat(ye)]||I)})}):J(V,a,I))}w=this.extendTranslation(w,s,c,v,S),be&&w===a&&this.options.appendNamespaceToMissingKey&&(w="".concat(l,":").concat(a)),(be||Ce)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?w=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(a):a,Ce?w:void 0):w=this.options.parseMissingKeyHandler(w))}return i?(v.res=w,v):w}},{key:"extendTranslation",value:function(s,c,S,f,i){var h=this;if(this.i18nFormat&&this.i18nFormat.parse)s=this.i18nFormat.parse(s,qt(qt({},this.options.interpolation.defaultVariables),S),f.usedLng,f.usedNS,f.usedKey,{resolved:f});else if(!S.skipInterpolation){S.interpolation&&this.interpolator.init(qt(qt({},S),{interpolation:qt(qt({},this.options.interpolation),S.interpolation)}));var g=typeof s=="string"&&(S&&S.interpolation&&S.interpolation.skipOnVariables!==void 0?S.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),a;if(g){var u=s.match(this.interpolator.nestingRegexp);a=u&&u.length}var l=S.replace&&typeof S.replace!="string"?S.replace:S;if(this.options.interpolation.defaultVariables&&(l=qt(qt({},this.options.interpolation.defaultVariables),l)),s=this.interpolator.interpolate(s,l,S.lng||this.language,S),g){var d=s.match(this.interpolator.nestingRegexp),y=d&&d.length;a<y&&(S.nest=!1)}S.nest!==!1&&(s=this.interpolator.nest(s,function(){for(var w=arguments.length,C=new Array(w),x=0;x<w;x++)C[x]=arguments[x];return i&&i[0]===C[0]&&!S.context?(h.logger.warn("It seems you are nesting recursively key: ".concat(C[0]," in key: ").concat(c[0])),null):h.translate.apply(h,C.concat([c]))},S)),S.interpolation&&this.interpolator.reset()}var p=S.postProcess||this.options.postProcess,v=typeof p=="string"?[p]:p;return s!=null&&v&&v.length&&S.applyPostProcessor!==!1&&(s=_2.handle(v,s,c,this.options&&this.options.postProcessPassResolved?qt({i18nResolved:f},S):S,this)),s}},{key:"resolve",value:function(s){var c=this,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f,i,h,g,a;return typeof s=="string"&&(s=[s]),s.forEach(function(u){if(!c.isValidLookup(f)){var l=c.extractFromKey(u,S),d=l.key;i=d;var y=l.namespaces;c.options.fallbackNS&&(y=y.concat(c.options.fallbackNS));var p=S.count!==void 0&&typeof S.count!="string",v=p&&!S.ordinal&&S.count===0&&c.pluralResolver.shouldUseIntlApi(),w=S.context!==void 0&&(typeof S.context=="string"||typeof S.context=="number")&&S.context!=="",C=S.lngs?S.lngs:c.languageUtils.toResolveHierarchy(S.lng||c.language,S.fallbackLng);y.forEach(function(x){c.isValidLookup(f)||(a=x,!q0["".concat(C[0],"-").concat(x)]&&c.utils&&c.utils.hasLoadedNamespace&&!c.utils.hasLoadedNamespace(a)&&(q0["".concat(C[0],"-").concat(x)]=!0,c.logger.warn('key "'.concat(i,'" for languages "').concat(C.join(", "),`" won't get resolved as namespace "`).concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(function(b){if(!c.isValidLookup(f)){g=b;var E=[d];if(c.i18nFormat&&c.i18nFormat.addLookupKeys)c.i18nFormat.addLookupKeys(E,d,b,x,S);else{var k;p&&(k=c.pluralResolver.getSuffix(b,S.count,S));var D="".concat(c.options.pluralSeparator,"zero");if(p&&(E.push(d+k),v&&E.push(d+D)),w){var B="".concat(d).concat(c.options.contextSeparator).concat(S.context);E.push(B),p&&(E.push(B+k),v&&E.push(B+D))}}for(var W;W=E.pop();)c.isValidLookup(f)||(h=W,f=c.getResource(b,x,W,S))}}))})}}),{res:f,usedKey:i,exactUsedKey:h,usedLng:g,usedNS:a}}},{key:"isValidLookup",value:function(s){return s!==void 0&&!(!this.options.returnNull&&s===null)&&!(!this.options.returnEmptyString&&s==="")}},{key:"getResource",value:function(s,c,S){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(s,c,S,f):this.resourceStore.getResource(s,c,S,f)}}],[{key:"hasDefaultValue",value:function(s){var c="defaultValue";for(var S in s)if(Object.prototype.hasOwnProperty.call(s,S)&&c===S.substring(0,c.length)&&s[S]!==void 0)return!0;return!1}}]),n}(_i);function ah(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Q0=function(){function t(e){lr(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=wr.create("languageUtils")}return ur(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],s=n.split("-");return this.options.lowerCaseLng?s=s.map(function(c){return c.toLowerCase()}):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),r.indexOf(s[1].toLowerCase())>-1&&(s[1]=ah(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),r.indexOf(s[1].toLowerCase())>-1&&(s[1]=ah(s[1].toLowerCase())),r.indexOf(s[2].toLowerCase())>-1&&(s[2]=ah(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var s;return n.forEach(function(c){if(!s){var S=r.formatLanguageCode(c);(!r.options.supportedLngs||r.isSupportedCode(S))&&(s=S)}}),!s&&this.options.supportedLngs&&n.forEach(function(c){if(!s){var S=r.getLanguagePartFromCode(c);if(r.isSupportedCode(S))return s=S;s=r.options.supportedLngs.find(function(f){if(f.indexOf(S)===0)return f})}}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var s=n[r];return s||(s=n[this.getScriptPartFromCode(r)]),s||(s=n[this.formatLanguageCode(r)]),s||(s=n[this.getLanguagePartFromCode(r)]),s||(s=n.default),s||[]}},{key:"toResolveHierarchy",value:function(n,r){var s=this,c=this.getFallbackCodes(r||this.options.fallbackLng||[],n),S=[],f=function(h){!h||(s.isSupportedCode(h)?S.push(h):s.logger.warn("rejecting language code not found in supportedLngs: ".concat(h)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&f(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&f(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&f(this.getLanguagePartFromCode(n))):typeof n=="string"&&f(this.formatLanguageCode(n)),c.forEach(function(i){S.indexOf(i)<0&&f(s.formatLanguageCode(i))}),S}}]),t}(),r6=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],i6={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}},s6=["v1","v2","v3"],J0={zero:0,one:1,two:2,few:3,many:4,other:5};function a6(){var t={};return r6.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:i6[e.fc]}})}),t}var o6=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};lr(this,t),this.languageUtils=e,this.options=n,this.logger=wr.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=a6()}return ur(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,r);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,s).map(function(c){return"".concat(r).concat(c)})}},{key:"getSuffixes",value:function(n){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=this.getRule(n,s);return c?this.shouldUseIntlApi()?c.resolvedOptions().pluralCategories.sort(function(S,f){return J0[S]-J0[f]}).map(function(S){return"".concat(r.options.prepend).concat(S)}):c.numbers.map(function(S){return r.getSuffix(n,S,s)}):[]}},{key:"getSuffix",value:function(n,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=this.getRule(n,s);return c?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(c.select(r)):this.getSuffixRetroCompatible(c,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var s=this,c=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),S=n.numbers[c];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(S===2?S="plural":S===1&&(S=""));var f=function(){return s.options.prepend&&S.toString()?s.options.prepend+S.toString():S.toString()};return this.options.compatibilityJSON==="v1"?S===1?"":typeof S=="number"?"_plural_".concat(S.toString()):f():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?f():this.options.prepend&&c.toString()?this.options.prepend+c.toString():c.toString()}},{key:"shouldUseIntlApi",value:function(){return!s6.includes(this.options.compatibilityJSON)}}]),t}();function e1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e1(Object(n),!0).forEach(function(r){br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var l6=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lr(this,t),this.logger=wr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return ur(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:Kk,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?ys(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?ys(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?ys(r.nestingPrefix):r.nestingPrefixEscaped||ys("$t("),this.nestingSuffix=r.nestingSuffix?ys(r.nestingSuffix):r.nestingSuffixEscaped||ys(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var s="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(s,"g")}},{key:"interpolate",value:function(n,r,s,c){var S=this,f,i,h,g=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function a(p){return p.replace(/\$/g,"$$$$")}var u=function(v){if(v.indexOf(S.formatSeparator)<0){var w=Y0(r,g,v);return S.alwaysFormat?S.format(w,void 0,s,Zn(Zn(Zn({},c),r),{},{interpolationkey:v})):w}var C=v.split(S.formatSeparator),x=C.shift().trim(),b=C.join(S.formatSeparator).trim();return S.format(Y0(r,g,x),b,s,Zn(Zn(Zn({},c),r),{},{interpolationkey:x}))};this.resetRegExp();var l=c&&c.missingInterpolationHandler||this.options.missingInterpolationHandler,d=c&&c.interpolation&&c.interpolation.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,y=[{regex:this.regexpUnescape,safeValue:function(v){return a(v)}},{regex:this.regexp,safeValue:function(v){return S.escapeValue?a(S.escape(v)):a(v)}}];return y.forEach(function(p){for(h=0;f=p.regex.exec(n);){var v=f[1].trim();if(i=u(v),i===void 0)if(typeof l=="function"){var w=l(n,f,c);i=typeof w=="string"?w:""}else if(c&&c.hasOwnProperty(v))i="";else if(d){i=f[0];continue}else S.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(n)),i="";else typeof i!="string"&&!S.useRawValueToEscape&&(i=G0(i));var C=p.safeValue(i);if(n=n.replace(f[0],C),d?(p.regex.lastIndex+=i.length,p.regex.lastIndex-=f[0].length):p.regex.lastIndex=0,h++,h>=S.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var s=this,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S,f,i;function h(l,d){var y=this.nestingOptionsSeparator;if(l.indexOf(y)<0)return l;var p=l.split(new RegExp("".concat(y,"[ ]*{"))),v="{".concat(p[1]);l=p[0],v=this.interpolate(v,i);var w=v.match(/'/g),C=v.match(/"/g);(w&&w.length%2===0&&!C||C.length%2!==0)&&(v=v.replace(/'/g,'"'));try{i=JSON.parse(v),d&&(i=Zn(Zn({},d),i))}catch(x){return this.logger.warn("failed parsing options string in nesting for key ".concat(l),x),"".concat(l).concat(y).concat(v)}return delete i.defaultValue,l}for(;S=this.nestingRegexp.exec(n);){var g=[];i=Zn({},c),i=i.replace&&typeof i.replace!="string"?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;var a=!1;if(S[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(S[1])){var u=S[1].split(this.formatSeparator).map(function(l){return l.trim()});S[1]=u.shift(),g=u,a=!0}if(f=r(h.call(this,S[1].trim(),i),i),f&&S[0]===n&&typeof f!="string")return f;typeof f!="string"&&(f=G0(f)),f||(this.logger.warn("missed to resolve ".concat(S[1]," for nesting ").concat(n)),f=""),a&&(f=g.reduce(function(l,d){return s.format(l,d,c.lng,Zn(Zn({},c),{},{interpolationkey:S[1].trim()}))},f.trim())),n=n.replace(S[0],f),this.regexp.lastIndex=0}return n}}]),t}();function t1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t1(Object(n),!0).forEach(function(r){br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u6(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var s=r[1].substring(0,r[1].length-1);if(e==="currency"&&s.indexOf(":")<0)n.currency||(n.currency=s.trim());else if(e==="relativetime"&&s.indexOf(":")<0)n.range||(n.range=s.trim());else{var c=s.split(";");c.forEach(function(S){if(!!S){var f=S.split(":"),i=Vk(f),h=i[0],g=i.slice(1),a=g.join(":").trim().replace(/^'+|'+$/g,"");n[h.trim()]||(n[h.trim()]=a),a==="false"&&(n[h.trim()]=!1),a==="true"&&(n[h.trim()]=!0),isNaN(a)||(n[h.trim()]=parseInt(a,10))}})}}return{formatName:e,formatOptions:n}}function ws(t){var e={};return function(r,s,c){var S=s+JSON.stringify(c),f=e[S];return f||(f=t(s,c),e[S]=f),f(r)}}var c6=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lr(this,t),this.logger=wr.create("formatter"),this.options=e,this.formats={number:ws(function(n,r){var s=new Intl.NumberFormat(n,r);return function(c){return s.format(c)}}),currency:ws(function(n,r){var s=new Intl.NumberFormat(n,ri(ri({},r),{},{style:"currency"}));return function(c){return s.format(c)}}),datetime:ws(function(n,r){var s=new Intl.DateTimeFormat(n,ri({},r));return function(c){return s.format(c)}}),relativetime:ws(function(n,r){var s=new Intl.RelativeTimeFormat(n,ri({},r));return function(c){return s.format(c,r.range||"day")}}),list:ws(function(n,r){var s=new Intl.ListFormat(n,ri({},r));return function(c){return s.format(c)}})},this.init(e)}return ur(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},s=r.interpolation;this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=ws(r)}},{key:"format",value:function(n,r,s,c){var S=this,f=r.split(this.formatSeparator),i=f.reduce(function(h,g){var a=u6(g),u=a.formatName,l=a.formatOptions;if(S.formats[u]){var d=h;try{var y=c&&c.formatParams&&c.formatParams[c.interpolationkey]||{},p=y.locale||y.lng||c.locale||c.lng||s;d=S.formats[u](h,p,ri(ri(ri({},l),c),y))}catch(v){S.logger.warn(v)}return d}else S.logger.warn("there was no format function for ".concat(u));return h},n);return i}}]),t}();function n1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function r1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(n),!0).forEach(function(r){br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f6(t){var e=h6();return function(){var r=xr(t),s;if(e){var c=xr(this).constructor;s=Reflect.construct(r,arguments,c)}else s=r.apply(this,arguments);return bo(this,s)}}function h6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d6(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var p6=function(t){rc(n,t);var e=f6(n);function n(r,s,c){var S,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return lr(this,n),S=e.call(this),ic&&_i.call(wi(S)),S.backend=r,S.store=s,S.services=c,S.languageUtils=c.languageUtils,S.options=f,S.logger=wr.create("backendConnector"),S.waitingReads=[],S.maxParallelReads=f.maxParallelReads||10,S.readingCalls=0,S.maxRetries=f.maxRetries>=0?f.maxRetries:5,S.retryTimeout=f.retryTimeout>=1?f.retryTimeout:350,S.state={},S.queue=[],S.backend&&S.backend.init&&S.backend.init(c,f.backend,f),S}return ur(n,[{key:"queueLoad",value:function(s,c,S,f){var i=this,h={},g={},a={},u={};return s.forEach(function(l){var d=!0;c.forEach(function(y){var p="".concat(l,"|").concat(y);!S.reload&&i.store.hasResourceBundle(l,y)?i.state[p]=2:i.state[p]<0||(i.state[p]===1?g[p]===void 0&&(g[p]=!0):(i.state[p]=1,d=!1,g[p]===void 0&&(g[p]=!0),h[p]===void 0&&(h[p]=!0),u[y]===void 0&&(u[y]=!0)))}),d||(a[l]=!0)}),(Object.keys(h).length||Object.keys(g).length)&&this.queue.push({pending:g,pendingCount:Object.keys(g).length,loaded:{},errors:[],callback:f}),{toLoad:Object.keys(h),pending:Object.keys(g),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(u)}}},{key:"loaded",value:function(s,c,S){var f=s.split("|"),i=f[0],h=f[1];c&&this.emit("failedLoading",i,h,c),S&&this.store.addResourceBundle(i,h,S),this.state[s]=c?-1:2;var g={};this.queue.forEach(function(a){Yk(a.loaded,[i],h),d6(a,s),c&&a.errors.push(c),a.pendingCount===0&&!a.done&&(Object.keys(a.loaded).forEach(function(u){g[u]||(g[u]={});var l=a.loaded[u];l.length&&l.forEach(function(d){g[u][d]===void 0&&(g[u][d]=!0)})}),a.done=!0,a.errors.length?a.callback(a.errors):a.callback())}),this.emit("loaded",g),this.queue=this.queue.filter(function(a){return!a.done})}},{key:"read",value:function(s,c,S){var f=this,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,g=arguments.length>5?arguments[5]:void 0;if(!s.length)return g(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:s,ns:c,fcName:S,tried:i,wait:h,callback:g});return}this.readingCalls++;var a=function(y,p){if(f.readingCalls--,f.waitingReads.length>0){var v=f.waitingReads.shift();f.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(y&&p&&i<f.maxRetries){setTimeout(function(){f.read.call(f,s,c,S,i+1,h*2,g)},h);return}g(y,p)},u=this.backend[S].bind(this.backend);if(u.length===2){try{var l=u(s,c);l&&typeof l.then=="function"?l.then(function(d){return a(null,d)}).catch(a):a(null,l)}catch(d){a(d)}return}return u(s,c,a)}},{key:"prepareLoading",value:function(s,c){var S=this,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof s=="string"&&(s=this.languageUtils.toResolveHierarchy(s)),typeof c=="string"&&(c=[c]);var h=this.queueLoad(s,c,f,i);if(!h.toLoad.length)return h.pending.length||i(),null;h.toLoad.forEach(function(g){S.loadOne(g)})}},{key:"load",value:function(s,c,S){this.prepareLoading(s,c,{},S)}},{key:"reload",value:function(s,c,S){this.prepareLoading(s,c,{reload:!0},S)}},{key:"loadOne",value:function(s){var c=this,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",f=s.split("|"),i=f[0],h=f[1];this.read(i,h,"read",void 0,void 0,function(g,a){g&&c.logger.warn("".concat(S,"loading namespace ").concat(h," for language ").concat(i," failed"),g),!g&&a&&c.logger.log("".concat(S,"loaded namespace ").concat(h," for language ").concat(i),a),c.loaded(s,g,a)})}},{key:"saveMissing",value:function(s,c,S,f,i){var h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(c)){this.logger.warn('did not save key "'.concat(S,'" as the namespace "').concat(c,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(S==null||S==="")){if(this.backend&&this.backend.create){var a=r1(r1({},h),{},{isUpdate:i}),u=this.backend.create.bind(this.backend);if(u.length<6)try{var l;u.length===5?l=u(s,c,S,f,a):l=u(s,c,S,f),l&&typeof l.then=="function"?l.then(function(d){return g(null,d)}).catch(g):g(null,l)}catch(d){g(d)}else u(s,c,S,f,g,a)}!s||!s[0]||this.store.addResource(s[0],c,S,f)}}}]),n}(_i);function i1(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(ir(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),ir(e[2])==="object"||ir(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(s){n[s]=r[s]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,s){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function s1(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function a1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a1(Object(n),!0).forEach(function(r){br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g6(t){var e=m6();return function(){var r=xr(t),s;if(e){var c=xr(this).constructor;s=Reflect.construct(r,arguments,c)}else s=r.apply(this,arguments);return bo(this,s)}}function m6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bl(){}function v6(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var Du=function(t){rc(n,t);var e=g6(n);function n(){var r,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;if(lr(this,n),r=e.call(this),ic&&_i.call(wi(r)),r.options=s1(s),r.services={},r.logger=wr,r.modules={external:[]},v6(wi(r)),c&&!r.isInitialized&&!s.isClone){if(!r.options.initImmediate)return r.init(s,c),bo(r,wi(r));setTimeout(function(){r.init(s,c)},0)}return r}return ur(n,[{key:"init",value:function(){var s=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=arguments.length>1?arguments[1]:void 0;typeof c=="function"&&(S=c,c={}),!c.defaultNS&&c.defaultNS!==!1&&c.ns&&(typeof c.ns=="string"?c.defaultNS=c.ns:c.ns.indexOf("translation")<0&&(c.defaultNS=c.ns[0]));var f=i1();this.options=pr(pr(pr({},f),this.options),s1(c)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=pr(pr({},f.interpolation),this.options.interpolation)),c.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=c.keySeparator),c.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=c.nsSeparator);function i(v){return v?typeof v=="function"?new v:v:null}if(!this.options.isClone){this.modules.logger?wr.init(i(this.modules.logger),this.options):wr.init(null,this.options);var h;this.modules.formatter?h=this.modules.formatter:typeof Intl<"u"&&(h=c6);var g=new Q0(this.options);this.store=new e6(this.options.resources,this.options);var a=this.services;a.logger=wr,a.resourceStore=this.store,a.languageUtils=g,a.pluralResolver=new o6(g,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===f.interpolation.format)&&(a.formatter=i(h),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new l6(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new p6(i(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(v){for(var w=arguments.length,C=new Array(w>1?w-1:0),x=1;x<w;x++)C[x-1]=arguments[x];s.emit.apply(s,[v].concat(C))}),this.modules.languageDetector&&(a.languageDetector=i(this.modules.languageDetector),a.languageDetector.init&&a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=i(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new Z0(this.services,this.options),this.translator.on("*",function(v){for(var w=arguments.length,C=new Array(w>1?w-1:0),x=1;x<w;x++)C[x-1]=arguments[x];s.emit.apply(s,[v].concat(C))}),this.modules.external.forEach(function(v){v.init&&v.init(s)})}if(this.format=this.options.interpolation.format,S||(S=Bl),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var l=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];l.forEach(function(v){s[v]=function(){var w;return(w=s.store)[v].apply(w,arguments)}});var d=["addResource","addResources","addResourceBundle","removeResourceBundle"];d.forEach(function(v){s[v]=function(){var w;return(w=s.store)[v].apply(w,arguments),s}});var y=Da(),p=function(){var w=function(x,b){s.isInitialized&&!s.initializedStoreOnce&&s.logger.warn("init: i18next is already initialized. You should call init just once!"),s.isInitialized=!0,s.options.isClone||s.logger.log("initialized",s.options),s.emit("initialized",s.options),y.resolve(b),S(x,b)};if(s.languages&&s.options.compatibilityAPI!=="v1"&&!s.isInitialized)return w(null,s.t.bind(s));s.changeLanguage(s.options.lng,w)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),y}},{key:"loadResources",value:function(s){var c=this,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bl,f=S,i=typeof s=="string"?s:this.language;if(typeof s=="function"&&(f=s),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode")return f();var h=[],g=function(l){if(!!l){var d=c.services.languageUtils.toResolveHierarchy(l);d.forEach(function(y){h.indexOf(y)<0&&h.push(y)})}};if(i)g(i);else{var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.forEach(function(u){return g(u)})}this.options.preload&&this.options.preload.forEach(function(u){return g(u)}),this.services.backendConnector.load(h,this.options.ns,function(u){!u&&!c.resolvedLanguage&&c.language&&c.setResolvedLanguage(c.language),f(u)})}else f(null)}},{key:"reloadResources",value:function(s,c,S){var f=Da();return s||(s=this.languages),c||(c=this.options.ns),S||(S=Bl),this.services.backendConnector.reload(s,c,function(i){f.resolve(),S(i)}),f}},{key:"use",value:function(s){if(!s)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!s.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return s.type==="backend"&&(this.modules.backend=s),(s.type==="logger"||s.log&&s.warn&&s.error)&&(this.modules.logger=s),s.type==="languageDetector"&&(this.modules.languageDetector=s),s.type==="i18nFormat"&&(this.modules.i18nFormat=s),s.type==="postProcessor"&&_2.addPostProcessor(s),s.type==="formatter"&&(this.modules.formatter=s),s.type==="3rdParty"&&this.modules.external.push(s),this}},{key:"setResolvedLanguage",value:function(s){if(!(!s||!this.languages)&&!(["cimode","dev"].indexOf(s)>-1))for(var c=0;c<this.languages.length;c++){var S=this.languages[c];if(!(["cimode","dev"].indexOf(S)>-1)&&this.store.hasLanguageSomeTranslations(S)){this.resolvedLanguage=S;break}}}},{key:"changeLanguage",value:function(s,c){var S=this;this.isLanguageChangingTo=s;var f=Da();this.emit("languageChanging",s);var i=function(u){S.language=u,S.languages=S.services.languageUtils.toResolveHierarchy(u),S.resolvedLanguage=void 0,S.setResolvedLanguage(u)},h=function(u,l){l?(i(l),S.translator.changeLanguage(l),S.isLanguageChangingTo=void 0,S.emit("languageChanged",l),S.logger.log("languageChanged",l)):S.isLanguageChangingTo=void 0,f.resolve(function(){return S.t.apply(S,arguments)}),c&&c(u,function(){return S.t.apply(S,arguments)})},g=function(u){!s&&!u&&S.services.languageDetector&&(u=[]);var l=typeof u=="string"?u:S.services.languageUtils.getBestMatchFromCodes(u);l&&(S.language||i(l),S.translator.language||S.translator.changeLanguage(l),S.services.languageDetector&&S.services.languageDetector.cacheUserLanguage&&S.services.languageDetector.cacheUserLanguage(l)),S.loadResources(l,function(d){h(d,l)})};return!s&&this.services.languageDetector&&!this.services.languageDetector.async?g(this.services.languageDetector.detect()):!s&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(g):this.services.languageDetector.detect(g):g(s),f}},{key:"getFixedT",value:function(s,c,S){var f=this,i=function h(g,a){var u;if(ir(a)!=="object"){for(var l=arguments.length,d=new Array(l>2?l-2:0),y=2;y<l;y++)d[y-2]=arguments[y];u=f.options.overloadTranslationOptionHandler([g,a].concat(d))}else u=pr({},a);u.lng=u.lng||h.lng,u.lngs=u.lngs||h.lngs,u.ns=u.ns||h.ns,u.keyPrefix=u.keyPrefix||S||h.keyPrefix;var p=f.options.keySeparator||".",v;return u.keyPrefix&&Array.isArray(g)?v=g.map(function(w){return"".concat(u.keyPrefix).concat(p).concat(w)}):v=u.keyPrefix?"".concat(u.keyPrefix).concat(p).concat(g):g,f.t(v,u)};return typeof s=="string"?i.lng=s:i.lngs=s,i.ns=c,i.keyPrefix=S,i}},{key:"t",value:function(){var s;return this.translator&&(s=this.translator).translate.apply(s,arguments)}},{key:"exists",value:function(){var s;return this.translator&&(s=this.translator).exists.apply(s,arguments)}},{key:"setDefaultNamespace",value:function(s){this.options.defaultNS=s}},{key:"hasLoadedNamespace",value:function(s){var c=this,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var f=this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,h=this.languages[this.languages.length-1];if(f.toLowerCase()==="cimode")return!0;var g=function(l,d){var y=c.services.backendConnector.state["".concat(l,"|").concat(d)];return y===-1||y===2};if(S.precheck){var a=S.precheck(this,g);if(a!==void 0)return a}return!!(this.hasResourceBundle(f,s)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||g(f,s)&&(!i||g(h,s)))}},{key:"loadNamespaces",value:function(s,c){var S=this,f=Da();return this.options.ns?(typeof s=="string"&&(s=[s]),s.forEach(function(i){S.options.ns.indexOf(i)<0&&S.options.ns.push(i)}),this.loadResources(function(i){f.resolve(),c&&c(i)}),f):(c&&c(),Promise.resolve())}},{key:"loadLanguages",value:function(s,c){var S=Da();typeof s=="string"&&(s=[s]);var f=this.options.preload||[],i=s.filter(function(h){return f.indexOf(h)<0});return i.length?(this.options.preload=f.concat(i),this.loadResources(function(h){S.resolve(),c&&c(h)}),S):(c&&c(),Promise.resolve())}},{key:"dir",value:function(s){if(s||(s=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!s)return"rtl";var c=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],S=this.services&&this.services.languageUtils||new Q0(i1());return c.indexOf(S.getLanguagePartFromCode(s))>-1||s.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var s=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bl,f=pr(pr(pr({},this.options),c),{isClone:!0}),i=new n(f);(c.debug!==void 0||c.prefix!==void 0)&&(i.logger=i.logger.clone(c));var h=["store","services","language"];return h.forEach(function(g){i[g]=s[g]}),i.services=pr({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new Z0(i.services,i.options),i.translator.on("*",function(g){for(var a=arguments.length,u=new Array(a>1?a-1:0),l=1;l<a;l++)u[l-1]=arguments[l];i.emit.apply(i,[g].concat(u))}),i.init(f,S),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(_i);br(Du,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Du(t,e)});var Xt=Du.createInstance();Xt.createInstance=Du.createInstance;Xt.createInstance;Xt.dir;Xt.init;Xt.loadResources;Xt.reloadResources;Xt.use;Xt.changeLanguage;Xt.getFixedT;Xt.t;Xt.exists;Xt.setDefaultNamespace;Xt.hasLoadedNamespace;Xt.loadNamespaces;Xt.loadLanguages;const y6={draw:"Draw",eraser:"Eraser",select:"Select",board:"Board"},w6={basic:"Basic",rainbow:"Rainbow",shape:"Shape",material:"Material",pixels:"Pixels",multiColor:"MultiColor",text:"Text",multiLine:"MultiLine",reticulate:"Reticulate",multiPoint:"MultiPoint",wiggle:"Wiggle",thorn:"Thorn"},S6={undo:"undo",redo:"redo",copy:"copy",delete:"delete",text:"add text",image:"upload image",clean:"clean",save:"Save as image"},C6={welecome:"Welcome to star",DrawMode:{line1:"Provides 12 different styles of brushes, including Basic Brush, Rainbow Brush, Multi-Shape Brush, Multi-Material Brush, Pixel Brush, Multi-Color Brush, Text Brush, Multi-Line Connection Brush, Reticulate Brush, Multi-Point Connection Brush, Wiggle Brush, Thorn Brush. Satisfy the diversified drawing",line2:"All brushes support color and brush width configurations",line3:"MultiShape allows flexible configuration of shape types and quantities",line4:"Material and MultiColor allows you to adjust the material type of the brush",line5:"Text drawing support for cyclic text and font configuration"},EraserMode:{line1:"Eraser mode linearly erases all content",line2:"Supports linear width configurations"},SelectMode:{line1:"In selection mode, you can click on the content of the drawing to select it",line2:"Click handle supports drag and drop, zoom and rotate operations, providing flexible editing options",line3:"Selecting images supports multiple filter configurations",line4:"Support for font configuration when selecting text",line5:"Layer settings are supported for all drawings, including Move Layer Up, Move Layer Down, Move to Top, and Move to Bottom",line6:"All drawings support transparency configurations"},BoardMode:{line1:"Drawing board support for configuring background color and transparency configurations"},BorderConfig:{line1:"The bottom left button shows the current zoom ratio in real time, click it to reset the zoom ratio",line2:"The list of buttons in the center, in order from left to right, are: Undo, Redo, Copy Current Selection, Delete Current Selection, Draw Text, Upload Image, Clear Drawing, Save as Image, and Open File List",line3:"PC: Hold down the Space key and click the left mouse button to move the canvas, scroll the mouse wheel to realize the canvas zoom, hold down the Backspace key to delete the selected content, and hold down the Ctrl + V keys to paste the clipboard image at the same time",line4:"Mobile: support for dragging and zooming the canvas after a two-finger press"},FileConfig:{line1:"Multi-file configuration: support multiple canvas switching, each canvas can be customized title, add, delete, and provide upload and download"}},_6={title:"Confirm clearing content?",confirm:"Confirmed",cancel:"Cancel"},x6={title:"Confirm deleting the current file?",confirm:"Confirmed",cancel:"Cancel"},b6={uploadFileFail:"Upload failed, please try again"},T6={Sepia:"Sepia",Invert:"Invert",BlackWhite:"BlackWhite",Grayscale:"Grayscale",Blur:"Blur",Vintage:"Vintage",BlendColor:"BlendColor",Brownie:"Brownie",Kodachrome:"Kodachrome",Pixelate:"Pixelate",Polaroid:"Polaroid",Technicolor:"Technicolor",Brightness:"Brightness",Noise:"Noise",Convolute:"Emboss"},E6={cacheTip:"In the presence of a large amount of drawing content, enabling caching will improve drawing performance, while disabling caching will improve canvas sharpness"},O6={tool:y6,style:w6,operate:S6,info:C6,cleanModal:_6,deleteFileModal:x6,toast:b6,filters:T6,boardConfig:E6},P6={draw:"\u7ED8\u753B",eraser:"\u6A61\u76AE\u64E6",select:"\u9009\u62E9",board:"\u753B\u677F"},k6={basic:"\u57FA\u7840",rainbow:"\u5F69\u8679 ",shape:"\u591A\u5F62\u72B6",material:"\u7D20\u6750",pixels:"\u50CF\u7D20",multiColor:"\u591A\u8272",text:"\u6587\u5B57",multiLine:"\u591A\u7EBF\u8FDE\u63A5",reticulate:"\u7F51\u72B6",multiPoint:"\u591A\u70B9\u8FDE\u63A5",wiggle:"\u6CE2\u6D6A\u66F2\u7EBF",thorn:"\u8346\u68D8"},L6={undo:"\u64A4\u9500",redo:"\u91CD\u505A",copy:"\u590D\u5236",delete:"\u5220\u9664",text:"\u6DFB\u52A0\u6587\u5B57",image:"\u4E0A\u4F20\u56FE\u7247",clean:"\u6E05\u9664\u753B\u677F",save:"\u4FDD\u5B58\u4E3A\u56FE\u7247"},M6={welecome:"\u6B22\u8FCEStar",DrawMode:{line1:"\u63D0\u4F9B\u4E86 12 \u79CD\u4E0D\u540C\u98CE\u683C\u7684\u753B\u7B14\uFF0C\u5305\u62EC\u57FA\u672C\u753B\u7B14\uFF0C\u5F69\u8679\u753B\u7B14\uFF0C\u591A\u5F62\u72B6\u753B\u7B14\uFF0C\u591A\u7D20\u6750\u753B\u7B14\uFF0C\u50CF\u7D20\u753B\u7B14\uFF0C\u591A\u8272\u753B\u7B14\uFF0C\u6587\u5B57\u753B\u7B14\uFF0C\u591A\u7EBF\u8FDE\u63A5\u753B\u7B14\uFF0C\u7F51\u72B6\u753B\u7B14\uFF0C\u591A\u70B9\u8FDE\u63A5\u753B\u7B14\uFF0C\u6CE2\u6D6A\u66F2\u7EBF\u753B\u7B14\uFF0C\u8346\u68D8\u753B\u7B14\u3002\u6EE1\u8DB3\u591A\u6837\u5316\u7684\u7ED8\u753B",line2:"\u6240\u6709\u753B\u7B14\u5747\u652F\u6301\u989C\u8272\u548C\u753B\u7B14\u5BBD\u5EA6\u7684\u914D\u7F6E",line3:"\u591A\u5F62\u72B6\u53EF\u4EE5\u7075\u6D3B\u914D\u7F6E\u5F62\u72B6\u7C7B\u578B\u548C\u6570\u91CF",line4:"\u7D20\u6750\u548C\u591A\u8272\u53EF\u4EE5\u8C03\u6574\u753B\u7B14\u7684\u7D20\u6750\u7C7B\u578B",line5:"\u6587\u5B57\u7ED8\u5236\u652F\u6301\u5FAA\u73AF\u6587\u6848\u914D\u7F6E\u548C\u5B57\u4F53\u4FEE\u6539"},EraserMode:{line1:"\u6A61\u76AE\u64E6\u6A21\u5F0F\u53EF\u4EE5\u7EBF\u6027\u64E6\u9664\u6240\u6709\u5185\u5BB9",line2:"\u652F\u6301\u7EBF\u6027\u5BBD\u5EA6\u914D\u7F6E"},SelectMode:{line1:"\u5728\u9009\u62E9\u6A21\u5F0F\u4E0B\uFF0C\u53EF\u4EE5\u901A\u8FC7\u70B9\u51FB\u7ED8\u753B\u5185\u5BB9\u8FDB\u884C\u6846\u9009",line2:"\u70B9\u51FB\u624B\u67C4\u652F\u6301\u62D6\u62FD\u3001\u7F29\u653E\u548C\u65CB\u8F6C\u64CD\u4F5C\uFF0C\u63D0\u4F9B\u7075\u6D3B\u7684\u7F16\u8F91\u65B9\u5F0F",line3:"\u9009\u62E9\u56FE\u7247\u652F\u6301\u591A\u79CD\u6EE4\u955C\u914D\u7F6E",line4:"\u9009\u62E9\u6587\u5B57\u65F6\uFF0C\u652F\u6301\u5B57\u4F53\u8BBE\u7F6E",line5:"\u6240\u6709\u7ED8\u5236\u5185\u5BB9\u5747\u652F\u6301\u56FE\u5C42\u8BBE\u7F6E\uFF0C\u5305\u62EC\u5411\u4E0A\u79FB\u52A8\u5C42\u7EA7\u3001\u5411\u4E0B\u79FB\u52A8\u5C42\u7EA7\u3001\u79FB\u52A8\u81F3\u9876\u5C42\u548C\u79FB\u52A8\u81F3\u5E95\u5C42",line6:"\u6240\u6709\u7ED8\u5236\u5185\u5BB9\u652F\u6301\u900F\u660E\u5EA6\u914D\u7F6E"},BoardMode:{line1:"\u753B\u677F\u652F\u6301\u914D\u7F6E\u80CC\u666F\u989C\u8272\u548C\u900F\u660E\u5EA6\u914D\u7F6E"},BorderConfig:{line1:"\u5DE6\u4E0B\u89D2\u6309\u94AE\u5B9E\u65F6\u663E\u793A\u5F53\u524D\u7F29\u653E\u6BD4\u4F8B\uFF0C\u70B9\u51FB\u5373\u53EF\u91CD\u7F6E\u7F29\u653E\u6BD4\u4F8B",line2:"\u4E2D\u95F4\u6309\u94AE\u5217\u8868\u6309\u4ECE\u5DE6\u5230\u53F3\u7684\u987A\u5E8F\u5206\u522B\u4E3A\uFF1A\u64A4\u9500\u3001\u53CD\u64A4\u9500\u3001\u590D\u5236\u5F53\u524D\u9009\u62E9\u5185\u5BB9\u3001\u5220\u9664\u5F53\u524D\u9009\u62E9\u5185\u5BB9\u3001\u7ED8\u5236\u6587\u5B57\u3001\u4E0A\u4F20\u56FE\u7247\u3001\u6E05\u9664\u7ED8\u5236\u5185\u5BB9\u3001\u4FDD\u5B58\u4E3A\u56FE\u7247\u3001\u6253\u5F00\u6587\u4EF6\u5217\u8868",line3:"\u7535\u8111\u7AEF\uFF1A\u6309\u4F4F Space \u952E\u5E76\u70B9\u51FB\u9F20\u6807\u5DE6\u952E\u53EF\u79FB\u52A8\u753B\u5E03\uFF0C\u6EDA\u52A8\u9F20\u6807\u6EDA\u8F6E\u5B9E\u73B0\u753B\u5E03\u7F29\u653E\uFF0C\u6309\u4F4F Backspace \u952E\u53EF\u5220\u9664\u5DF2\u9009\u5185\u5BB9\uFF0C\u540C\u65F6\u6309\u4F4F Ctrl \u952E + V \u952E\u53EF\u7C98\u8D34\u526A\u8D34\u677F\u56FE\u7247",line4:"\u79FB\u52A8\u7AEF\uFF1A\u652F\u6301\u53CC\u6307\u6309\u538B\u540E\u62D6\u62FD\u548C\u7F29\u653E\u753B\u5E03"},FileConfig:{line1:"\u591A\u6587\u4EF6\u914D\u7F6E\uFF1A\u652F\u6301\u591A\u4E2A\u753B\u5E03\u5207\u6362\uFF0C\u6BCF\u4E2A\u753B\u5E03\u53EF\u81EA\u5B9A\u4E49\u6807\u9898\u3001\u589E\u52A0\u3001\u5220\u9664\uFF0C\u5E76\u63D0\u4F9B\u4E0A\u4F20\u548C\u4E0B\u8F7D\u529F\u80FD"}},A6={title:"\u786E\u8BA4\u6E05\u9664\u5185\u5BB9\uFF1F",confirm:"\u786E\u8BA4",cancel:"\u53D6\u6D88"},D6={title:"\u786E\u8BA4\u5220\u9664\u5F53\u524D\u6587\u4EF6\u5417\uFF1F",confirm:"\u786E\u8BA4",cancel:"\u53D6\u6D88"},R6={uploadFileFail:"\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"},I6={Sepia:"\u590D\u53E4",Invert:"\u5E95\u7247",BlackWhite:"\u9ED1\u767D",Grayscale:"\u7070\u5EA6",Blur:"\u6A21\u7CCA",Vintage:"\u53E4\u5178",BlendColor:"\u6DF7\u8272",Brownie:"\u68D5\u4ED9",Kodachrome:"\u80F6\u7247",Pixelate:"\u50CF\u7D20",Polaroid:"\u5B9D\u4E3D\u6765",Technicolor:"\u5F69\u8272",Brightness:"\u589E\u4EAE",Noise:"\u566A\u70B9",Convolute:"\u6D6E\u96D5"},F6={cacheTip:"\u5728\u5B58\u5728\u5927\u91CF\u7ED8\u5236\u5185\u5BB9\u7684\u60C5\u51B5\u4E0B\uFF0C\u542F\u7528\u7F13\u5B58\u5C06\u63D0\u9AD8\u7ED8\u5236\u6027\u80FD\uFF0C\u800C\u7981\u7528\u7F13\u5B58\u5219\u4F1A\u63D0\u5347\u753B\u5E03\u6E05\u6670\u5EA6"},N6={tool:P6,style:k6,operate:L6,info:M6,cleanModal:A6,deleteFileModal:D6,toast:R6,filters:I6,boardConfig:F6},B6=wt.getState().language;Xt.use(K8).init({resources:{en:{translation:O6},zh:{translation:N6}},lng:B6});{const t=document.createElement("script");t.textContent=`
  (function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
  })(window, document, "clarity", "script", "k06rclje17");
  `,t.async=!0,document.body.appendChild(t)}oh.createRoot(document.getElementById("root")).render(G(ea.StrictMode,{children:G(Wk,{})}));
